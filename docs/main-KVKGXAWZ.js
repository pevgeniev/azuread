import"./chunk-X6YHEMIY.js";import{$ as _r,$a as pm,A as zs,Aa as Zo,Ab as Mi,B as cm,Ba as ea,Bb as li,C as Ut,Ca as ev,Cb as ut,D as lm,Da as tv,Db as ht,E as vr,Ea as iv,Eb as Oe,F as Qr,Fa as rv,Fb as Xr,G as dm,Ga as nv,Gb as Un,H as jg,Ha as ov,Hb as Cr,I as Hg,Ia as av,Ib as gv,J as zg,Ja as si,Jb as vv,K as ld,Ka as sv,Kb as bv,L as $s,La as cv,Lb as yv,M as gt,Ma as lv,Mb as _v,N as ai,Na as Ve,Nb as di,O as vt,Oa as ta,Ob as bm,P as Be,Pa as $i,Pb as wv,Q as br,Qa as Xs,Qb as Cv,R as X,Ra as ia,Rb as Mt,S as pe,Sa as hm,Sb as Ev,T as $g,Ta as Y,Tb as ym,U as ae,Ua as ra,Ub as oa,V as um,Va as Gi,Vb as Zr,W as N,Wa as dv,Wb as Oi,X as ie,Xa as mm,Xb as jn,Y as yr,Ya as _e,Yb as en,Z as Gg,Za as fe,_ as qg,_a as Le,a as Ii,aa as Ri,ab as Nt,b as Ng,ba as ki,bb as bt,c as fr,ca as Gs,cb as fm,d as nm,da as qs,db as uv,e as om,ea as Jr,eb as hd,f as Me,fa as Ks,fb as md,fc as Sv,g as kt,ga as Ct,gb as gm,gc as ec,h as Vg,ha as Kg,hb as vm,hc as pd,i as Ti,ia as Wg,ib as hv,j as Je,ja as Ws,jb as na,jc as Av,k as ce,ka as xt,kb as tt,kc as fd,l as gr,la as ye,lb as yt,m as ad,ma as Bn,mb as Ye,mc as Iv,n as Lg,na as Yg,nb as ci,o as ve,oa as Ue,ob as Di,p as Hs,pa as Qg,pb as de,q as bi,qa as dd,qb as ue,r as sd,ra as Jg,rb as Ge,rc as Tv,s as am,sa as wr,sb as Zs,t as Bg,ta as Ft,tb as mv,u as Ug,ua as Ys,ub as yi,v as cd,va as Xg,vb as pv,w as dt,wa as ud,wb as Wt,x as sm,xa as Zg,xb as Dt,y as Kt,ya as Qs,yb as We,z as zi,za as Js,zb as fv}from"./chunk-UNCSIUUI.js";import{a as x,b as oe,c as pr,d as YC,e as oi,f as Fg,g as Xo,h as O}from"./chunk-MG3ERZGY.js";var mg=YC((rd,hg)=>{"use strict";(function(t,e){typeof rd=="object"&&typeof hg=="object"?hg.exports=e():typeof define=="function"&&define.amd?define([],e):typeof rd=="object"?rd["powerbi-client"]=e():t["powerbi-client"]=e()})(rd,()=>(()=>{var r={"./node_modules/http-post-message/dist/httpPostMessage.js":function(n){(function(a,l){n.exports=l()})(this,function(){return function(o){var a={};function l(d){if(a[d])return a[d].exports;var b=a[d]={exports:{},id:d,loaded:!1};return o[d].call(b.exports,b,b.exports,l),b.loaded=!0,b.exports}return l.m=o,l.c=a,l.p="",l(0)}([function(o,a){"use strict";var l=function(){function d(b,s,E){s===void 0&&(s={}),this.defaultHeaders=s,this.defaultTargetWindow=E,this.windowPostMessageProxy=b}return d.addTrackingProperties=function(b,s){return b.headers=b.headers||{},s&&s.id&&(b.headers.id=s.id),b},d.getTrackingProperties=function(b){return{id:b.headers&&b.headers.id}},d.isErrorMessage=function(b){return typeof(b&&b.statusCode)!="number"?!1:!(200<=b.statusCode&&b.statusCode<300)},d.prototype.get=function(b,s,E){return s===void 0&&(s={}),E===void 0&&(E=this.defaultTargetWindow),this.send({method:"GET",url:b,headers:s},E)},d.prototype.post=function(b,s,E,w){return E===void 0&&(E={}),w===void 0&&(w=this.defaultTargetWindow),this.send({method:"POST",url:b,headers:E,body:s},w)},d.prototype.put=function(b,s,E,w){return E===void 0&&(E={}),w===void 0&&(w=this.defaultTargetWindow),this.send({method:"PUT",url:b,headers:E,body:s},w)},d.prototype.patch=function(b,s,E,w){return E===void 0&&(E={}),w===void 0&&(w=this.defaultTargetWindow),this.send({method:"PATCH",url:b,headers:E,body:s},w)},d.prototype.delete=function(b,s,E,w){return s===void 0&&(s=null),E===void 0&&(E={}),w===void 0&&(w=this.defaultTargetWindow),this.send({method:"DELETE",url:b,headers:E,body:s},w)},d.prototype.send=function(b,s){if(s===void 0&&(s=this.defaultTargetWindow),b.headers=this.assign({},this.defaultHeaders,b.headers),!s)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(s,b)},d.prototype.assign=function(b){for(var s=[],E=1;E<arguments.length;E++)s[E-1]=arguments[E];if(b==null)throw new TypeError("Cannot convert undefined or null to object");var w=Object(b);return s.forEach(function(v){if(v!=null)for(var _ in v)Object.prototype.hasOwnProperty.call(v,_)&&(w[_]=v[_])}),w},d}();a.HttpPostMessage=l}])})},"./node_modules/powerbi-models/dist/models.js":function(n){(function(a,l){n.exports=l()})(this,()=>(()=>{var o=[function(b,s,E){var w=this&&this.__extends||function(){var I=function(P,W){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Te){be.__proto__=Te}||function(be,Te){for(var xe in Te)Object.prototype.hasOwnProperty.call(Te,xe)&&(be[xe]=Te[xe])},I(P,W)};return function(P,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");I(P,W);function be(){this.constructor=P}P.prototype=W===null?Object.create(W):(be.prototype=W.prototype,new be)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.CommonErrorCodes=s.BookmarksPlayMode=s.ExportDataType=s.QnaMode=s.PageNavigationPosition=s.BrowserPrintAdjustmentsMode=s.AggregateFunction=s.DataCacheMode=s.CredentialType=s.isPercentOfGrandTotal=s.isColumnAggr=s.isHierarchyLevelAggr=s.isHierarchyLevel=s.isColumn=s.isMeasure=s.getFilterType=s.isBasicFilterWithKeys=s.isFilterKeyColumnsTarget=s.HierarchyIdentityFilter=s.HierarchyFilter=s.AdvancedFilter=s.TupleFilter=s.IdentityFilter=s.BasicFilterWithKeys=s.BasicFilter=s.RelativeTimeFilter=s.RelativeDateFilter=s.TopNFilter=s.IncludeExcludeFilter=s.NotSupportedFilter=s.Filter=s.RelativeDateOperators=s.RelativeDateFilterTimeUnit=s.FilterType=s.FiltersLevel=s.FiltersOperations=s.MenuLocation=s.ContrastMode=s.TokenType=s.ViewMode=s.Permissions=s.SectionVisibility=s.ReportAlignment=s.HyperlinkClickBehavior=s.LayoutType=s.VisualContainerDisplayMode=s.BackgroundType=s.DisplayOption=s.PageSizeType=s.TraceType=void 0,s.validateExportDataRequest=s.validateQnaInterpretInputData=s.validateLoadQnaConfiguration=s.validateSaveAsParameters=s.validateUpdateFiltersRequest=s.validateFilter=s.validatePage=s.validateTileLoad=s.validateDashboardLoad=s.validateQuickCreate=s.validateCreateReport=s.validatePaginatedReportLoad=s.validateReportLoad=s.validateMenuGroupExtension=s.validateExtension=s.validateCustomPageSize=s.validateVisualizationsPane=s.validateSyncSlicersPane=s.validateSelectionPane=s.validatePageNavigationPane=s.validateFieldsPane=s.validateFiltersPane=s.validateBookmarksPane=s.validatePanes=s.validateSettings=s.validateCaptureBookmarkRequest=s.validateApplyBookmarkStateRequest=s.validateApplyBookmarkByNameRequest=s.validateAddBookmarkRequest=s.validatePlayBookmarkRequest=s.validateSlicerState=s.validateSlicer=s.validateVisualSelector=s.isIExtensionArray=s.isIExtensions=s.isGroupedMenuExtension=s.isFlatMenuExtension=s.isReportFiltersArray=s.isOnLoadFilters=s.VisualDataRoleKindPreference=s.VisualDataRoleKind=s.CommandDisplayOption=s.SlicerTargetSelector=s.VisualTypeSelector=s.VisualSelector=s.PageSelector=s.Selector=s.SortDirection=s.LegendPosition=s.TextAlignment=void 0,s.validatePrintSettings=s.validateZoomLevel=s.validateCustomTheme=s.validateCommandsSettings=s.validateVisualSettings=s.validateVisualHeader=void 0;var v=E(1),_;(function(I){I[I.Information=0]="Information",I[I.Verbose=1]="Verbose",I[I.Warning=2]="Warning",I[I.Error=3]="Error",I[I.ExpectedError=4]="ExpectedError",I[I.UnexpectedError=5]="UnexpectedError",I[I.Fatal=6]="Fatal"})(_=s.TraceType||(s.TraceType={}));var c;(function(I){I[I.Widescreen=0]="Widescreen",I[I.Standard=1]="Standard",I[I.Cortana=2]="Cortana",I[I.Letter=3]="Letter",I[I.Custom=4]="Custom",I[I.Mobile=5]="Mobile"})(c=s.PageSizeType||(s.PageSizeType={}));var f;(function(I){I[I.FitToPage=0]="FitToPage",I[I.FitToWidth=1]="FitToWidth",I[I.ActualSize=2]="ActualSize"})(f=s.DisplayOption||(s.DisplayOption={}));var C;(function(I){I[I.Default=0]="Default",I[I.Transparent=1]="Transparent"})(C=s.BackgroundType||(s.BackgroundType={}));var y;(function(I){I[I.Visible=0]="Visible",I[I.Hidden=1]="Hidden"})(y=s.VisualContainerDisplayMode||(s.VisualContainerDisplayMode={}));var h;(function(I){I[I.Master=0]="Master",I[I.Custom=1]="Custom",I[I.MobilePortrait=2]="MobilePortrait",I[I.MobileLandscape=3]="MobileLandscape"})(h=s.LayoutType||(s.LayoutType={}));var u;(function(I){I[I.Navigate=0]="Navigate",I[I.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",I[I.RaiseEvent=2]="RaiseEvent"})(u=s.HyperlinkClickBehavior||(s.HyperlinkClickBehavior={}));var g;(function(I){I[I.Left=0]="Left",I[I.Center=1]="Center",I[I.Right=2]="Right",I[I.None=3]="None"})(g=s.ReportAlignment||(s.ReportAlignment={}));var m;(function(I){I[I.AlwaysVisible=0]="AlwaysVisible",I[I.HiddenInViewMode=1]="HiddenInViewMode"})(m=s.SectionVisibility||(s.SectionVisibility={}));var p;(function(I){I[I.Read=0]="Read",I[I.ReadWrite=1]="ReadWrite",I[I.Copy=2]="Copy",I[I.Create=4]="Create",I[I.All=7]="All"})(p=s.Permissions||(s.Permissions={}));var A;(function(I){I[I.View=0]="View",I[I.Edit=1]="Edit"})(A=s.ViewMode||(s.ViewMode={}));var S;(function(I){I[I.Aad=0]="Aad",I[I.Embed=1]="Embed"})(S=s.TokenType||(s.TokenType={}));var T;(function(I){I[I.None=0]="None",I[I.HighContrast1=1]="HighContrast1",I[I.HighContrast2=2]="HighContrast2",I[I.HighContrastBlack=3]="HighContrastBlack",I[I.HighContrastWhite=4]="HighContrastWhite"})(T=s.ContrastMode||(s.ContrastMode={}));var R;(function(I){I[I.Bottom=0]="Bottom",I[I.Top=1]="Top"})(R=s.MenuLocation||(s.MenuLocation={}));var D;(function(I){I[I.RemoveAll=0]="RemoveAll",I[I.ReplaceAll=1]="ReplaceAll",I[I.Add=2]="Add",I[I.Replace=3]="Replace"})(D=s.FiltersOperations||(s.FiltersOperations={}));var M;(function(I){I[I.Report=0]="Report",I[I.Page=1]="Page",I[I.Visual=2]="Visual"})(M=s.FiltersLevel||(s.FiltersLevel={}));var V;(function(I){I[I.Advanced=0]="Advanced",I[I.Basic=1]="Basic",I[I.Unknown=2]="Unknown",I[I.IncludeExclude=3]="IncludeExclude",I[I.RelativeDate=4]="RelativeDate",I[I.TopN=5]="TopN",I[I.Tuple=6]="Tuple",I[I.RelativeTime=7]="RelativeTime",I[I.Identity=8]="Identity",I[I.Hierarchy=9]="Hierarchy",I[I.HierarchyIdentity=10]="HierarchyIdentity"})(V=s.FilterType||(s.FilterType={}));var H;(function(I){I[I.Days=0]="Days",I[I.Weeks=1]="Weeks",I[I.CalendarWeeks=2]="CalendarWeeks",I[I.Months=3]="Months",I[I.CalendarMonths=4]="CalendarMonths",I[I.Years=5]="Years",I[I.CalendarYears=6]="CalendarYears",I[I.Minutes=7]="Minutes",I[I.Hours=8]="Hours"})(H=s.RelativeDateFilterTimeUnit||(s.RelativeDateFilterTimeUnit={}));var Q;(function(I){I[I.InLast=0]="InLast",I[I.InThis=1]="InThis",I[I.InNext=2]="InNext"})(Q=s.RelativeDateOperators||(s.RelativeDateOperators={}));var F=function(){function I(P,W){this.target=P,this.filterType=W}return I.prototype.toJSON=function(){var P={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return this.displaySettings!==void 0&&(P.displaySettings=this.displaySettings),P},I}();s.Filter=F;var K=function(I){w(P,I);function P(W,be,Te){var xe=I.call(this,W,V.Unknown)||this;return xe.message=be,xe.notSupportedTypeName=Te,xe.schemaUrl=P.schemaUrl,xe}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.message=this.message,W.notSupportedTypeName=this.notSupportedTypeName,W},P.schemaUrl="http://powerbi.com/product/schema#notSupported",P}(F);s.NotSupportedFilter=K;var q=function(I){w(P,I);function P(W,be,Te){var xe=I.call(this,W,V.IncludeExclude)||this;return xe.target=W,xe.values=Te,xe.isExclude=be,xe.schemaUrl=P.schemaUrl,xe}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.isExclude=this.isExclude,W.values=this.values,W},P.schemaUrl="http://powerbi.com/product/schema#includeExclude",P}(F);s.IncludeExcludeFilter=q;var J=function(I){w(P,I);function P(W,be,Te,xe){var Ke=I.call(this,W,V.TopN)||this;return Ke.operator=be,Ke.itemCount=Te,Ke.schemaUrl=P.schemaUrl,Ke.orderBy=xe,Ke}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.itemCount=this.itemCount,W.orderBy=this.orderBy,W},P.schemaUrl="http://powerbi.com/product/schema#topN",P}(F);s.TopNFilter=J;var le=function(I){w(P,I);function P(W,be,Te,xe,Ke){var Rt=I.call(this,W,V.RelativeDate)||this;return Rt.operator=be,Rt.timeUnitsCount=Te,Rt.timeUnitType=xe,Rt.includeToday=Ke,Rt.schemaUrl=P.schemaUrl,Rt}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.timeUnitsCount=this.timeUnitsCount,W.timeUnitType=this.timeUnitType,W.includeToday=this.includeToday,W},P.schemaUrl="http://powerbi.com/product/schema#relativeDate",P}(F);s.RelativeDateFilter=le;var j=function(I){w(P,I);function P(W,be,Te,xe){var Ke=I.call(this,W,V.RelativeTime)||this;return Ke.operator=be,Ke.timeUnitsCount=Te,Ke.timeUnitType=xe,Ke.schemaUrl=P.schemaUrl,Ke}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.timeUnitsCount=this.timeUnitsCount,W.timeUnitType=this.timeUnitType,W},P.schemaUrl="http://powerbi.com/product/schema#relativeTime",P}(F);s.RelativeTimeFilter=j;var De=function(I){w(P,I);function P(W,be){for(var Te=[],xe=2;xe<arguments.length;xe++)Te[xe-2]=arguments[xe];var Ke=I.call(this,W,V.Basic)||this;if(Ke.operator=be,Ke.schemaUrl=P.schemaUrl,Te.length===0&&be!=="All")throw new Error('values must be a non-empty array unless your operator is "All".');return Array.isArray(Te[0])?Ke.values=Te[0]:Ke.values=Te,Ke}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.values=this.values,W.requireSingleSelection=!!this.requireSingleSelection,W},P.schemaUrl="http://powerbi.com/product/schema#basic",P}(F);s.BasicFilter=De;var He=function(I){w(P,I);function P(W,be,Te,xe){var Ke=I.call(this,W,be,Te)||this;Ke.keyValues=xe,Ke.target=W;var Rt=W.keys?W.keys.length:0;if(Rt>0&&!xe)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(Rt," keys"));if(Rt===0&&xe&&xe.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var rm=0,Og=Ke.keyValues;rm<Og.length;rm++){var Pg=Og[rm];if(Pg){var xg=Pg.length;if(xg!==Rt)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(xg," values and ").concat(Rt," keys"))}}return Ke}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.keyValues=this.keyValues,W},P}(De);s.BasicFilterWithKeys=He;var L=function(I){w(P,I);function P(W,be){var Te=I.call(this,W,V.Identity)||this;return Te.operator=be,Te.schemaUrl=P.schemaUrl,Te}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.target=this.target,W},P.schemaUrl="http://powerbi.com/product/schema#identity",P}(F);s.IdentityFilter=L;var $=function(I){w(P,I);function P(W,be,Te){var xe=I.call(this,W,V.Tuple)||this;return xe.operator=be,xe.schemaUrl=P.schemaUrl,xe.values=Te,xe}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.operator=this.operator,W.values=this.values,W.target=this.target,W},P.schemaUrl="http://powerbi.com/product/schema#tuple",P}(F);s.TupleFilter=$;var z=function(I){w(P,I);function P(W,be){for(var Te=[],xe=2;xe<arguments.length;xe++)Te[xe-2]=arguments[xe];var Ke=I.call(this,W,V.Advanced)||this;if(Ke.schemaUrl=P.schemaUrl,typeof be!="string"||be.length===0)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(be));Ke.logicalOperator=be;var Rt;if(Array.isArray(Te[0])?Rt=Te[0]:Rt=Te,Rt.length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(Te.length));if(Rt.length===1&&be!=="And")throw new Error('Logical Operator must be "And" when there is only one condition provided');return Ke.conditions=Rt,Ke}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.logicalOperator=this.logicalOperator,W.conditions=this.conditions,W},P.schemaUrl="http://powerbi.com/product/schema#advanced",P}(F);s.AdvancedFilter=z;var te=function(I){w(P,I);function P(W,be){var Te=I.call(this,W,V.Hierarchy)||this;return Te.schemaUrl=P.schemaUrl,Te.hierarchyData=be,Te}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.hierarchyData=this.hierarchyData,W.target=this.target,W},P.schemaUrl="http://powerbi.com/product/schema#hierarchy",P}(F);s.HierarchyFilter=te;var Z=function(I){w(P,I);function P(W,be){var Te=I.call(this,W,V.HierarchyIdentity)||this;return Te.schemaUrl=P.schemaUrl,Te.hierarchyData=be,Te}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.hierarchyData=this.hierarchyData,W.target=this.target,W},P.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",P}(F);s.HierarchyIdentityFilter=Z;function re(I){return Rg(I)&&!!I.keys}s.isFilterKeyColumnsTarget=re;function me(I){return ge(I)===V.Basic&&!!I.keyValues}s.isBasicFilterWithKeys=me;function ge(I){if(I.filterType)return I.filterType;var P=I,W=I;return typeof P.operator=="string"&&Array.isArray(P.values)?V.Basic:typeof W.logicalOperator=="string"&&Array.isArray(W.conditions)?V.Advanced:V.Unknown}s.getFilterType=ge;function jw(I){return I.table!==void 0&&I.measure!==void 0}s.isMeasure=jw;function Rg(I){return!!(I.table&&I.column&&!I.aggregationFunction)}s.isColumn=Rg;function Hw(I){return!!(I.table&&I.hierarchy&&I.hierarchyLevel&&!I.aggregationFunction)}s.isHierarchyLevel=Hw;function zw(I){return!!(I.table&&I.hierarchy&&I.hierarchyLevel&&I.aggregationFunction)}s.isHierarchyLevelAggr=zw;function $w(I){return!!(I.table&&I.column&&I.aggregationFunction)}s.isColumnAggr=$w;function Gw(I){return!!I.percentOfGrandTotal}s.isPercentOfGrandTotal=Gw;var qw;(function(I){I[I.NoConnection=0]="NoConnection",I[I.OnBehalfOf=1]="OnBehalfOf",I[I.Anonymous=2]="Anonymous"})(qw=s.CredentialType||(s.CredentialType={}));var Kw;(function(I){I[I.Import=0]="Import",I[I.DirectQuery=1]="DirectQuery"})(Kw=s.DataCacheMode||(s.DataCacheMode={}));var Ww;(function(I){I[I.Default=1]="Default",I[I.None=2]="None",I[I.Sum=3]="Sum",I[I.Min=4]="Min",I[I.Max=5]="Max",I[I.Count=6]="Count",I[I.Average=7]="Average",I[I.DistinctCount=8]="DistinctCount"})(Ww=s.AggregateFunction||(s.AggregateFunction={}));var Yw;(function(I){I[I.Default=0]="Default",I[I.NoAdjustments=1]="NoAdjustments"})(Yw=s.BrowserPrintAdjustmentsMode||(s.BrowserPrintAdjustmentsMode={}));var Qw;(function(I){I[I.Bottom=0]="Bottom",I[I.Left=1]="Left"})(Qw=s.PageNavigationPosition||(s.PageNavigationPosition={}));var Jw;(function(I){I[I.Interactive=0]="Interactive",I[I.ResultOnly=1]="ResultOnly"})(Jw=s.QnaMode||(s.QnaMode={}));var Xw;(function(I){I[I.Summarized=0]="Summarized",I[I.Underlying=1]="Underlying"})(Xw=s.ExportDataType||(s.ExportDataType={}));var Zw;(function(I){I[I.Off=0]="Off",I[I.Presentation=1]="Presentation"})(Zw=s.BookmarksPlayMode||(s.BookmarksPlayMode={})),s.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},s.TextAlignment={Left:"left",Center:"center",Right:"right"},s.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"};var eC;(function(I){I[I.Ascending=1]="Ascending",I[I.Descending=2]="Descending"})(eC=s.SortDirection||(s.SortDirection={}));var js=function(){function I(P){this.$schema=P}return I.prototype.toJSON=function(){return{$schema:this.$schema}},I}();s.Selector=js;var tC=function(I){w(P,I);function P(W){var be=I.call(this,P.schemaUrl)||this;return be.pageName=W,be}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.pageName=this.pageName,W},P.schemaUrl="http://powerbi.com/product/schema#pageSelector",P}(js);s.PageSelector=tC;var im=function(I){w(P,I);function P(W){var be=I.call(this,P.schemaUrl)||this;return be.visualName=W,be}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.visualName=this.visualName,W},P.schemaUrl="http://powerbi.com/product/schema#visualSelector",P}(js);s.VisualSelector=im;var iC=function(I){w(P,I);function P(W){var be=I.call(this,im.schemaUrl)||this;return be.visualType=W,be}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.visualType=this.visualType,W},P.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",P}(js);s.VisualTypeSelector=iC;var rC=function(I){w(P,I);function P(W){var be=I.call(this,im.schemaUrl)||this;return be.target=W,be}return P.prototype.toJSON=function(){var W=I.prototype.toJSON.call(this);return W.target=this.target,W},P.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",P}(js);s.SlicerTargetSelector=rC;var nC;(function(I){I[I.Enabled=0]="Enabled",I[I.Disabled=1]="Disabled",I[I.Hidden=2]="Hidden"})(nC=s.CommandDisplayOption||(s.CommandDisplayOption={}));var oC;(function(I){I[I.Grouping=0]="Grouping",I[I.Measure=1]="Measure",I[I.GroupingOrMeasure=2]="GroupingOrMeasure"})(oC=s.VisualDataRoleKind||(s.VisualDataRoleKind={}));var aC;(function(I){I[I.Measure=0]="Measure",I[I.Grouping=1]="Grouping"})(aC=s.VisualDataRoleKindPreference||(s.VisualDataRoleKindPreference={}));function sC(I){return I&&!kg(I)}s.isOnLoadFilters=sC;function kg(I){return Array.isArray(I)}s.isReportFiltersArray=kg;function cC(I){return I&&!Dg(I)}s.isFlatMenuExtension=cC;function Dg(I){return I&&!!I.groupName}s.isGroupedMenuExtension=Dg;function lC(I){return I&&!Mg(I)}s.isIExtensions=lC;function Mg(I){return Array.isArray(I)}s.isIExtensionArray=Mg;function Ne(I){var P=I.message;return P||(P="".concat(I.path," is invalid. Not meeting ").concat(I.keyword," constraint")),{message:P}}function dC(I){var P=v.Validators.visualSelectorValidator.validate(I);return P?P.map(Ne):void 0}s.validateVisualSelector=dC;function uC(I){var P=v.Validators.slicerValidator.validate(I);return P?P.map(Ne):void 0}s.validateSlicer=uC;function hC(I){var P=v.Validators.slicerStateValidator.validate(I);return P?P.map(Ne):void 0}s.validateSlicerState=hC;function mC(I){var P=v.Validators.playBookmarkRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validatePlayBookmarkRequest=mC;function pC(I){var P=v.Validators.addBookmarkRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateAddBookmarkRequest=pC;function fC(I){var P=v.Validators.applyBookmarkByNameRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateApplyBookmarkByNameRequest=fC;function gC(I){var P=v.Validators.applyBookmarkStateRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateApplyBookmarkStateRequest=gC;function vC(I){var P=v.Validators.captureBookmarkRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateCaptureBookmarkRequest=vC;function bC(I){var P=v.Validators.settingsValidator.validate(I);return P?P.map(Ne):void 0}s.validateSettings=bC;function yC(I){var P=v.Validators.reportPanesValidator.validate(I);return P?P.map(Ne):void 0}s.validatePanes=yC;function _C(I){var P=v.Validators.bookmarksPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateBookmarksPane=_C;function wC(I){var P=v.Validators.filtersPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateFiltersPane=wC;function CC(I){var P=v.Validators.fieldsPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateFieldsPane=CC;function EC(I){var P=v.Validators.pageNavigationPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validatePageNavigationPane=EC;function SC(I){var P=v.Validators.selectionPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateSelectionPane=SC;function AC(I){var P=v.Validators.syncSlicersPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateSyncSlicersPane=AC;function IC(I){var P=v.Validators.visualizationsPaneValidator.validate(I);return P?P.map(Ne):void 0}s.validateVisualizationsPane=IC;function TC(I){var P=v.Validators.customPageSizeValidator.validate(I);return P?P.map(Ne):void 0}s.validateCustomPageSize=TC;function RC(I){var P=v.Validators.extensionValidator.validate(I);return P?P.map(Ne):void 0}s.validateExtension=RC;function kC(I){var P=v.Validators.menuGroupExtensionValidator.validate(I);return P?P.map(Ne):void 0}s.validateMenuGroupExtension=kC;function DC(I){var P=v.Validators.reportLoadValidator.validate(I);return P?P.map(Ne):void 0}s.validateReportLoad=DC;function MC(I){var P=v.Validators.paginatedReportLoadValidator.validate(I);return P?P.map(Ne):void 0}s.validatePaginatedReportLoad=MC;function OC(I){var P=v.Validators.reportCreateValidator.validate(I);return P?P.map(Ne):void 0}s.validateCreateReport=OC;function PC(I){var P=v.Validators.quickCreateValidator.validate(I);return P?P.map(Ne):void 0}s.validateQuickCreate=PC;function xC(I){var P=v.Validators.dashboardLoadValidator.validate(I);return P?P.map(Ne):void 0}s.validateDashboardLoad=xC;function FC(I){var P=v.Validators.tileLoadValidator.validate(I);return P?P.map(Ne):void 0}s.validateTileLoad=FC;function NC(I){var P=v.Validators.pageValidator.validate(I);return P?P.map(Ne):void 0}s.validatePage=NC;function VC(I){var P=v.Validators.filterValidator.validate(I);return P?P.map(Ne):void 0}s.validateFilter=VC;function LC(I){var P=v.Validators.updateFiltersRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateUpdateFiltersRequest=LC;function BC(I){var P=v.Validators.saveAsParametersValidator.validate(I);return P?P.map(Ne):void 0}s.validateSaveAsParameters=BC;function UC(I){var P=v.Validators.loadQnaValidator.validate(I);return P?P.map(Ne):void 0}s.validateLoadQnaConfiguration=UC;function jC(I){var P=v.Validators.qnaInterpretInputDataValidator.validate(I);return P?P.map(Ne):void 0}s.validateQnaInterpretInputData=jC;function HC(I){var P=v.Validators.exportDataRequestValidator.validate(I);return P?P.map(Ne):void 0}s.validateExportDataRequest=HC;function zC(I){var P=v.Validators.visualHeaderValidator.validate(I);return P?P.map(Ne):void 0}s.validateVisualHeader=zC;function $C(I){var P=v.Validators.visualSettingsValidator.validate(I);return P?P.map(Ne):void 0}s.validateVisualSettings=$C;function GC(I){var P=v.Validators.commandsSettingsValidator.validate(I);return P?P.map(Ne):void 0}s.validateCommandsSettings=GC;function qC(I){var P=v.Validators.customThemeValidator.validate(I);return P?P.map(Ne):void 0}s.validateCustomTheme=qC;function KC(I){var P=v.Validators.zoomLevelValidator.validate(I);return P?P.map(Ne):void 0}s.validateZoomLevel=KC;function WC(I){var P=v.Validators.printSettingsValidator.validate(I);return P?P.map(Ne):void 0}s.validatePrintSettings=WC},(b,s,E)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Validators=void 0;var w=E(2),v=E(5),_=E(6),c=E(7),f=E(8),C=E(9),y=E(10),h=E(11),u=E(12),g=E(13),m=E(14),p=E(15),A=E(16),S=E(17),T=E(18),R=E(19),D=E(20),M=E(21),V=E(22),H=E(23),Q=E(24),F=E(25),K=E(26),q=E(27),J=E(28),le=E(29),j=E(4),De=E(30),He=E(31),L=E(32),$=E(33),z=E(34);s.Validators={addBookmarkRequestValidator:new v.AddBookmarkRequestValidator,advancedFilterTypeValidator:new j.EnumValidator([0]),advancedFilterValidator:new u.AdvancedFilterValidator,anyArrayValidator:new j.ArrayValidator([new K.AnyOfValidator([new j.StringValidator,new j.NumberValidator,new j.BooleanValidator])]),anyFilterValidator:new K.AnyOfValidator([new u.BasicFilterValidator,new u.AdvancedFilterValidator,new u.IncludeExcludeFilterValidator,new u.NotSupportedFilterValidator,new u.RelativeDateFilterValidator,new u.TopNFilterValidator,new u.RelativeTimeFilterValidator,new u.HierarchyFilterValidator]),anyValueValidator:new K.AnyOfValidator([new j.StringValidator,new j.NumberValidator,new j.BooleanValidator]),actionBarValidator:new w.ActionBarValidator,statusBarValidator:new w.StatusBarValidator,applyBookmarkByNameRequestValidator:new v.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new v.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new K.AnyOfValidator([new v.ApplyBookmarkByNameRequestValidator,new v.ApplyBookmarkStateRequestValidator]),backgroundValidator:new j.EnumValidator([0,1]),basicFilterTypeValidator:new j.EnumValidator([1]),basicFilterValidator:new u.BasicFilterValidator,booleanArrayValidator:new j.BooleanArrayValidator,booleanValidator:new j.BooleanValidator,bookmarksPaneValidator:new p.BookmarksPaneValidator,captureBookmarkOptionsValidator:new v.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new v.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new j.ArrayValidator([new He.ColumnSchemaValidator]),commandDisplayOptionValidator:new j.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new K.AnyOfValidator([new M.VisualSelectorValidator,new M.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new j.ArrayValidator([new h.CommandExtensionValidator]),commandExtensionValidator:new h.CommandExtensionValidator,commandsSettingsArrayValidator:new j.ArrayValidator([new _.CommandsSettingsValidator]),commandsSettingsValidator:new _.CommandsSettingsValidator,conditionItemValidator:new u.ConditionItemValidator,contrastModeValidator:new j.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new le.MapValidator([new j.StringValidator],[new j.StringValidator]),credentialsValidator:new He.CredentialsValidator,credentialTypeValidator:new j.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new j.EnumValidator([0,1,2]),customLayoutValidator:new g.CustomLayoutValidator,customPageSizeValidator:new m.CustomPageSizeValidator,customThemeValidator:new c.CustomThemeValidator,dashboardLoadValidator:new f.DashboardLoadValidator,dataCacheModeValidator:new j.EnumValidator([0,1]),datasetBindingValidator:new C.DatasetBindingValidator,datasetCreateConfigValidator:new He.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new He.DatasourceConnectionConfigValidator,displayStateModeValidator:new j.EnumValidator([0,1]),displayStateValidator:new g.DisplayStateValidator,exportDataRequestValidator:new y.ExportDataRequestValidator,extensionArrayValidator:new j.ArrayValidator([new h.ExtensionValidator]),extensionsValidator:new K.AnyOfValidator([new j.ArrayValidator([new h.ExtensionValidator]),new h.ExtensionsValidator]),extensionPointsValidator:new h.ExtensionPointsValidator,extensionValidator:new h.ExtensionValidator,fieldForbiddenValidator:new q.FieldForbiddenValidator,fieldRequiredValidator:new J.FieldRequiredValidator,fieldsPaneValidator:new p.FieldsPaneValidator,filterColumnTargetValidator:new u.FilterColumnTargetValidator,filterDisplaySettingsValidator:new u.FilterDisplaySettingsValidator,filterConditionsValidator:new j.ArrayValidator([new u.ConditionItemValidator]),filterHierarchyTargetValidator:new u.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new u.FilterMeasureTargetValidator,filterTargetValidator:new K.AnyOfValidator([new u.FilterColumnTargetValidator,new u.FilterHierarchyTargetValidator,new u.FilterMeasureTargetValidator,new j.ArrayValidator([new K.AnyOfValidator([new u.FilterColumnTargetValidator,new u.FilterHierarchyTargetValidator,new u.FilterMeasureTargetValidator,new u.FilterKeyColumnsTargetValidator,new u.FilterKeyHierarchyTargetValidator,new j.ArrayValidator([new K.AnyOfValidator([new u.FilterColumnTargetValidator,new u.FilterHierarchyTargetValidator,new u.FilterMeasureTargetValidator,new u.FilterKeyColumnsTargetValidator,new u.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new u.FilterValidator,filterTypeValidator:new j.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new j.ArrayValidator([new u.FilterValidator]),filtersOperationsUpdateValidator:new j.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new j.EnumValidator([0]),filtersPaneValidator:new p.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new j.EnumValidator([0,1,2]),includeExcludeFilterValidator:new u.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new j.EnumValidator([3]),includeExcludeFilterValuesValidator:new j.ArrayValidator([new K.AnyOfValidator([new j.StringValidator,new j.NumberValidator,new j.BooleanValidator,new j.ArrayValidator([new j.ArrayValidator([new u.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new j.EnumValidator([9]),hierarchyFilterValuesValidator:new j.ArrayValidator([new u.HierarchyFilterNodeValidator]),layoutTypeValidator:new j.EnumValidator([0,1,2,3]),loadQnaValidator:new A.LoadQnaValidator,menuExtensionValidator:new K.AnyOfValidator([new h.FlatMenuExtensionValidator,new h.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new j.ArrayValidator([new h.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new h.MenuGroupExtensionValidator,menuLocationValidator:new j.EnumValidator([0,1]),notSupportedFilterTypeValidator:new j.EnumValidator([2]),notSupportedFilterValidator:new u.NotSupportedFilterValidator,numberArrayValidator:new j.NumberArrayValidator,numberValidator:new j.NumberValidator,onLoadFiltersBaseValidator:new K.AnyOfValidator([new u.OnLoadFiltersBaseValidator,new u.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new le.MapValidator([new j.StringValidator],[new g.VisualLayoutValidator]),pageNavigationPaneValidator:new p.PageNavigationPaneValidator,pageNavigationPositionValidator:new j.EnumValidator([0,1]),pageSizeTypeValidator:new j.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new m.PageSizeValidator,pageValidator:new m.PageValidator,pageViewFieldValidator:new m.PageViewFieldValidator,pagesLayoutValidator:new le.MapValidator([new j.StringValidator],[new g.PageLayoutValidator]),paginatedReportCommandsValidator:new _.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new j.ArrayValidator([new z.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new R.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new V.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new j.ArrayValidator([new R.ReportParameterFieldsValidator]),parametersPanelValidator:new De.ParametersPanelValidator,permissionsValidator:new j.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new v.PlayBookmarkRequestValidator,printSettingsValidator:new $.PrintSettingsValidator,qnaInterpretInputDataValidator:new A.QnaInterpretInputDataValidator,qnaPanesValidator:new p.QnaPanesValidator,qnaSettingValidator:new A.QnaSettingsValidator,quickCreateValidator:new L.QuickCreateValidator,rawDataValidator:new j.ArrayValidator([new j.ArrayValidator([new j.StringValidator])]),relativeDateFilterOperatorValidator:new j.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new j.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new j.EnumValidator([4]),relativeDateFilterValidator:new u.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new j.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new j.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new j.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new j.EnumValidator([7]),relativeTimeFilterValidator:new u.RelativeTimeFilterValidator,reportBarsValidator:new w.ReportBarsValidator,reportCreateValidator:new S.ReportCreateValidator,reportLoadFiltersValidator:new K.AnyOfValidator([new j.ArrayValidator([new u.FilterValidator]),new u.OnLoadFiltersValidator]),reportLoadValidator:new T.ReportLoadValidator,reportPanesValidator:new p.ReportPanesValidator,saveAsParametersValidator:new D.SaveAsParametersValidator,selectionPaneValidator:new p.SelectionPaneValidator,settingsValidator:new V.SettingsValidator,singleCommandSettingsValidator:new _.SingleCommandSettingsValidator,slicerSelectorValidator:new K.AnyOfValidator([new M.VisualSelectorValidator,new M.SlicerTargetSelectorValidator]),slicerStateValidator:new H.SlicerStateValidator,slicerTargetValidator:new K.AnyOfValidator([new u.FilterColumnTargetValidator,new u.FilterHierarchyTargetValidator,new u.FilterMeasureTargetValidator,new u.FilterKeyColumnsTargetValidator,new u.FilterKeyHierarchyTargetValidator]),slicerValidator:new H.SlicerValidator,stringArrayValidator:new j.StringArrayValidator,stringValidator:new j.StringValidator,syncSlicersPaneValidator:new p.SyncSlicersPaneValidator,tableDataArrayValidator:new j.ArrayValidator([new He.TableDataValidator]),tableSchemaListValidator:new j.ArrayValidator([new He.TableSchemaValidator]),tileLoadValidator:new Q.TileLoadValidator,tokenTypeValidator:new j.EnumValidator([0,1]),topNFilterTypeValidator:new j.EnumValidator([5]),topNFilterValidator:new u.TopNFilterValidator,updateFiltersRequestValidator:new K.AnyOfValidator([new u.UpdateFiltersRequestValidator,new u.RemoveFiltersRequestValidator]),viewModeValidator:new j.EnumValidator([0,1]),visualCommandSelectorValidator:new K.AnyOfValidator([new M.VisualSelectorValidator,new M.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new K.AnyOfValidator([new M.VisualSelectorValidator,new M.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new F.VisualHeaderSettingsValidator,visualHeaderValidator:new F.VisualHeaderValidator,visualHeadersValidator:new j.ArrayValidator([new F.VisualHeaderValidator]),visualizationsPaneValidator:new p.VisualizationsPaneValidator,visualLayoutValidator:new g.VisualLayoutValidator,visualSelectorValidator:new M.VisualSelectorValidator,visualSettingsValidator:new F.VisualSettingsValidator,visualTypeSelectorValidator:new M.VisualTypeSelectorValidator,zoomLevelValidator:new j.RangeValidator(.25,4)}},function(b,s,E){var w=this&&this.__extends||function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(m[A]=p[A])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function m(){this.constructor=u}u.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.StatusBarValidator=s.ActionBarValidator=s.ReportBarsValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"actionBar",validators:[c.Validators.actionBarValidator]},{field:"statusBar",validators:[c.Validators.statusBarValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.ReportBarsValidator=f;var C=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"visible",validators:[c.Validators.booleanValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.ActionBarValidator=C;var y=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"visible",validators:[c.Validators.booleanValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.StatusBarValidator=y},(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MultipleFieldsValidator=void 0;var E=function(){function w(v){this.fieldValidatorsPairs=v}return w.prototype.validate=function(v,_,c){if(!this.fieldValidatorsPairs)return null;for(var f=_?_+"."+c:c,C=0,y=this.fieldValidatorsPairs;C<y.length;C++)for(var h=y[C],u=0,g=h.validators;u<g.length;u++){var m=g[u],p=m.validate(v[h.field],f,h.field);if(p)return p}return null},w}();s.MultipleFieldsValidator=E},function(b,s){var E=this&&this.__extends||function(){var S=function(T,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,M){D.__proto__=M}||function(D,M){for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(D[V]=M[V])},S(T,R)};return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");S(T,R);function D(){this.constructor=T}T.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.RangeValidator=s.NumberArrayValidator=s.BooleanArrayValidator=s.StringArrayValidator=s.EnumValidator=s.SchemaValidator=s.ValueValidator=s.NumberValidator=s.BooleanValidator=s.StringValidator=s.TypeValidator=s.ArrayValidator=s.ObjectValidator=void 0;var w=function(){function S(){}return S.prototype.validate=function(T,R,D){return T==null?null:typeof T!="object"||Array.isArray(T)?[{message:D!==void 0?D+" must be an object":"input must be an object",path:R,keyword:"type"}]:null},S}();s.ObjectValidator=w;var v=function(){function S(T){this.itemValidators=T}return S.prototype.validate=function(T,R,D){if(T==null)return null;if(!Array.isArray(T))return[{message:D+" property is invalid",path:(R?R+".":"")+D,keyword:"type"}];for(var M=0;M<T.length;M++)for(var V=(R?R+".":"")+D+"."+M.toString(),H=0,Q=this.itemValidators;H<Q.length;H++){var F=Q[H],K=F.validate(T[M],V,D);if(K)return[{message:D+" property is invalid",path:(R?R+".":"")+D,keyword:"type"}]}return null},S}();s.ArrayValidator=v;var _=function(){function S(T){this.expectedType=T}return S.prototype.validate=function(T,R,D){return T==null?null:typeof T!==this.expectedType?[{message:D+" must be a "+this.expectedType,path:(R?R+".":"")+D,keyword:"type"}]:null},S}();s.TypeValidator=_;var c=function(S){E(T,S);function T(){return S.call(this,"string")||this}return T}(_);s.StringValidator=c;var f=function(S){E(T,S);function T(){return S.call(this,"boolean")||this}return T}(_);s.BooleanValidator=f;var C=function(S){E(T,S);function T(){return S.call(this,"number")||this}return T}(_);s.NumberValidator=C;var y=function(){function S(T){this.possibleValues=T}return S.prototype.validate=function(T,R,D){return T==null?null:this.possibleValues.indexOf(T)<0?[{message:D+" property is invalid",path:(R?R+".":"")+D,keyword:"invalid"}]:null},S}();s.ValueValidator=y;var h=function(S){E(T,S);function T(R){var D=S.call(this,[R])||this;return D.schemaValue=R,D}return T.prototype.validate=function(R,D,M){return S.prototype.validate.call(this,R,D,M)},T}(y);s.SchemaValidator=h;var u=function(S){E(T,S);function T(R){var D=S.call(this)||this;return D.possibleValues=R,D}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=new y(this.possibleValues);return H.validate(R,D,M)},T}(C);s.EnumValidator=u;var g=function(S){E(T,S);function T(){return S.call(this,[new c])||this}return T.prototype.validate=function(R,D,M){var V=S.prototype.validate.call(this,R,D,M);return V?[{message:M+" must be an array of strings",path:(D?D+".":"")+M,keyword:"type"}]:null},T}(v);s.StringArrayValidator=g;var m=function(S){E(T,S);function T(){return S.call(this,[new f])||this}return T.prototype.validate=function(R,D,M){var V=S.prototype.validate.call(this,R,D,M);return V?[{message:M+" must be an array of booleans",path:(D?D+".":"")+M,keyword:"type"}]:null},T}(v);s.BooleanArrayValidator=m;var p=function(S){E(T,S);function T(){return S.call(this,[new C])||this}return T.prototype.validate=function(R,D,M){var V=S.prototype.validate.call(this,R,D,M);return V?[{message:M+" must be an array of numbers",path:(D?D+".":"")+M,keyword:"type"}]:null},T}(v);s.NumberArrayValidator=p;var A=function(S){E(T,S);function T(R,D){var M=S.call(this)||this;return M.minValue=R,M.maxValue=D,M}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);return V||(R>this.maxValue||R<this.minValue?[{message:M+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(D?D+".":"")+M,keyword:"range"}]:null)},T}(C);s.RangeValidator=A},function(b,s,E){var w=this&&this.__extends||function(){var m=function(p,A){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(S[R]=T[R])},m(p,A)};return function(p,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");m(p,A);function S(){this.constructor=p}p.prototype=A===null?Object.create(A):(S.prototype=A.prototype,new S)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.CaptureBookmarkRequestValidator=s.CaptureBookmarkOptionsValidator=s.ApplyBookmarkStateRequestValidator=s.ApplyBookmarkByNameRequestValidator=s.AddBookmarkRequestValidator=s.PlayBookmarkRequestValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"playMode",validators:[c.Validators.fieldRequiredValidator,new _.EnumValidator([0,1])]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.PlayBookmarkRequestValidator=f;var C=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"state",validators:[c.Validators.stringValidator]},{field:"displayName",validators:[c.Validators.stringValidator]},{field:"apply",validators:[c.Validators.booleanValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.AddBookmarkRequestValidator=C;var y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.ApplyBookmarkByNameRequestValidator=y;var h=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"state",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.ApplyBookmarkStateRequestValidator=h;var u=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"personalizeVisuals",validators:[c.Validators.booleanValidator]},{field:"allPages",validators:[c.Validators.booleanValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.CaptureBookmarkOptionsValidator=u;var g=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"options",validators:[c.Validators.fieldRequiredValidator,c.Validators.captureBookmarkOptionsValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.CaptureBookmarkRequestValidator=g},function(b,s,E){var w=this&&this.__extends||function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(m[A]=p[A])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function m(){this.constructor=u}u.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportCommandsValidator=s.SingleCommandSettingsValidator=s.CommandsSettingsValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"copy",validators:[c.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[c.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[c.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[c.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[c.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[c.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[c.Validators.singleCommandSettingsValidator]},{field:"search",validators:[c.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[c.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[c.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[c.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[c.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[c.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[c.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[c.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[c.Validators.singleCommandSettingsValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.CommandsSettingsValidator=f;var C=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"displayOption",validators:[c.Validators.fieldRequiredValidator,c.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[c.Validators.visualCommandSelectorValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.SingleCommandSettingsValidator=C;var y=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"parameterPanel",validators:[c.Validators.parametersPanelValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.PaginatedReportCommandsValidator=y},function(b,s,E){var w=this&&this.__extends||function(){var f=function(C,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h[g]=u[g])},f(C,y)};return function(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");f(C,y);function h(){this.constructor=C}C.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.CustomThemeValidator=void 0;var v=E(3),_=E(4),c=function(f){w(C,f);function C(){return f!==null&&f.apply(this,arguments)||this}return C.prototype.validate=function(y,h,u){if(y==null)return null;var g=f.prototype.validate.call(this,y,h,u);if(g)return g;var m=[{field:"themeJson",validators:[new _.ObjectValidator]}],p=new v.MultipleFieldsValidator(m);return p.validate(y,h,u)},C}(_.ObjectValidator);s.CustomThemeValidator=c},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.DashboardLoadValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"pageView",validators:[c.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.DashboardLoadValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.DatasetBindingValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;if(!h.datasetId&&!h.paginatedReportBindings)return[{message:"datasetBinding cannot be empty",path:(u?u+".":"")+g,keyword:"invalid"}];var p=[{field:"datasetId",validators:[c.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[c.Validators.paginatedReportDatasetBindingArrayValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.DatasetBindingValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var f=function(C,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h[g]=u[g])},f(C,y)};return function(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");f(C,y);function h(){this.constructor=C}C.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ExportDataRequestValidator=void 0;var v=E(3),_=E(4),c=function(f){w(C,f);function C(){return f!==null&&f.apply(this,arguments)||this}return C.prototype.validate=function(y,h,u){if(y==null)return null;var g=f.prototype.validate.call(this,y,h,u);if(g)return g;var m=[{field:"rows",validators:[new _.NumberValidator]},{field:"exportDataType",validators:[new _.EnumValidator([0,1])]}],p=new v.MultipleFieldsValidator(m);return p.validate(y,h,u)},C}(_.ObjectValidator);s.ExportDataRequestValidator=c},function(b,s,E){var w=this&&this.__extends||function(){var S=function(T,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,M){D.__proto__=M}||function(D,M){for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(D[V]=M[V])},S(T,R)};return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");S(T,R);function D(){this.constructor=T}T.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ExtensionsValidator=s.MenuGroupExtensionValidator=s.ExtensionValidator=s.CommandExtensionValidator=s.ExtensionItemValidator=s.ExtensionPointsValidator=s.GroupedMenuExtensionValidator=s.FlatMenuExtensionValidator=s.MenuExtensionBaseValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"title",validators:[c.Validators.stringValidator]},{field:"icon",validators:[c.Validators.stringValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.MenuExtensionBaseValidator=f;var C=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"menuLocation",validators:[c.Validators.menuLocationValidator]},{field:"groupName",validators:[c.Validators.fieldForbiddenValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(f);s.FlatMenuExtensionValidator=C;var y=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"groupName",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"menuLocation",validators:[c.Validators.fieldForbiddenValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(f);s.GroupedMenuExtensionValidator=y;var h=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visualContextMenu",validators:[c.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[c.Validators.menuExtensionValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.ExtensionPointsValidator=h;var u=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"extend",validators:[c.Validators.fieldRequiredValidator,c.Validators.extensionPointsValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.ExtensionItemValidator=u;var g=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"title",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"icon",validators:[c.Validators.stringValidator]},{field:"selector",validators:[c.Validators.commandExtensionSelectorValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(u);s.CommandExtensionValidator=g;var m=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"command",validators:[c.Validators.commandExtensionValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.ExtensionValidator=m;var p=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"title",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"menuLocation",validators:[c.Validators.menuLocationValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.MenuGroupExtensionValidator=p;var A=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"commands",validators:[c.Validators.fieldRequiredValidator,c.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[c.Validators.menuGroupExtensionArrayValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.ExtensionsValidator=A},function(b,s,E){var w=this&&this.__extends||function(){var L=function($,z){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,Z){te.__proto__=Z}||function(te,Z){for(var re in Z)Object.prototype.hasOwnProperty.call(Z,re)&&(te[re]=Z[re])},L($,z)};return function($,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");L($,z);function te(){this.constructor=$}$.prototype=z===null?Object.create(z):(te.prototype=z.prototype,new te)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.OnLoadFiltersValidator=s.OnLoadFiltersBaseRemoveOperationValidator=s.OnLoadFiltersBaseValidator=s.ConditionItemValidator=s.RemoveFiltersRequestValidator=s.UpdateFiltersRequestValidator=s.FilterValidator=s.IncludeExcludePointValueValidator=s.HierarchyFilterNodeValidator=s.HierarchyFilterValidator=s.IncludeExcludeFilterValidator=s.NotSupportedFilterValidator=s.TopNFilterValidator=s.RelativeTimeFilterValidator=s.RelativeDateFilterValidator=s.RelativeDateTimeFilterValidator=s.AdvancedFilterValidator=s.BasicFilterValidator=s.FilterValidatorBase=s.FilterDisplaySettingsValidator=s.FilterMeasureTargetValidator=s.FilterKeyHierarchyTargetValidator=s.FilterHierarchyTargetValidator=s.FilterKeyColumnsTargetValidator=s.FilterColumnTargetValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"column",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterColumnTargetValidator=f;var C=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"keys",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(f);s.FilterKeyColumnsTargetValidator=C;var y=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"hierarchy",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"hierarchyLevel",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterHierarchyTargetValidator=y;var h=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"keys",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(y);s.FilterKeyHierarchyTargetValidator=h;var u=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"table",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"measure",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterMeasureTargetValidator=u;var g=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"isLockedInViewMode",validators:[c.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[c.Validators.booleanValidator]},{field:"displayName",validators:[c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterDisplaySettingsValidator=g;var m=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"target",validators:[c.Validators.fieldRequiredValidator,c.Validators.filterTargetValidator]},{field:"$schema",validators:[c.Validators.stringValidator]},{field:"filterType",validators:[c.Validators.filterTypeValidator]},{field:"displaySettings",validators:[c.Validators.filterDisplaySettingsValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterValidatorBase=m;var p=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"values",validators:[c.Validators.fieldRequiredValidator,c.Validators.anyArrayValidator]},{field:"filterType",validators:[c.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[c.Validators.booleanValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.BasicFilterValidator=p;var A=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"logicalOperator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"conditions",validators:[c.Validators.filterConditionsValidator]},{field:"filterType",validators:[c.Validators.advancedFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.AdvancedFilterValidator=A;var S=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[c.Validators.numberValidator]},{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeDateTimeFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.RelativeDateTimeFilterValidator=S;var T=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"includeToday",validators:[c.Validators.fieldRequiredValidator,c.Validators.booleanValidator]},{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeDateFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(S);s.RelativeDateFilterValidator=T;var R=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"timeUnitType",validators:[c.Validators.fieldRequiredValidator,c.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[c.Validators.relativeTimeFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(S);s.RelativeTimeFilterValidator=R;var D=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"itemCount",validators:[c.Validators.fieldRequiredValidator,c.Validators.numberValidator]},{field:"filterType",validators:[c.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[c.Validators.fieldRequiredValidator,c.Validators.filterTargetValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.TopNFilterValidator=D;var M=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"message",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"filterType",validators:[c.Validators.notSupportedFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.NotSupportedFilterValidator=M;var V=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"isExclude",validators:[c.Validators.fieldRequiredValidator,c.Validators.booleanValidator]},{field:"values",validators:[c.Validators.fieldRequiredValidator,c.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[c.Validators.includeExludeFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.IncludeExcludeFilterValidator=V;var H=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"hierarchyData",validators:[c.Validators.fieldRequiredValidator,c.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[c.Validators.hierarchyFilterTypeValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(m);s.HierarchyFilterValidator=H;var Q=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"value",validators:[c.Validators.anyValueValidator]},{field:"keyValues",validators:[c.Validators.anyArrayValidator]},{field:"children",validators:[c.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.HierarchyFilterNodeValidator=Q;var F=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"value",validators:[c.Validators.fieldRequiredValidator,c.Validators.anyValueValidator]},{field:"keyValues",validators:[c.Validators.anyArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.IncludeExcludePointValueValidator=F;var K=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);return re||c.Validators.anyFilterValidator.validate(z,te,Z)},$}(_.ObjectValidator);s.FilterValidator=K;var q=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"filtersOperation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.UpdateFiltersRequestValidator=q;var J=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"filtersOperation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[c.Validators.fieldForbiddenValidator,c.Validators.filtersArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.RemoveFiltersRequestValidator=J;var le=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"value",validators:[c.Validators.anyValueValidator]},{field:"operator",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.ConditionItemValidator=le;var j=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"operation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.OnLoadFiltersBaseValidator=j;var De=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"operation",validators:[c.Validators.fieldRequiredValidator,c.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[c.Validators.fieldForbiddenValidator,c.Validators.filtersArrayValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.OnLoadFiltersBaseRemoveOperationValidator=De;var He=function(L){w($,L);function $(){return L!==null&&L.apply(this,arguments)||this}return $.prototype.validate=function(z,te,Z){if(z==null)return null;var re=L.prototype.validate.call(this,z,te,Z);if(re)return re;var me=[{field:"allPages",validators:[c.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[c.Validators.onLoadFiltersBaseValidator]}],ge=new v.MultipleFieldsValidator(me);return ge.validate(z,te,Z)},$}(_.ObjectValidator);s.OnLoadFiltersValidator=He},function(b,s,E){var w=this&&this.__extends||function(){var u=function(g,m){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(p[S]=A[S])},u(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");u(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PageLayoutValidator=s.DisplayStateValidator=s.VisualLayoutValidator=s.CustomLayoutValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"pageSize",validators:[c.Validators.pageSizeValidator]},{field:"displayOption",validators:[c.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[c.Validators.pagesLayoutValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.CustomLayoutValidator=f;var C=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"x",validators:[c.Validators.numberValidator]},{field:"y",validators:[c.Validators.numberValidator]},{field:"z",validators:[c.Validators.numberValidator]},{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]},{field:"displayState",validators:[c.Validators.displayStateValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.VisualLayoutValidator=C;var y=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"mode",validators:[c.Validators.displayStateModeValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.DisplayStateValidator=y;var h=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"visualsLayout",validators:[c.Validators.fieldRequiredValidator,c.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[c.Validators.visualLayoutValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.PageLayoutValidator=h},function(b,s,E){var w=this&&this.__extends||function(){var u=function(g,m){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(p[S]=A[S])},u(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");u(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PageViewFieldValidator=s.PageValidator=s.CustomPageSizeValidator=s.PageSizeValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"type",validators:[c.Validators.fieldRequiredValidator,c.Validators.pageSizeTypeValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.PageSizeValidator=f;var C=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(f);s.CustomPageSizeValidator=C;var y=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.PageValidator=y;var h=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=["actualSize","fitToWidth","oneColumn"];return T.indexOf(m)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null},g}(_.StringValidator);s.PageViewFieldValidator=h},function(b,s,E){var w=this&&this.__extends||function(){var S=function(T,R){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,M){D.__proto__=M}||function(D,M){for(var V in M)Object.prototype.hasOwnProperty.call(M,V)&&(D[V]=M[V])},S(T,R)};return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");S(T,R);function D(){this.constructor=T}T.prototype=R===null?Object.create(R):(D.prototype=R.prototype,new D)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.VisualizationsPaneValidator=s.SyncSlicersPaneValidator=s.SelectionPaneValidator=s.PageNavigationPaneValidator=s.FiltersPaneValidator=s.FieldsPaneValidator=s.BookmarksPaneValidator=s.QnaPanesValidator=s.ReportPanesValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"bookmarks",validators:[c.Validators.bookmarksPaneValidator]},{field:"fields",validators:[c.Validators.fieldsPaneValidator]},{field:"filters",validators:[c.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[c.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[c.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[c.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[c.Validators.visualizationsPaneValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.ReportPanesValidator=f;var C=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"filters",validators:[c.Validators.filtersPaneValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.QnaPanesValidator=C;var y=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visible",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.BookmarksPaneValidator=y;var h=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"expanded",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.FieldsPaneValidator=h;var u=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visible",validators:[c.Validators.booleanValidator]},{field:"expanded",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.FiltersPaneValidator=u;var g=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visible",validators:[c.Validators.booleanValidator]},{field:"position",validators:[c.Validators.pageNavigationPositionValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.PageNavigationPaneValidator=g;var m=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visible",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.SelectionPaneValidator=m;var p=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"visible",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.SyncSlicersPaneValidator=p;var A=function(S){w(T,S);function T(){return S!==null&&S.apply(this,arguments)||this}return T.prototype.validate=function(R,D,M){if(R==null)return null;var V=S.prototype.validate.call(this,R,D,M);if(V)return V;var H=[{field:"expanded",validators:[c.Validators.booleanValidator]}],Q=new v.MultipleFieldsValidator(H);return Q.validate(R,D,M)},T}(_.ObjectValidator);s.VisualizationsPaneValidator=A},function(b,s,E){var w=this&&this.__extends||function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(m[A]=p[A])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function m(){this.constructor=u}u.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.QnaInterpretInputDataValidator=s.QnaSettingsValidator=s.LoadQnaValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"datasetIds",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringArrayValidator]},{field:"question",validators:[c.Validators.stringValidator]},{field:"viewMode",validators:[c.Validators.viewModeValidator]},{field:"settings",validators:[c.Validators.qnaSettingValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"groupId",validators:[c.Validators.stringValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.LoadQnaValidator=f;var C=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"filterPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"hideErrors",validators:[c.Validators.booleanValidator]},{field:"panes",validators:[c.Validators.qnaPanesValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.QnaSettingsValidator=C;var y=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"datasetIds",validators:[c.Validators.stringArrayValidator]},{field:"question",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.QnaInterpretInputDataValidator=y},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ReportCreateValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"datasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.ReportCreateValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ReportLoadValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"settings",validators:[c.Validators.settingsValidator]},{field:"pageName",validators:[c.Validators.stringValidator]},{field:"filters",validators:[c.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[c.Validators.permissionsValidator]},{field:"viewMode",validators:[c.Validators.viewModeValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"bookmark",validators:[c.Validators.applyBookmarkValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]},{field:"datasetBinding",validators:[c.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[c.Validators.contrastModeValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.ReportLoadValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(g[p]=m[p])},y(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");y(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ReportParameterFieldsValidator=s.PaginatedReportLoadValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(y){w(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.validate=function(u,g,m){if(u==null)return null;var p=y.prototype.validate.call(this,u,g,m);if(p)return p;var A=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"settings",validators:[c.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[c.Validators.stringValidator]},{field:"type",validators:[c.Validators.stringValidator]},{field:"parameterValues",validators:[c.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[c.Validators.paginatedReportDatasetBindingArrayValidator]}],S=new v.MultipleFieldsValidator(A);return S.validate(u,g,m)},h}(_.ObjectValidator);s.PaginatedReportLoadValidator=f;var C=function(){function y(){}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"value",validators:[c.Validators.stringValidator]}],p=new v.MultipleFieldsValidator(m);return p.validate(h,u,g)},y}();s.ReportParameterFieldsValidator=C},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.SaveAsParametersValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.SaveAsParametersValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var u=function(g,m){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(p[S]=A[S])},u(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");u(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.SlicerTargetSelectorValidator=s.VisualTypeSelectorValidator=s.VisualSelectorValidator=void 0;var v=E(3),_=E(4),c=E(4),f=E(1),C=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"$schema",validators:[f.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[f.Validators.fieldRequiredValidator,f.Validators.stringValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.VisualSelectorValidator=C;var y=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"$schema",validators:[f.Validators.fieldRequiredValidator,f.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[f.Validators.fieldRequiredValidator,f.Validators.stringValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.VisualTypeSelectorValidator=y;var h=function(u){w(g,u);function g(){return u!==null&&u.apply(this,arguments)||this}return g.prototype.validate=function(m,p,A){if(m==null)return null;var S=u.prototype.validate.call(this,m,p,A);if(S)return S;var T=[{field:"$schema",validators:[f.Validators.fieldRequiredValidator,f.Validators.stringValidator,new c.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[f.Validators.fieldRequiredValidator,f.Validators.slicerTargetValidator]}],R=new v.MultipleFieldsValidator(T);return R.validate(m,p,A)},g}(_.ObjectValidator);s.SlicerTargetSelectorValidator=h},function(b,s,E){var w=this&&this.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(g[p]=m[p])},y(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");y(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportSettingsValidator=s.SettingsValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(y){w(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.validate=function(u,g,m){if(u==null)return null;var p=y.prototype.validate.call(this,u,g,m);if(p)return p;var A=[{field:"filterPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[c.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[c.Validators.booleanValidator]},{field:"extensions",validators:[c.Validators.extensionsValidator]},{field:"layoutType",validators:[c.Validators.layoutTypeValidator]},{field:"customLayout",validators:[c.Validators.customLayoutValidator]},{field:"background",validators:[c.Validators.backgroundValidator]},{field:"visualSettings",validators:[c.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[c.Validators.booleanValidator]},{field:"commands",validators:[c.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[c.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[c.Validators.reportBarsValidator]},{field:"panes",validators:[c.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[c.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[c.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[c.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[c.Validators.booleanValidator]},{field:"printSettings",validators:[c.Validators.printSettingsValidator]}],S=new v.MultipleFieldsValidator(A);return S.validate(u,g,m)},h}(_.ObjectValidator);s.SettingsValidator=f;var C=function(y){w(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.validate=function(u,g,m){if(u==null)return null;var p=y.prototype.validate.call(this,u,g,m);if(p)return p;var A=[{field:"commands",validators:[c.Validators.paginatedReportCommandsValidator]}],S=new v.MultipleFieldsValidator(A);return S.validate(u,g,m)},h}(_.ObjectValidator);s.PaginatedReportSettingsValidator=C},function(b,s,E){var w=this&&this.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(g[p]=m[p])},y(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");y(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.SlicerStateValidator=s.SlicerValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(y){w(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.validate=function(u,g,m){if(u==null)return null;var p=y.prototype.validate.call(this,u,g,m);if(p)return p;var A=[{field:"selector",validators:[c.Validators.fieldRequiredValidator,c.Validators.slicerSelectorValidator]},{field:"state",validators:[c.Validators.fieldRequiredValidator,c.Validators.slicerStateValidator]}],S=new v.MultipleFieldsValidator(A);return S.validate(u,g,m)},h}(_.ObjectValidator);s.SlicerValidator=f;var C=function(y){w(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.validate=function(u,g,m){if(u==null)return null;var p=y.prototype.validate.call(this,u,g,m);if(p)return p;var A=[{field:"filters",validators:[c.Validators.filtersArrayValidator]}],S=new v.MultipleFieldsValidator(A);return S.validate(u,g,m)},h}(_.ObjectValidator);s.SlicerStateValidator=C},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.TileLoadValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"id",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"dashboardId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"pageView",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"width",validators:[c.Validators.numberValidator]},{field:"height",validators:[c.Validators.numberValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.TileLoadValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var h=function(u,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(m[A]=p[A])},h(u,g)};return function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(u,g);function m(){this.constructor=u}u.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.VisualHeaderValidator=s.VisualHeaderSettingsValidator=s.VisualSettingsValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"visualHeaders",validators:[c.Validators.visualHeadersValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.VisualSettingsValidator=f;var C=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"visible",validators:[c.Validators.booleanValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.VisualHeaderSettingsValidator=C;var y=function(h){w(u,h);function u(){return h!==null&&h.apply(this,arguments)||this}return u.prototype.validate=function(g,m,p){if(g==null)return null;var A=h.prototype.validate.call(this,g,m,p);if(A)return A;var S=[{field:"settings",validators:[c.Validators.fieldRequiredValidator,c.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[c.Validators.visualHeaderSelectorValidator]}],T=new v.MultipleFieldsValidator(S);return T.validate(g,m,p)},u}(_.ObjectValidator);s.VisualHeaderValidator=y},(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnyOfValidator=void 0;var E=function(){function w(v){this.validators=v}return w.prototype.validate=function(v,_,c){if(v==null)return null;for(var f=!1,C=0,y=this.validators;C<y.length;C++){var h=y[C],u=h.validate(v,_,c);if(!u){f=!0;break}}return f?null:[{message:c+" property is invalid",path:(_?_+".":"")+c,keyword:"invalid"}]},w}();s.AnyOfValidator=E},(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FieldForbiddenValidator=void 0;var E=function(){function w(){}return w.prototype.validate=function(v,_,c){return v!==void 0?[{message:c+" is forbidden",path:(_?_+".":"")+c,keyword:"forbidden"}]:null},w}();s.FieldForbiddenValidator=E},(b,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FieldRequiredValidator=void 0;var E=function(){function w(){}return w.prototype.validate=function(v,_,c){return v==null?[{message:c+" is required",path:(_?_+".":"")+c,keyword:"required"}]:null},w}();s.FieldRequiredValidator=E},function(b,s,E){var w=this&&this.__extends||function(){var c=function(f,C){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,h){y.__proto__=h}||function(y,h){for(var u in h)Object.prototype.hasOwnProperty.call(h,u)&&(y[u]=h[u])},c(f,C)};return function(f,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");c(f,C);function y(){this.constructor=f}f.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.MapValidator=void 0;var v=E(4),_=function(c){w(f,c);function f(C,y){var h=c.call(this)||this;return h.keyValidators=C,h.valueValidators=y,h}return f.prototype.validate=function(C,y,h){if(C==null)return null;var u=c.prototype.validate.call(this,C,y,h);if(u)return u;for(var g in C)if(C.hasOwnProperty(g)){for(var m=(y?y+".":"")+h+"."+g,p=0,A=this.keyValidators;p<A.length;p++){var S=A[p];if(u=S.validate(g,m,h),u)return u}for(var T=0,R=this.valueValidators;T<R.length;T++){var D=R[T];if(u=D.validate(C[g],m,h),u)return u}}return null},f}(v.ObjectValidator);s.MapValidator=_},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.ParametersPanelValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"expanded",validators:[c.Validators.booleanValidator]},{field:"enabled",validators:[c.Validators.booleanValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.ParametersPanelValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var m=function(p,A){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,T){S.__proto__=T}||function(S,T){for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(S[R]=T[R])},m(p,A)};return function(p,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");m(p,A);function S(){this.constructor=p}p.prototype=A===null?Object.create(A):(S.prototype=A.prototype,new S)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.TableDataValidator=s.TableSchemaValidator=s.ColumnSchemaValidator=s.CredentialsValidator=s.DatasourceConnectionConfigValidator=s.DatasetCreateConfigValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"locale",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"mashupDocument",validators:[c.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[c.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[c.Validators.tableSchemaListValidator]},{field:"data",validators:[c.Validators.tableDataArrayValidator]}],M=new v.MultipleFieldsValidator(D);if(R=M.validate(A,S,T),R)return R;if(A.datasourceConnectionConfig&&A.mashupDocument==null)return[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}];if(A.data&&A.tableSchemaList==null)return[{message:"tableSchemaList cannot be empty when data is provided"}];if(A.data==null&&A.mashupDocument==null)return[{message:"At least one of data or mashupDocument must be provided"}]},p}(_.ObjectValidator);s.DatasetCreateConfigValidator=f;var C=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"dataCacheMode",validators:[c.Validators.dataCacheModeValidator]},{field:"credentials",validators:[c.Validators.credentialsValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.DatasourceConnectionConfigValidator=C;var y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"credentialType",validators:[c.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[c.Validators.credentialDetailsValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.CredentialsValidator=y;var h=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"displayName",validators:[c.Validators.stringValidator]},{field:"dataType",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.ColumnSchemaValidator=h;var u=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"columns",validators:[c.Validators.fieldRequiredValidator,c.Validators.columnSchemaArrayValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.TableSchemaValidator=u;var g=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.prototype.validate=function(A,S,T){if(A==null)return null;var R=m.prototype.validate.call(this,A,S,T);if(R)return R;var D=[{field:"name",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"rows",validators:[c.Validators.fieldRequiredValidator,c.Validators.rawDataValidator]}],M=new v.MultipleFieldsValidator(D);return M.validate(A,S,T)},p}(_.ObjectValidator);s.TableDataValidator=g},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.QuickCreateValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"accessToken",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"groupId",validators:[c.Validators.stringValidator]},{field:"tokenType",validators:[c.Validators.tokenTypeValidator]},{field:"theme",validators:[c.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[c.Validators.fieldRequiredValidator,c.Validators.datasetCreateConfigValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.QuickCreateValidator=f},function(b,s,E){var w=this&&this.__extends||function(){var f=function(C,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(h[g]=u[g])},f(C,y)};return function(C,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");f(C,y);function h(){this.constructor=C}C.prototype=y===null?Object.create(y):(h.prototype=y.prototype,new h)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PrintSettingsValidator=void 0;var v=E(3),_=E(4),c=function(f){w(C,f);function C(){return f!==null&&f.apply(this,arguments)||this}return C.prototype.validate=function(y,h,u){if(y==null)return null;var g=f.prototype.validate.call(this,y,h,u);if(g)return g;var m=[{field:"browserPrintAdjustmentsMode",validators:[new _.EnumValidator([0,1])]}],p=new v.MultipleFieldsValidator(m);return p.validate(y,h,u)},C}(_.ObjectValidator);s.PrintSettingsValidator=c},function(b,s,E){var w=this&&this.__extends||function(){var C=function(y,h){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(u[m]=g[m])},C(y,h)};return function(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");C(y,h);function u(){this.constructor=y}y.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();Object.defineProperty(s,"__esModule",{value:!0}),s.PaginatedReportDatasetBindingValidator=void 0;var v=E(3),_=E(4),c=E(1),f=function(C){w(y,C);function y(){return C!==null&&C.apply(this,arguments)||this}return y.prototype.validate=function(h,u,g){if(h==null)return null;var m=C.prototype.validate.call(this,h,u,g);if(m)return m;var p=[{field:"sourceDatasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]},{field:"targetDatasetId",validators:[c.Validators.fieldRequiredValidator,c.Validators.stringValidator]}],A=new v.MultipleFieldsValidator(p);return A.validate(h,u,g)},y}(_.ObjectValidator);s.PaginatedReportDatasetBindingValidator=f}],a={};function l(b){var s=a[b];if(s!==void 0)return s.exports;var E=a[b]={exports:{}};return o[b].call(E.exports,E,E.exports,l),E.exports}var d=l(0);return d})())},"./node_modules/powerbi-router/dist/router.js":function(n){(function(a,l){n.exports=l()})(this,function(){return function(o){var a={};function l(d){if(a[d])return a[d].exports;var b=a[d]={exports:{},id:d,loaded:!1};return o[d].call(b.exports,b,b.exports,l),b.loaded=!0,b.exports}return l.m=o,l.c=a,l.p="",l(0)}([function(o,a,l){"use strict";var d=l(1),b=function(){function E(w){this.handlers=w,this.getRouteRecognizer=new d,this.patchRouteRecognizer=new d,this.postRouteRecognizer=new d,this.putRouteRecognizer=new d,this.deleteRouteRecognizer=new d}return E.prototype.get=function(w,v){return this.registerHandler(this.getRouteRecognizer,"GET",w,v),this},E.prototype.patch=function(w,v){return this.registerHandler(this.patchRouteRecognizer,"PATCH",w,v),this},E.prototype.post=function(w,v){return this.registerHandler(this.postRouteRecognizer,"POST",w,v),this},E.prototype.put=function(w,v){return this.registerHandler(this.putRouteRecognizer,"PUT",w,v),this},E.prototype.delete=function(w,v){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",w,v),this},E.prototype.registerHandler=function(w,v,_,c){var f=function(y){var h=new s;return Promise.resolve(c(y,h)).then(function(u){return h})};w.add([{path:_,handler:f}]);var C={test:function(y){if(y.method!==v)return!1;var h=w.recognize(y.url);if(h===void 0)return!1;var u=h[0];return y.params=u.params,y.queryParams=h.queryParams,y.handler=u.handler,!0},handle:function(y){return y.handler(y)}};this.handlers.addHandler(C)},E}();a.Router=b;var s=function(){function E(){this.statusCode=200,this.headers={},this.body=null}return E.prototype.send=function(w,v){this.statusCode=w,this.body=v},E}();a.Response=s},function(o,a,l){var d;(function(b){(function(){"use strict";function s(F,K,q){this.path=F,this.matcher=K,this.delegate=q}s.prototype={to:function(F,K){var q=this.delegate;if(q&&q.willAddRoute&&(F=q.willAddRoute(this.matcher.target,F)),this.matcher.add(this.path,F),K){if(K.length===0)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,F,K,this.delegate)}return this}};function E(F){this.routes={},this.children={},this.target=F}E.prototype={add:function(F,K){this.routes[F]=K},addChild:function(F,K,q,J){var le=new E(K);this.children[F]=le;var j=w(F,le,J);J&&J.contextEntered&&J.contextEntered(K,j),q(j)}};function w(F,K,q){return function(J,le){var j=F+J;if(le)le(w(j,K,q));else return new s(F+J,K,q)}}function v(F,K,q){for(var J=0,le=0;le<F.length;le++)J+=F[le].path.length;K=K.substr(J);var j={path:K,handler:q};F.push(j)}function _(F,K,q,J){var le=K.routes;for(var j in le)if(le.hasOwnProperty(j)){var De=F.slice();v(De,j,le[j]),K.children[j]?_(De,K.children[j],q,J):q.call(J,De)}}var c=function(F,K){var q=new E;F(w("",q,this.delegate)),_([],q,function(J){K?K(this,J):this.add(J)},this)},f=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],C=new RegExp("(\\"+f.join("|\\")+")","g");function y(F){return Object.prototype.toString.call(F)==="[object Array]"}function h(F){this.string=F}h.prototype={eachChar:function(F){for(var K=this.string,q,J=0;J<K.length;J++)q=K.charAt(J),F=F.put({invalidChars:void 0,repeat:!1,validChars:q});return F},regex:function(){return this.string.replace(C,"\\$1")},generate:function(){return this.string}};function u(F){this.name=F}u.prototype={eachChar:function(F){return F.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(F){return F[this.name]}};function g(F){this.name=F}g.prototype={eachChar:function(F){return F.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(F){return F[this.name]}};function m(){}m.prototype={eachChar:function(F){return F},regex:function(){return""},generate:function(){return""}};function p(F,K,q){F.charAt(0)==="/"&&(F=F.substr(1));var J=F.split("/"),le=new Array(J.length);q.val="";for(var j=0;j<J.length;j++){var De=J[j],He;(He=De.match(/^:([^\/]+)$/))?(le[j]=new u(He[1]),K.push(He[1]),q.val+="3"):(He=De.match(/^\*([^\/]+)$/))?(le[j]=new g(He[1]),q.val+="1",K.push(He[1])):De===""?(le[j]=new m,q.val+="2"):(le[j]=new h(De),q.val+="4")}return q.val=+q.val,le}function A(F){this.charSpec=F,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}A.prototype={get:function(F){if(this.charSpecs[F.validChars])return this.charSpecs[F.validChars];for(var K=this.nextStates,q=0;q<K.length;q++){var J=K[q],le=J.charSpec.validChars===F.validChars;if(le=le&&J.charSpec.invalidChars===F.invalidChars,le)return this.charSpecs[F.validChars]=J,J}},put:function(F){var K;return(K=this.get(F))||(K=new A(F),this.nextStates.push(K),F.repeat&&K.nextStates.push(K)),K},match:function(F){for(var K=this.nextStates,q,J,le,j=[],De=0;De<K.length;De++)q=K[De],J=q.charSpec,typeof(le=J.validChars)<"u"?le.indexOf(F)!==-1&&j.push(q):typeof(le=J.invalidChars)<"u"&&le.indexOf(F)===-1&&j.push(q);return j}};function S(F){return F.sort(function(K,q){return q.specificity.val-K.specificity.val})}function T(F,K){for(var q=[],J=0,le=F.length;J<le;J++){var j=F[J];q=q.concat(j.match(K))}return q}var R=Object.create||function(F){function K(){}return K.prototype=F,new K};function D(F){this.queryParams=F||{}}D.prototype=R({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});function M(F,K,q){var J=F.handlers,le=F.regex,j=K.match(le),De=1,He=new D(q);He.length=J.length;for(var L=0;L<J.length;L++){for(var $=J[L],z=$.names,te={},Z=0;Z<z.length;Z++)te[z[Z]]=j[De++];He[L]={handler:$.handler,params:te,isDynamic:!!z.length}}return He}function V(F){F=F.replace(/\+/gm,"%20");var K;try{K=decodeURIComponent(F)}catch{K=""}return K}var H=function(){this.rootState=new A,this.names={}};H.prototype={add:function(F,K){for(var q=this.rootState,J="^",le={},j=new Array(F.length),De=[],He,L=!0,$=0;$<F.length;$++){var z=F[$],te=[],Z=p(z.path,te,le);De=De.concat(Z);for(var re=0;re<Z.length;re++){var me=Z[re];me instanceof m||(L=!1,q=q.put({invalidChars:void 0,repeat:!1,validChars:"/"}),J+="/",q=me.eachChar(q),J+=me.regex())}var ge={handler:z.handler,names:te};j[$]=ge}L&&(q=q.put({invalidChars:void 0,repeat:!1,validChars:"/"}),J+="/"),q.handlers=j,q.regex=new RegExp(J+"$"),q.specificity=le,(He=K&&K.as)&&(this.names[He]={segments:De,handlers:j})},handlersFor:function(F){var K=this.names[F];if(!K)throw new Error("There is no route named "+F);for(var q=new Array(K.handlers.length),J=0;J<K.handlers.length;J++)q[J]=K.handlers[J];return q},hasRoute:function(F){return!!this.names[F]},generate:function(F,K){var q=this.names[F],J="";if(!q)throw new Error("There is no route named "+F);for(var le=q.segments,j=0;j<le.length;j++){var De=le[j];De instanceof m||(J+="/",J+=De.generate(K))}return J.charAt(0)!=="/"&&(J="/"+J),K&&K.queryParams&&(J+=this.generateQueryString(K.queryParams,q.handlers)),J},generateQueryString:function(F,K){var q=[],J=[];for(var le in F)F.hasOwnProperty(le)&&J.push(le);J.sort();for(var j=0;j<J.length;j++){le=J[j];var De=F[le];if(De!=null){var He=encodeURIComponent(le);if(y(De))for(var L=0;L<De.length;L++){var $=le+"[]="+encodeURIComponent(De[L]);q.push($)}else He+="="+encodeURIComponent(De),q.push(He)}}return q.length===0?"":"?"+q.join("&")},parseQueryString:function(F){for(var K=F.split("&"),q={},J=0;J<K.length;J++){var le=K[J].split("="),j=V(le[0]),De=j.length,He=!1,L;le.length===1?L="true":(De>2&&j.slice(De-2)==="[]"&&(He=!0,j=j.slice(0,De-2),q[j]||(q[j]=[])),L=le[1]?V(le[1]):""),He?q[j].push(L):q[j]=L}return q},recognize:function(F){var K=[this.rootState],q,J,le,j,De={},He=!1;if(j=F.indexOf("?"),j!==-1){var L=F.substr(j+1,F.length);F=F.substr(0,j),De=this.parseQueryString(L)}for(F=decodeURI(F),F.charAt(0)!=="/"&&(F="/"+F),q=F.length,q>1&&F.charAt(q-1)==="/"&&(F=F.substr(0,q-1),He=!0),J=0;J<F.length&&(K=T(K,F.charAt(J)),!!K.length);J++);var $=[];for(J=0;J<K.length;J++)K[J].handlers&&$.push(K[J]);K=S($);var z=$[0];if(z&&z.handlers)return He&&z.regex.source.slice(-5)==="(.+)$"&&(F=F+"/"),M(z,F,De)}},H.prototype.map=c,H.VERSION="0.1.11";var Q=H;l(3).amd?(d=function(){return Q}.call(a,l,a,b),d!==void 0&&(b.exports=d)):typeof b<"u"&&b.exports?b.exports=Q:typeof this<"u"&&(this.RouteRecognizer=Q)}).call(this)}).call(a,l(2)(o))},function(o,a){o.exports=function(l){return l.webpackPolyfill||(l.deprecate=function(){},l.paths=[],l.children=[],l.webpackPolyfill=1),l}},function(o,a){o.exports=function(){throw new Error("define cannot be used indirect")}}])})},"./src/FilterBuilders/advancedFilterBuilder.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.AdvancedFilterBuilder=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/FilterBuilders/filterBuilder.ts"),s=function(E){l(w,E);function w(){var v=E!==null&&E.apply(this,arguments)||this;return v.conditions=[],v}return w.prototype.and=function(){return this.logicalOperator="And",this},w.prototype.or=function(){return this.logicalOperator="Or",this},w.prototype.addCondition=function(v,_){var c={operator:v,value:_};return this.conditions.push(c),this},w.prototype.build=function(){var v=new d.AdvancedFilter(this.target,this.logicalOperator,this.conditions);return v},w}(b.FilterBuilder);o.AdvancedFilterBuilder=s},"./src/FilterBuilders/basicFilterBuilder.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.BasicFilterBuilder=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/FilterBuilders/filterBuilder.ts"),s=function(E){l(w,E);function w(){var v=E!==null&&E.apply(this,arguments)||this;return v.isRequireSingleSelection=!1,v}return w.prototype.in=function(v){return this.operator="In",this.values=v,this},w.prototype.notIn=function(v){return this.operator="NotIn",this.values=v,this},w.prototype.all=function(){return this.operator="All",this.values=[],this},w.prototype.requireSingleSelection=function(v){return v===void 0&&(v=!1),this.isRequireSingleSelection=v,this},w.prototype.build=function(){var v=new d.BasicFilter(this.target,this.operator,this.values);return v.requireSingleSelection=this.isRequireSingleSelection,v},w}(b.FilterBuilder);o.BasicFilterBuilder=s},"./src/FilterBuilders/filterBuilder.ts":(n,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FilterBuilder=void 0;var a=function(){function l(){}return l.prototype.withTargetObject=function(d){return this.target=d,this},l.prototype.withColumnTarget=function(d,b){return this.target={table:d,column:b},this},l.prototype.withMeasureTarget=function(d,b){return this.target={table:d,measure:b},this},l.prototype.withHierarchyLevelTarget=function(d,b,s){return this.target={table:d,hierarchy:b,hierarchyLevel:s},this},l.prototype.withColumnAggregation=function(d,b,s){return this.target={table:d,column:b,aggregationFunction:s},this},l.prototype.withHierarchyLevelAggregationTarget=function(d,b,s,E){return this.target={table:d,hierarchy:b,hierarchyLevel:s,aggregationFunction:E},this},l}();o.FilterBuilder=a},"./src/FilterBuilders/index.ts":(n,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RelativeTimeFilterBuilder=o.RelativeDateFilterBuilder=o.TopNFilterBuilder=o.AdvancedFilterBuilder=o.BasicFilterBuilder=void 0;var l=a("./src/FilterBuilders/basicFilterBuilder.ts");Object.defineProperty(o,"BasicFilterBuilder",{enumerable:!0,get:function(){return l.BasicFilterBuilder}});var d=a("./src/FilterBuilders/advancedFilterBuilder.ts");Object.defineProperty(o,"AdvancedFilterBuilder",{enumerable:!0,get:function(){return d.AdvancedFilterBuilder}});var b=a("./src/FilterBuilders/topNFilterBuilder.ts");Object.defineProperty(o,"TopNFilterBuilder",{enumerable:!0,get:function(){return b.TopNFilterBuilder}});var s=a("./src/FilterBuilders/relativeDateFilterBuilder.ts");Object.defineProperty(o,"RelativeDateFilterBuilder",{enumerable:!0,get:function(){return s.RelativeDateFilterBuilder}});var E=a("./src/FilterBuilders/relativeTimeFilterBuilder.ts");Object.defineProperty(o,"RelativeTimeFilterBuilder",{enumerable:!0,get:function(){return E.RelativeTimeFilterBuilder}})},"./src/FilterBuilders/relativeDateFilterBuilder.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.RelativeDateFilterBuilder=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/FilterBuilders/filterBuilder.ts"),s=function(E){l(w,E);function w(){var v=E!==null&&E.apply(this,arguments)||this;return v.isTodayIncluded=!0,v}return w.prototype.inLast=function(v,_){return this.operator=d.RelativeDateOperators.InLast,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.inThis=function(v,_){return this.operator=d.RelativeDateOperators.InThis,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.inNext=function(v,_){return this.operator=d.RelativeDateOperators.InNext,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.includeToday=function(v){return this.isTodayIncluded=v,this},w.prototype.build=function(){var v=new d.RelativeDateFilter(this.target,this.operator,this.timeUnitsCount,this.timeUnitType,this.isTodayIncluded);return v},w}(b.FilterBuilder);o.RelativeDateFilterBuilder=s},"./src/FilterBuilders/relativeTimeFilterBuilder.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.RelativeTimeFilterBuilder=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/FilterBuilders/filterBuilder.ts"),s=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.prototype.inLast=function(v,_){return this.operator=d.RelativeDateOperators.InLast,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.inThis=function(v,_){return this.operator=d.RelativeDateOperators.InThis,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.inNext=function(v,_){return this.operator=d.RelativeDateOperators.InNext,this.timeUnitsCount=v,this.timeUnitType=_,this},w.prototype.build=function(){var v=new d.RelativeTimeFilter(this.target,this.operator,this.timeUnitsCount,this.timeUnitType);return v},w}(b.FilterBuilder);o.RelativeTimeFilterBuilder=s},"./src/FilterBuilders/topNFilterBuilder.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.TopNFilterBuilder=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/FilterBuilders/filterBuilder.ts"),s=function(E){l(w,E);function w(){return E!==null&&E.apply(this,arguments)||this}return w.prototype.top=function(v){return this.operator="Top",this.itemCount=v,this},w.prototype.bottom=function(v){return this.operator="Bottom",this.itemCount=v,this},w.prototype.orderByTarget=function(v){return this.orderByTargetValue=v,this},w.prototype.build=function(){var v=new d.TopNFilter(this.target,this.operator,this.itemCount,this.orderByTargetValue);return v},w}(b.FilterBuilder);o.TopNFilterBuilder=s},"./src/bookmarksManager.ts":function(n,o,a){var l=this&&this.__awaiter||function(w,v,_,c){function f(C){return C instanceof _?C:new _(function(y){y(C)})}return new(_||(_=Promise))(function(C,y){function h(m){try{g(c.next(m))}catch(p){y(p)}}function u(m){try{g(c.throw(m))}catch(p){y(p)}}function g(m){m.done?C(m.value):f(m.value).then(h,u)}g((c=c.apply(w,v||[])).next())})},d=this&&this.__generator||function(w,v){var _={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},c,f,C,y;return y={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function h(g){return function(m){return u([g,m])}}function u(g){if(c)throw new TypeError("Generator is already executing.");for(;_;)try{if(c=1,f&&(C=g[0]&2?f.return:g[0]?f.throw||((C=f.return)&&C.call(f),0):f.next)&&!(C=C.call(f,g[1])).done)return C;switch(f=0,C&&(g=[g[0]&2,C.value]),g[0]){case 0:case 1:C=g;break;case 4:return _.label++,{value:g[1],done:!1};case 5:_.label++,f=g[1],g=[0];continue;case 7:g=_.ops.pop(),_.trys.pop();continue;default:if(C=_.trys,!(C=C.length>0&&C[C.length-1])&&(g[0]===6||g[0]===2)){_=0;continue}if(g[0]===3&&(!C||g[1]>C[0]&&g[1]<C[3])){_.label=g[1];break}if(g[0]===6&&_.label<C[1]){_.label=C[1],C=g;break}if(C&&_.label<C[2]){_.label=C[2],_.ops.push(g);break}C[2]&&_.ops.pop(),_.trys.pop();continue}g=v.call(w,_)}catch(m){g=[6,m],f=0}finally{c=C=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BookmarksManager=void 0;var b=a("./src/util.ts"),s=a("./src/errors.ts"),E=function(){function w(v,_,c){this.service=v,this.config=_,this.iframe=c}return w.prototype.getBookmarks=function(){return l(this,void 0,void 0,function(){var v,_;return d(this,function(c){switch(c.label){case 0:if((0,b.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/bookmarks",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return v=c.sent(),[2,v.body];case 3:throw _=c.sent(),_.body;case 4:return[2]}})})},w.prototype.apply=function(v){return l(this,void 0,void 0,function(){var _,c;return d(this,function(f){switch(f.label){case 0:if((0,b.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];_={name:v},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/applyByName",_,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,f.sent()];case 3:throw c=f.sent(),c.body;case 4:return[2]}})})},w.prototype.play=function(v){return l(this,void 0,void 0,function(){var _,c;return d(this,function(f){switch(f.label){case 0:if((0,b.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];_={playMode:v},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/play",_,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,f.sent()];case 3:throw c=f.sent(),c.body;case 4:return[2]}})})},w.prototype.capture=function(v){return l(this,void 0,void 0,function(){var _,c,f;return d(this,function(C){switch(C.label){case 0:if((0,b.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];_={options:v||{}},C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/capture",_,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return c=C.sent(),[2,c.body];case 3:throw f=C.sent(),f.body;case 4:return[2]}})})},w.prototype.applyState=function(v){return l(this,void 0,void 0,function(){var _,c;return d(this,function(f){switch(f.label){case 0:if((0,b.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(s.APINotSupportedForRDLError)];_={state:v},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/bookmarks/applyState",_,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,f.sent()];case 3:throw c=f.sent(),c.body;case 4:return[2]}})})},w}();o.BookmarksManager=E},"./src/config.ts":(n,o)=>{Object.defineProperty(o,"__esModule",{value:!0});var a={version:"2.23.1",type:"js"};o.default=a},"./src/create.ts":function(n,o,a){var l=this&&this.__extends||function(){var _=function(c,f){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])},_(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");_(c,f);function C(){this.constructor=c}c.prototype=f===null?Object.create(f):(C.prototype=f.prototype,new C)}}(),d=this&&this.__awaiter||function(_,c,f,C){function y(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function g(A){try{p(C.next(A))}catch(S){u(S)}}function m(A){try{p(C.throw(A))}catch(S){u(S)}}function p(A){A.done?h(A.value):y(A.value).then(g,m)}p((C=C.apply(_,c||[])).next())})},b=this&&this.__generator||function(_,c){var f={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},C,y,h,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(p){return function(A){return m([p,A])}}function m(p){if(C)throw new TypeError("Generator is already executing.");for(;f;)try{if(C=1,y&&(h=p[0]&2?y.return:p[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,p[1])).done)return h;switch(y=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,y=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(h=f.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){f=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){f.label=p[1];break}if(p[0]===6&&f.label<h[1]){f.label=h[1],h=p;break}if(h&&f.label<h[2]){f.label=h[2],f.ops.push(p);break}h[2]&&f.ops.pop(),f.trys.pop();continue}p=c.call(_,f)}catch(A){p=[6,A],y=0}finally{C=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Create=void 0;var s=a("./node_modules/powerbi-models/dist/models.js"),E=a("./src/embed.ts"),w=a("./src/util.ts"),v=function(_){l(c,_);function c(f,C,y,h,u){return _.call(this,f,C,y,void 0,h,u)||this}return c.prototype.getId=function(){var f=this.createConfig&&this.createConfig.datasetId?this.createConfig.datasetId:c.findIdFromEmbedUrl(this.config.embedUrl);if(typeof f!="string"||f.length===0)throw new Error("Dataset id is required, but it was not found. You must provide an id either as part of embed configuration.");return f},c.prototype.validate=function(f){return(0,s.validateCreateReport)(f)},c.prototype.configChanged=function(f){if(!f){var C=this.config;this.createConfig={accessToken:C.accessToken,datasetId:C.datasetId||this.getId(),groupId:C.groupId,settings:C.settings,tokenType:C.tokenType,theme:C.theme}}},c.prototype.getDefaultEmbedUrlEndpoint=function(){return"reportEmbed"},c.prototype.isSaved=function(){return d(this,void 0,void 0,function(){return b(this,function(f){switch(f.label){case 0:return[4,w.isSavedInternal(this.service.hpm,this.config.uniqueId,this.iframe.contentWindow)];case 1:return[2,f.sent()]}})})},c.findIdFromEmbedUrl=function(f){var C=/datasetId="?([^&]+)"?/,y=f.match(C),h;return y&&(h=y[1]),h},c.prototype.create=function(){var f;return d(this,void 0,void 0,function(){var C,y,h,u;return b(this,function(g){switch(g.label){case 0:if(C=(0,s.validateCreateReport)(this.createConfig),C)throw C;g.label=1;case 1:return g.trys.push([1,3,,4]),y={uid:this.config.uniqueId,sdkSessionId:this.service.getSdkSessionId()},!((f=this.eventHooks)===null||f===void 0)&&f.accessTokenProvider&&(y.tokenProviderSupplied=!0),[4,this.service.hpm.post("/report/create",this.createConfig,y,this.iframe.contentWindow)];case 2:return h=g.sent(),[2,h.body];case 3:throw u=g.sent(),u.body;case 4:return[2]}})})},c}(E.Embed);o.Create=v},"./src/dashboard.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.Dashboard=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/embed.ts"),s=function(E){l(w,E);function w(v,_,c,f,C){var y=E.call(this,v,_,c,void 0,f,C)||this;return y.loadPath="/dashboard/load",y.phasedLoadPath="/dashboard/prepare",Array.prototype.push.apply(y.allowedEvents,w.allowedEvents),y}return w.findIdFromEmbedUrl=function(v){var _=/dashboardId="?([^&]+)"?/,c=v.match(_),f;return c&&(f=c[1]),f},w.prototype.getId=function(){var v=this.config,_=v.id||this.element.getAttribute(w.dashboardIdAttribute)||w.findIdFromEmbedUrl(v.embedUrl);if(typeof _!="string"||_.length===0)throw new Error("Dashboard id is required, but it was not found. You must provide an id either as part of embed configuration or as attribute '".concat(w.dashboardIdAttribute,"'."));return _},w.prototype.validate=function(v){var _=v,c=(0,d.validateDashboardLoad)(_);return c||this.validatePageView(_.pageView)},w.prototype.configChanged=function(v){v||(this.config.id=this.getId())},w.prototype.getDefaultEmbedUrlEndpoint=function(){return"dashboardEmbed"},w.prototype.validatePageView=function(v){if(v&&v!=="fitToWidth"&&v!=="oneColumn"&&v!=="actualSize")return[{message:"pageView must be one of the followings: fitToWidth, oneColumn, actualSize"}]},w.allowedEvents=["tileClicked","error"],w.dashboardIdAttribute="powerbi-dashboard-id",w.typeAttribute="powerbi-type",w.type="Dashboard",w}(b.Embed);o.Dashboard=s},"./src/embed.ts":function(n,o,a){var l=this&&this.__awaiter||function(_,c,f,C){function y(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function g(A){try{p(C.next(A))}catch(S){u(S)}}function m(A){try{p(C.throw(A))}catch(S){u(S)}}function p(A){A.done?h(A.value):y(A.value).then(g,m)}p((C=C.apply(_,c||[])).next())})},d=this&&this.__generator||function(_,c){var f={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},C,y,h,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(p){return function(A){return m([p,A])}}function m(p){if(C)throw new TypeError("Generator is already executing.");for(;f;)try{if(C=1,y&&(h=p[0]&2?y.return:p[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,p[1])).done)return h;switch(y=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,y=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(h=f.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){f=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){f.label=p[1];break}if(p[0]===6&&f.label<h[1]){f.label=h[1],h=p;break}if(h&&f.label<h[2]){f.label=h[2],f.ops.push(p);break}h[2]&&f.ops.pop(),f.trys.pop();continue}p=c.call(_,f)}catch(A){p=[6,A],y=0}finally{C=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Embed=void 0;var b=a("./node_modules/powerbi-models/dist/models.js"),s=a("./src/config.ts"),E=a("./src/errors.ts"),w=a("./src/util.ts"),v=function(){function _(c,f,C,y,h,u){if(this.allowedEvents=[],(0,w.autoAuthInEmbedUrl)(C.embedUrl))throw new Error(E.EmbedUrlNotSupported);Array.prototype.push.apply(this.allowedEvents,_.allowedEvents),this.eventHandlers=[],this.service=c,this.element=f,this.iframe=y,this.iframeLoaded=!1,this.embedtype=C.type.toLowerCase(),this.commands=[],this.groups=[],this.populateConfig(C,u),(0,w.isCreate)(this.embedtype)?this.setIframe(!1,h,u):this.setIframe(!0,h,u)}return _.prototype.create=function(){throw new Error("no create support")},_.prototype.save=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/save",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return c=C.sent(),[2,c.body];case 2:throw f=C.sent(),f.body;case 3:return[2]}})})},_.prototype.saveAs=function(c){return l(this,void 0,void 0,function(){var f,C;return d(this,function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/saveAs",c,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return f=y.sent(),[2,f.body];case 2:throw C=y.sent(),C.body;case 3:return[2]}})})},_.prototype.getCorrelationId=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.service.hpm.get("/getCorrelationId",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return c=C.sent(),[2,c.body];case 2:throw f=C.sent(),f.body;case 3:return[2]}})})},_.prototype.load=function(c){var f;return l(this,void 0,void 0,function(){var C,y,h,u,g;return d(this,function(m){switch(m.label){case 0:if(!this.config.accessToken)return console.debug("Power BI SDK iframe is loaded but powerbi.embed is not called yet."),[2];if(!this.iframeLoaded)return console.debug("Power BI SDK is trying to post /report/load before iframe is ready."),[2];if(C=c&&this.config.type==="report"?this.phasedLoadPath:this.loadPath,y={uid:this.config.uniqueId,sdkSessionId:this.service.getSdkSessionId(),bootstrapped:this.config.bootstrapped,sdkVersion:s.default.version},!((f=this.eventHooks)===null||f===void 0)&&f.accessTokenProvider&&(y.tokenProviderSupplied=!0),h=new Date,this.lastLoadRequest&&(0,w.getTimeDiffInMilliseconds)(this.lastLoadRequest,h)<100)return console.debug("Power BI SDK sent more than two /report/load requests in the last 100ms interval."),[2];this.lastLoadRequest=h,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.post(C,this.config,y,this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},_.prototype.off=function(c,f){var C=this,y={name:c,type:null,id:null,value:null};if(f)(0,w.remove)(function(u){return u.test(y)&&u.handle===f},this.eventHandlers),this.element.removeEventListener(c,f);else{var h=this.eventHandlers.filter(function(u){return u.test(y)});h.forEach(function(u){(0,w.remove)(function(g){return g===u},C.eventHandlers),C.element.removeEventListener(c,u.handle)})}},_.prototype.on=function(c,f){if(this.allowedEvents.indexOf(c)===-1)throw new Error("eventName must be one of ".concat(this.allowedEvents,". You passed: ").concat(c));this.eventHandlers.push({test:function(C){return C.name===c},handle:f}),this.element.addEventListener(c,f)},_.prototype.reload=function(){return l(this,void 0,void 0,function(){return d(this,function(c){switch(c.label){case 0:return[4,this.load()];case 1:return[2,c.sent()]}})})},_.prototype.setAccessToken=function(c){return l(this,void 0,void 0,function(){var f,C,y;return d(this,function(h){switch(h.label){case 0:if(!c)throw new Error("Access token cannot be empty");f=this.config.type,f=f==="create"||f==="visual"||f==="qna"||f==="quickCreate"?"report":f,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.service.hpm.post("/"+f+"/token",c,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return C=h.sent(),this.config.accessToken=c,this.element.setAttribute(_.accessTokenAttribute,c),this.service.accessToken=c,[2,C.body];case 3:throw y=h.sent(),y.body;case 4:return[2]}})})},_.prototype.getAccessToken=function(c){var f=this.config.accessToken||this.element.getAttribute(_.accessTokenAttribute)||c;if(!f)throw new Error("No access token was found for element. You must specify an access token directly on the element using attribute '".concat(_.accessTokenAttribute,"' or specify a global token at: powerbi.accessToken."));return f},_.prototype.populateConfig=function(c,f){var C=this,y,h,u,g,m,p,A,S,T;this.bootstrapConfig?(this.config=(0,w.assign)({},this.bootstrapConfig,c),this.bootstrapConfig=null):this.config=(0,w.assign)({},c),this.config.embedUrl=this.getEmbedUrl(f),this.config.groupId=this.getGroupId(),this.addLocaleToEmbedUrl(c),this.config.uniqueId=this.getUniqueId();var R=(h=(y=this.config)===null||y===void 0?void 0:y.settings)===null||h===void 0?void 0:h.extensions;this.commands=(u=R?.commands)!==null&&u!==void 0?u:[],this.groups=(g=R?.groups)!==null&&g!==void 0?g:[],this.initialLayoutType=(A=(p=(m=this.config)===null||m===void 0?void 0:m.settings)===null||p===void 0?void 0:p.layoutType)!==null&&A!==void 0?A:b.LayoutType.Master;var D=(T=(S=this.config)===null||S===void 0?void 0:S.settings)===null||T===void 0?void 0:T.extensions;Array.isArray(D)&&(this.commands=[],D.map(function(M){M?.command&&C.commands.push(M.command)})),f?(this.bootstrapConfig=this.config,this.bootstrapConfig.bootstrapped=!0):this.config.accessToken=this.getAccessToken(this.service.accessToken),this.eventHooks=this.config.eventHooks,this.validateEventHooks(this.eventHooks),delete this.config.eventHooks,this.configChanged(f)},_.prototype.validateEventHooks=function(c){if(c){for(var f in c)if(c.hasOwnProperty(f)&&typeof c[f]!="function")throw new Error(f+" must be a function");var C=c.applicationContextProvider;if(C){if(this.embedtype.toLowerCase()!=="report")throw new Error("applicationContextProvider is only supported in report embed");this.config.embedUrl=(0,w.addParamToUrl)(this.config.embedUrl,"registerQueryCallback","true")}var y=c.accessTokenProvider;if(y&&(["create","quickcreate","report"].indexOf(this.embedtype.toLowerCase())===-1||this.config.tokenType!==b.TokenType.Aad))throw new Error("accessTokenProvider is only supported in report SaaS embed")}},_.prototype.addLocaleToEmbedUrl=function(c){if(c.settings){var f=c.settings.localeSettings;f&&f.language&&(this.config.embedUrl=(0,w.addParamToUrl)(this.config.embedUrl,"language",f.language)),f&&f.formatLocale&&(this.config.embedUrl=(0,w.addParamToUrl)(this.config.embedUrl,"formatLocale",f.formatLocale))}},_.prototype.getEmbedUrl=function(c){var f=this.config.embedUrl||this.element.getAttribute(_.embedUrlAttribute);if(c&&!f&&(f=this.getDefaultEmbedUrl(this.config.hostname)),typeof f!="string"||f.length===0)throw new Error("Embed Url is required, but it was not found. You must provide an embed url either as part of embed configuration or as attribute '".concat(_.embedUrlAttribute,"'."));return f},_.prototype.getDefaultEmbedUrl=function(c){c||(c=_.defaultEmbedHostName);var f=this.getDefaultEmbedUrlEndpoint();return c=c.toLowerCase().trim(),c.indexOf("https://")===0?"".concat(c,"/").concat(f):"https://".concat(c,"/").concat(f)},_.prototype.getUniqueId=function(){return this.config.uniqueId||this.element.getAttribute(_.nameAttribute)||(0,w.createRandomString)()},_.prototype.getGroupId=function(){return this.config.groupId||_.findGroupIdFromEmbedUrl(this.config.embedUrl)},_.prototype.fullscreen=function(){var c=this.iframe.requestFullscreen||this.iframe.msRequestFullscreen||this.iframe.mozRequestFullScreen||this.iframe.webkitRequestFullscreen;c.call(this.iframe)},_.prototype.exitFullscreen=function(){if(this.isFullscreen(this.iframe)){var c=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;c.call(document)}},_.prototype.isFullscreen=function(c){var f=["fullscreenElement","webkitFullscreenElement","mozFullscreenScreenElement","msFullscreenElement"];return f.some(function(C){return document[C]===c})},_.prototype.setIframe=function(c,f,C){var y=this;if(!this.iframe){var h=document.createElement("iframe"),u=this.config.uniqueId?(0,w.addParamToUrl)(this.config.embedUrl,"uid",this.config.uniqueId):this.config.embedUrl;if(!(0,w.validateEmbedUrl)(u))throw new Error(E.invalidEmbedUrlErrorMessage);h.style.width="100%",h.style.height="100%",h.setAttribute("src",u),h.setAttribute("scrolling","no"),h.setAttribute("allowfullscreen","true");for(var g=this.element;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(h),this.iframe=g.firstChild}if(c){if(!C){var m=this.validate(this.config);if(m)throw m}this.iframe.addEventListener("load",function(){y.iframeLoaded=!0,y.load(f)},!1),this.service.getNumberOfComponents()<=_.maxFrontLoadTimes&&(this.frontLoadHandler=function(){y.frontLoadSendConfig(y.config)},this.element.addEventListener("ready",this.frontLoadHandler,!1))}else this.iframe.addEventListener("load",function(){return y.create()},!1)},_.prototype.setComponentTitle=function(c){this.iframe&&(c==null?this.iframe.removeAttribute("title"):this.iframe.setAttribute("title",c))},_.prototype.setComponentTabIndex=function(c){this.element&&this.element.setAttribute("tabindex",c==null?"0":c.toString())},_.prototype.removeComponentTabIndex=function(c){this.element&&this.element.removeAttribute("tabindex")},_.findGroupIdFromEmbedUrl=function(c){var f=/groupId="?([^&]+)"?/,C=c.match(f),y;return C&&(y=C[1]),y},_.prototype.frontLoadSendConfig=function(c){return l(this,void 0,void 0,function(){var f,C,y;return d(this,function(h){switch(h.label){case 0:if(!c.accessToken)return[2];if(f=this.validate(c),f)throw f;if(this.iframe.contentWindow==null)return[2];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.service.hpm.post("/frontload/config",c,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return C=h.sent(),[2,C.body];case 3:throw y=h.sent(),y.body;case 4:return[2]}})})},_.allowedEvents=["loaded","saved","rendered","saveAsTriggered","error","dataSelected","buttonClicked","info"],_.accessTokenAttribute="powerbi-access-token",_.embedUrlAttribute="powerbi-embed-url",_.nameAttribute="powerbi-name",_.typeAttribute="powerbi-type",_.defaultEmbedHostName="https://app.powerbi.com",_.maxFrontLoadTimes=2,_}();o.Embed=v},"./src/errors.ts":(n,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.invalidEmbedUrlErrorMessage=o.EmbedUrlNotSupported=o.APINotSupportedForRDLError=void 0,o.APINotSupportedForRDLError="This API is currently not supported for RDL reports",o.EmbedUrlNotSupported="Embed URL is invalid for this scenario. Please use Power BI REST APIs to get the valid URL",o.invalidEmbedUrlErrorMessage="Invalid embed URL detected. Either URL hostname or protocol are invalid. Please use Power BI REST APIs to get the valid URL"},"./src/factories.ts":(n,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.routerFactory=o.wpmpFactory=o.hpmFactory=void 0;var l=a("./node_modules/window-post-message-proxy/dist/windowPostMessageProxy.js"),d=a("./node_modules/http-post-message/dist/httpPostMessage.js"),b=a("./node_modules/powerbi-router/dist/router.js"),s=a("./src/config.ts"),E=function(_,c,f,C,y){return f===void 0&&(f=s.default.version),C===void 0&&(C=s.default.type),new d.HttpPostMessage(_,{"x-sdk-type":C,"x-sdk-version":f,"x-sdk-wrapper-version":y},c)};o.hpmFactory=E;var w=function(_,c,f){return new l.WindowPostMessageProxy({processTrackingProperties:{addTrackingProperties:d.HttpPostMessage.addTrackingProperties,getTrackingProperties:d.HttpPostMessage.getTrackingProperties},isErrorMessage:d.HttpPostMessage.isErrorMessage,suppressWarnings:!0,name:_,logMessages:c,eventSourceOverrideWindow:f})};o.wpmpFactory=w;var v=function(_){return new b.Router(_)};o.routerFactory=v},"./src/page.ts":function(n,o,a){var l=this&&this.__awaiter||function(_,c,f,C){function y(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function g(A){try{p(C.next(A))}catch(S){u(S)}}function m(A){try{p(C.throw(A))}catch(S){u(S)}}function p(A){A.done?h(A.value):y(A.value).then(g,m)}p((C=C.apply(_,c||[])).next())})},d=this&&this.__generator||function(_,c){var f={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},C,y,h,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(p){return function(A){return m([p,A])}}function m(p){if(C)throw new TypeError("Generator is already executing.");for(;f;)try{if(C=1,y&&(h=p[0]&2?y.return:p[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,p[1])).done)return h;switch(y=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,y=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(h=f.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){f=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){f.label=p[1];break}if(p[0]===6&&f.label<h[1]){f.label=h[1],h=p;break}if(h&&f.label<h[2]){f.label=h[2],f.ops.push(p);break}h[2]&&f.ops.pop(),f.trys.pop();continue}p=c.call(_,f)}catch(A){p=[6,A],y=0}finally{C=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Page=void 0;var b=a("./node_modules/powerbi-models/dist/models.js"),s=a("./src/visualDescriptor.ts"),E=a("./src/util.ts"),w=a("./src/errors.ts"),v=function(){function _(c,f,C,y,h,u,g,m,p,A){this.report=c,this.name=f,this.displayName=C,this.isActive=y,this.visibility=h,this.defaultSize=u,this.mobileSize=m,this.defaultDisplayOption=g,this.background=p,this.wallpaper=A}return _.prototype.getSmartNarrativeInsights=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:if((0,E.isRDLEmbed)(this.report.config.embedUrl))return[2,Promise.reject(w.APINotSupportedForRDLError)];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/smartNarrativeInsights"),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return c=C.sent(),[2,c.body];case 3:throw f=C.sent(),f.body;case 4:return[2]}})})},_.prototype.getFilters=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/filters"),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return c=C.sent(),[2,c.body];case 2:throw f=C.sent(),f.body;case 3:return[2]}})})},_.prototype.updateFilters=function(c,f){return l(this,void 0,void 0,function(){var C,y;return d(this,function(h){switch(h.label){case 0:C={filtersOperation:c,filters:f},h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.report.service.hpm.post("/report/pages/".concat(this.name,"/filters"),C,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,h.sent()];case 3:throw y=h.sent(),y.body;case 4:return[2]}})})},_.prototype.removeFilters=function(){return l(this,void 0,void 0,function(){return d(this,function(c){switch(c.label){case 0:return[4,this.updateFilters(b.FiltersOperations.RemoveAll)];case 1:return[2,c.sent()]}})})},_.prototype.setFilters=function(c){return l(this,void 0,void 0,function(){var f;return d(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.report.service.hpm.put("/report/pages/".concat(this.name,"/filters"),c,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return[2,C.sent()];case 2:throw f=C.sent(),f.body;case 3:return[2]}})})},_.prototype.delete=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,this.report.service.hpm.delete("/report/pages/".concat(this.name),{},{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 1:return c=C.sent(),[2,c.body];case 2:throw f=C.sent(),f.body;case 3:return[2]}})})},_.prototype.setActive=function(){return l(this,void 0,void 0,function(){var c,f;return d(this,function(C){switch(C.label){case 0:c={name:this.name,displayName:null,isActive:!0},C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.report.service.hpm.put("/report/pages/active",c,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,C.sent()];case 3:throw f=C.sent(),f.body;case 4:return[2]}})})},_.prototype.setDisplayName=function(c){return l(this,void 0,void 0,function(){var f,C;return d(this,function(y){switch(y.label){case 0:f={name:this.name,displayName:c},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.report.service.hpm.put("/report/pages/".concat(this.name,"/name"),f,{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return[2,y.sent()];case 3:throw C=y.sent(),C.body;case 4:return[2]}})})},_.prototype.getVisuals=function(){return l(this,void 0,void 0,function(){var c,f,C=this;return d(this,function(y){switch(y.label){case 0:if((0,E.isRDLEmbed)(this.report.config.embedUrl))return[2,Promise.reject(w.APINotSupportedForRDLError)];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/visuals"),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return c=y.sent(),[2,c.body.map(function(h){return new s.VisualDescriptor(C,h.name,h.title,h.type,h.layout)})];case 3:throw f=y.sent(),f.body;case 4:return[2]}})})},_.prototype.getVisualByName=function(c){return l(this,void 0,void 0,function(){var f,C,y;return d(this,function(h){switch(h.label){case 0:if((0,E.isRDLEmbed)(this.report.config.embedUrl))return[2,Promise.reject(w.APINotSupportedForRDLError)];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/visuals"),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return f=h.sent(),C=f.body.find(function(u){return u.name===c}),C?[2,new s.VisualDescriptor(this,C.name,C.title,C.type,C.layout)]:[2,Promise.reject(b.CommonErrorCodes.NotFound)];case 3:throw y=h.sent(),y.body;case 4:return[2]}})})},_.prototype.setVisualDisplayState=function(c,f){return l(this,void 0,void 0,function(){var C,y;return d(this,function(h){return C=this.name,y=this.report,[2,y.setVisualDisplayState(C,c,f)]})})},_.prototype.moveVisual=function(c,f,C,y){return l(this,void 0,void 0,function(){var h,u;return d(this,function(g){return h=this.name,u=this.report,[2,u.moveVisual(h,c,f,C,y)]})})},_.prototype.resizeVisual=function(c,f,C){return l(this,void 0,void 0,function(){var y,h;return d(this,function(u){return y=this.name,h=this.report,[2,h.resizeVisual(y,c,f,C)]})})},_.prototype.resizePage=function(c,f,C){return l(this,void 0,void 0,function(){var y;return d(this,function(h){return this.isActive?(y=this.report,[2,y.resizeActivePage(c,f,C)]):[2,Promise.reject("Cannot resize the page. Only the active page can be resized")]})})},_.prototype.getSlicers=function(){return l(this,void 0,void 0,function(){var c,f,C=this;return d(this,function(y){switch(y.label){case 0:if((0,E.isRDLEmbed)(this.report.config.embedUrl))return[2,Promise.reject(w.APINotSupportedForRDLError)];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/visuals"),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return c=y.sent(),[2,c.body.filter(function(h){return h.type==="slicer"}).map(function(h){return new s.VisualDescriptor(C,h.name,h.title,h.type,h.layout)})];case 3:throw f=y.sent(),f.body;case 4:return[2]}})})},_.prototype.hasLayout=function(c){return l(this,void 0,void 0,function(){var f,C,y;return d(this,function(h){switch(h.label){case 0:if((0,E.isRDLEmbed)(this.report.config.embedUrl))return[2,Promise.reject(w.APINotSupportedForRDLError)];f=b.LayoutType[c],h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.report.service.hpm.get("/report/pages/".concat(this.name,"/layoutTypes/").concat(f),{uid:this.report.config.uniqueId},this.report.iframe.contentWindow)];case 2:return C=h.sent(),[2,C.body];case 3:throw y=h.sent(),y.body;case 4:return[2]}})})},_}();o.Page=v},"./src/qna.ts":function(n,o,a){var l=this&&this.__extends||function(){var v=function(_,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(f[y]=C[y])},v(_,c)};return function(_,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(_,c);function f(){this.constructor=_}_.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),d=this&&this.__awaiter||function(v,_,c,f){function C(y){return y instanceof c?y:new c(function(h){h(y)})}return new(c||(c=Promise))(function(y,h){function u(p){try{m(f.next(p))}catch(A){h(A)}}function g(p){try{m(f.throw(p))}catch(A){h(A)}}function m(p){p.done?y(p.value):C(p.value).then(u,g)}m((f=f.apply(v,_||[])).next())})},b=this&&this.__generator||function(v,_){var c={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},f,C,y,h;return h={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function u(m){return function(p){return g([m,p])}}function g(m){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,C&&(y=m[0]&2?C.return:m[0]?C.throw||((y=C.return)&&y.call(C),0):C.next)&&!(y=y.call(C,m[1])).done)return y;switch(C=0,y&&(m=[m[0]&2,y.value]),m[0]){case 0:case 1:y=m;break;case 4:return c.label++,{value:m[1],done:!1};case 5:c.label++,C=m[1],m=[0];continue;case 7:m=c.ops.pop(),c.trys.pop();continue;default:if(y=c.trys,!(y=y.length>0&&y[y.length-1])&&(m[0]===6||m[0]===2)){c=0;continue}if(m[0]===3&&(!y||m[1]>y[0]&&m[1]<y[3])){c.label=m[1];break}if(m[0]===6&&c.label<y[1]){c.label=y[1],y=m;break}if(y&&c.label<y[2]){c.label=y[2],c.ops.push(m);break}y[2]&&c.ops.pop(),c.trys.pop();continue}m=_.call(v,c)}catch(p){m=[6,p],C=0}finally{f=y=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Qna=void 0;var s=a("./node_modules/powerbi-models/dist/models.js"),E=a("./src/embed.ts"),w=function(v){l(_,v);function _(c,f,C,y,h){var u=v.call(this,c,f,C,void 0,y,h)||this;return u.loadPath="/qna/load",u.phasedLoadPath="/qna/prepare",Array.prototype.push.apply(u.allowedEvents,_.allowedEvents),u}return _.prototype.getId=function(){return null},_.prototype.setQuestion=function(c){return d(this,void 0,void 0,function(){var f,C;return b(this,function(y){switch(y.label){case 0:f={question:c},y.label=1;case 1:return y.trys.push([1,3,,4]),[4,this.service.hpm.post("/qna/interpret",f,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,y.sent()];case 3:throw C=y.sent(),C.body;case 4:return[2]}})})},_.prototype.configChanged=function(c){},_.prototype.getDefaultEmbedUrlEndpoint=function(){return"qnaEmbed"},_.prototype.validate=function(c){return(0,s.validateLoadQnaConfiguration)(c)},_.type="Qna",_.allowedEvents=["loaded","visualRendered"],_}(E.Embed);o.Qna=w},"./src/quickCreate.ts":function(n,o,a){var l=this&&this.__extends||function(){var v=function(_,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,C){f.__proto__=C}||function(f,C){for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(f[y]=C[y])},v(_,c)};return function(_,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");v(_,c);function f(){this.constructor=_}_.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),d=this&&this.__awaiter||function(v,_,c,f){function C(y){return y instanceof c?y:new c(function(h){h(y)})}return new(c||(c=Promise))(function(y,h){function u(p){try{m(f.next(p))}catch(A){h(A)}}function g(p){try{m(f.throw(p))}catch(A){h(A)}}function m(p){p.done?y(p.value):C(p.value).then(u,g)}m((f=f.apply(v,_||[])).next())})},b=this&&this.__generator||function(v,_){var c={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},f,C,y,h;return h={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function u(m){return function(p){return g([m,p])}}function g(m){if(f)throw new TypeError("Generator is already executing.");for(;c;)try{if(f=1,C&&(y=m[0]&2?C.return:m[0]?C.throw||((y=C.return)&&y.call(C),0):C.next)&&!(y=y.call(C,m[1])).done)return y;switch(C=0,y&&(m=[m[0]&2,y.value]),m[0]){case 0:case 1:y=m;break;case 4:return c.label++,{value:m[1],done:!1};case 5:c.label++,C=m[1],m=[0];continue;case 7:m=c.ops.pop(),c.trys.pop();continue;default:if(y=c.trys,!(y=y.length>0&&y[y.length-1])&&(m[0]===6||m[0]===2)){c=0;continue}if(m[0]===3&&(!y||m[1]>y[0]&&m[1]<y[3])){c.label=m[1];break}if(m[0]===6&&c.label<y[1]){c.label=y[1],y=m;break}if(y&&c.label<y[2]){c.label=y[2],c.ops.push(m);break}y[2]&&c.ops.pop(),c.trys.pop();continue}m=_.call(v,c)}catch(p){m=[6,p],C=0}finally{f=y=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.QuickCreate=void 0;var s=a("./node_modules/powerbi-models/dist/models.js"),E=a("./src/embed.ts"),w=function(v){l(_,v);function _(c,f,C,y,h){var u=v.call(this,c,f,C,void 0,y,h)||this;return c.router.post("/reports/".concat(u.config.uniqueId,"/eventHooks/:eventName"),function(g,m){return d(u,void 0,void 0,function(){var p,A;return b(this,function(S){switch(S.label){case 0:switch(p=g.params.eventName,p){case"newAccessToken":return[3,1]}return[3,3];case 1:return g.body=g.body||{},g.body.report=this,[4,c.invokeSDKHook((A=this.eventHooks)===null||A===void 0?void 0:A.accessTokenProvider,g,m)];case 2:return S.sent(),[3,4];case 3:return[3,4];case 4:return[2]}})})}),u}return _.prototype.getId=function(){return null},_.prototype.validate=function(c){return(0,s.validateQuickCreate)(c)},_.prototype.configChanged=function(c){c||(this.createConfig=this.config)},_.prototype.getDefaultEmbedUrlEndpoint=function(){return"quickCreate"},_.prototype.create=function(){var c;return d(this,void 0,void 0,function(){var f,C,y,h;return b(this,function(u){switch(u.label){case 0:if(f=(0,s.validateQuickCreate)(this.createConfig),f)throw f;u.label=1;case 1:return u.trys.push([1,3,,4]),C={uid:this.config.uniqueId,sdkSessionId:this.service.getSdkSessionId()},!((c=this.eventHooks)===null||c===void 0)&&c.accessTokenProvider&&(C.tokenProviderSupplied=!0),[4,this.service.hpm.post("/quickcreate",this.createConfig,C,this.iframe.contentWindow)];case 2:return y=u.sent(),[2,y.body];case 3:throw h=u.sent(),h.body;case 4:return[2]}})})},_}(E.Embed);o.QuickCreate=w},"./src/report.ts":function(n,o,a){var l=this&&this.__extends||function(){var y=function(h,u){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(g[p]=m[p])},y(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");y(h,u);function g(){this.constructor=h}h.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),d=this&&this.__awaiter||function(y,h,u,g){function m(p){return p instanceof u?p:new u(function(A){A(p)})}return new(u||(u=Promise))(function(p,A){function S(D){try{R(g.next(D))}catch(M){A(M)}}function T(D){try{R(g.throw(D))}catch(M){A(M)}}function R(D){D.done?p(D.value):m(D.value).then(S,T)}R((g=g.apply(y,h||[])).next())})},b=this&&this.__generator||function(y,h){var u={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},g,m,p,A;return A={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function S(R){return function(D){return T([R,D])}}function T(R){if(g)throw new TypeError("Generator is already executing.");for(;u;)try{if(g=1,m&&(p=R[0]&2?m.return:R[0]?m.throw||((p=m.return)&&p.call(m),0):m.next)&&!(p=p.call(m,R[1])).done)return p;switch(m=0,p&&(R=[R[0]&2,p.value]),R[0]){case 0:case 1:p=R;break;case 4:return u.label++,{value:R[1],done:!1};case 5:u.label++,m=R[1],R=[0];continue;case 7:R=u.ops.pop(),u.trys.pop();continue;default:if(p=u.trys,!(p=p.length>0&&p[p.length-1])&&(R[0]===6||R[0]===2)){u=0;continue}if(R[0]===3&&(!p||R[1]>p[0]&&R[1]<p[3])){u.label=R[1];break}if(R[0]===6&&u.label<p[1]){u.label=p[1],p=R;break}if(p&&u.label<p[2]){u.label=p[2],u.ops.push(R);break}p[2]&&u.ops.pop(),u.trys.pop();continue}R=h.call(y,u)}catch(D){R=[6,D],m=0}finally{g=p=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},s=this&&this.__spreadArray||function(y,h,u){if(u||arguments.length===2)for(var g=0,m=h.length,p;g<m;g++)(p||!(g in h))&&(p||(p=Array.prototype.slice.call(h,0,g)),p[g]=h[g]);return y.concat(p||Array.prototype.slice.call(h))};Object.defineProperty(o,"__esModule",{value:!0}),o.Report=void 0;var E=a("./node_modules/powerbi-models/dist/models.js"),w=a("./src/embed.ts"),v=a("./src/util.ts"),_=a("./src/errors.ts"),c=a("./src/page.ts"),f=a("./src/bookmarksManager.ts"),C=function(y){l(h,y);function h(u,g,m,p,A,S){var T=this,R=m;return T=y.call(this,u,g,R,S,p,A)||this,T.loadPath="/report/load",T.phasedLoadPath="/report/prepare",Array.prototype.push.apply(T.allowedEvents,h.allowedEvents),T.bookmarksManager=new f.BookmarksManager(u,R,T.iframe),u.router.post("/reports/".concat(T.config.uniqueId,"/eventHooks/:eventName"),function(D,M){return d(T,void 0,void 0,function(){var V,H,Q;return b(this,function(F){switch(F.label){case 0:switch(V=D.params.eventName,V){case"preQuery":return[3,1];case"newAccessToken":return[3,3]}return[3,5];case 1:return D.body=D.body||{},D.body.report=this,[4,u.invokeSDKHook((H=this.eventHooks)===null||H===void 0?void 0:H.applicationContextProvider,D,M)];case 2:return F.sent(),[3,6];case 3:return D.body=D.body||{},D.body.report=this,[4,u.invokeSDKHook((Q=this.eventHooks)===null||Q===void 0?void 0:Q.accessTokenProvider,D,M)];case 4:return F.sent(),[3,6];case 5:return[3,6];case 6:return[2]}})})}),T}return h.findIdFromEmbedUrl=function(u){var g=/reportId="?([^&]+)"?/,m=u.match(g),p;return m&&(p=m[1]),p},h.prototype.render=function(u){return d(this,void 0,void 0,function(){var g,m;return b(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/render",u,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return g=p.sent(),[2,g.body];case 2:throw m=p.sent(),m.body;case 3:return[2]}})})},h.prototype.addPage=function(u){return d(this,void 0,void 0,function(){var g,m,p,A;return b(this,function(S){switch(S.label){case 0:g={displayName:u},S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/addPage",g,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return m=S.sent(),p=m.body,[2,new c.Page(this,p.name,p.displayName,p.isActive,p.visibility,p.defaultSize,p.defaultDisplayOption)];case 3:throw A=S.sent(),A.body;case 4:return[2]}})})},h.prototype.deletePage=function(u){return d(this,void 0,void 0,function(){var g,m;return b(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.service.hpm.delete("/report/pages/".concat(u),{},{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return g=p.sent(),[2,g.body];case 2:throw m=p.sent(),m.body;case 3:return[2]}})})},h.prototype.renamePage=function(u,g){return d(this,void 0,void 0,function(){var m,p,A;return b(this,function(S){switch(S.label){case 0:m={name:u,displayName:g},S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/pages/".concat(u,"/name"),m,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return p=S.sent(),[2,p.body];case 3:throw A=S.sent(),A.body;case 4:return[2]}})})},h.prototype.getFilters=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/filters",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},h.prototype.updateFilters=function(u,g){return d(this,void 0,void 0,function(){var m,p;return b(this,function(A){switch(A.label){case 0:m={filtersOperation:u,filters:g},A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/filters",m,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,A.sent()];case 3:throw p=A.sent(),p.body;case 4:return[2]}})})},h.prototype.removeFilters=function(){return d(this,void 0,void 0,function(){return b(this,function(u){return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:[2,this.updateFilters(E.FiltersOperations.RemoveAll)]})})},h.prototype.setFilters=function(u){return d(this,void 0,void 0,function(){var g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/filters",u,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,m.sent()];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},h.prototype.getId=function(){var u=this.config,g=u.id||this.element.getAttribute(h.reportIdAttribute)||h.findIdFromEmbedUrl(u.embedUrl);if(typeof g!="string"||g.length===0)throw new Error("Report id is required, but it was not found. You must provide an id either as part of embed configuration or as attribute '".concat(h.reportIdAttribute,"'."));return g},h.prototype.getPages=function(){return d(this,void 0,void 0,function(){var u,g,m=this;return b(this,function(p){switch(p.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=p.sent(),[2,u.body.map(function(A){return new c.Page(m,A.name,A.displayName,A.isActive,A.visibility,A.defaultSize,A.defaultDisplayOption,A.mobileSize,A.background,A.wallpaper)})];case 3:throw g=p.sent(),g.body;case 4:return[2]}})})},h.prototype.getPageByName=function(u){return d(this,void 0,void 0,function(){var g,m,p;return b(this,function(A){switch(A.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];A.label=1;case 1:return A.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return g=A.sent(),m=g.body.find(function(S){return S.name===u}),m?[2,new c.Page(this,m.name,m.displayName,m.isActive,m.visibility,m.defaultSize,m.defaultDisplayOption,m.mobileSize,m.background,m.wallpaper)]:[2,Promise.reject(E.CommonErrorCodes.NotFound)];case 3:throw p=A.sent(),p.body;case 4:return[2]}})})},h.prototype.getActivePage=function(){return d(this,void 0,void 0,function(){var u,g,m;return b(this,function(p){switch(p.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=p.sent(),g=u.body.find(function(A){return A.isActive}),[2,new c.Page(this,g.name,g.displayName,g.isActive,g.visibility,g.defaultSize,g.defaultDisplayOption,g.mobileSize,g.background,g.wallpaper)];case 3:throw m=p.sent(),m.body;case 4:return[2]}})})},h.prototype.page=function(u,g,m,p){return new c.Page(this,u,g,m,p)},h.prototype.print=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/print",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},h.prototype.setPage=function(u){return d(this,void 0,void 0,function(){var g,m;return b(this,function(p){switch(p.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];g={name:u,displayName:null,isActive:!0},p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.service.hpm.put("/report/pages/active",g,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,p.sent()];case 3:throw m=p.sent(),m.body;case 4:return[2]}})})},h.prototype.updateSettings=function(u){var g,m;return d(this,void 0,void 0,function(){var p,A,S,T,R=this;return b(this,function(D){switch(D.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl)&&u.customLayout!=null)return[2,Promise.reject(_.APINotSupportedForRDLError)];D.label=1;case 1:return D.trys.push([1,3,,4]),[4,this.service.hpm.patch("/report/settings",u,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return p=D.sent(),A=u?.extensions,this.commands=(g=A?.commands)!==null&&g!==void 0?g:this.commands,this.groups=(m=A?.groups)!==null&&m!==void 0?m:this.groups,S=u?.extensions,Array.isArray(S)&&(this.commands=[],S.map(function(M){M?.command&&R.commands.push(M.command)})),[2,p];case 3:throw T=D.sent(),T.body;case 4:return[2]}})})},h.prototype.validate=function(u){return(0,v.isRDLEmbed)(this.config.embedUrl)?(0,E.validatePaginatedReportLoad)(u):(0,E.validateReportLoad)(u)},h.prototype.configChanged=function(u){var g=this.config;this.isMobileSettings(g.settings)&&(g.embedUrl=(0,v.addParamToUrl)(g.embedUrl,"isMobile","true"));var m=this.element.getAttribute(h.filterPaneEnabledAttribute),p=this.element.getAttribute(h.navContentPaneEnabledAttribute),A={filterPaneEnabled:m==null?void 0:m!=="false",navContentPaneEnabled:p==null?void 0:p!=="false"};this.config.settings=(0,v.assign)({},A,g.settings),!u&&(g.id=this.getId())},h.prototype.getDefaultEmbedUrlEndpoint=function(){return"reportEmbed"},h.prototype.switchMode=function(u){return d(this,void 0,void 0,function(){var g,m,p,A;return b(this,function(S){switch(S.label){case 0:typeof u=="string"?g=u:g=this.viewModeToString(u),m="/report/switchMode/"+g,S.label=1;case 1:return S.trys.push([1,3,,4]),[4,this.service.hpm.post(m,null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return p=S.sent(),[2,p.body];case 3:throw A=S.sent(),A.body;case 4:return[2]}})})},h.prototype.refresh=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/refresh",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},h.prototype.isSaved=function(){return d(this,void 0,void 0,function(){return b(this,function(u){switch(u.label){case 0:return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:[4,(0,v.isSavedInternal)(this.service.hpm,this.config.uniqueId,this.iframe.contentWindow)];case 1:return[2,u.sent()]}})})},h.prototype.applyTheme=function(u){return d(this,void 0,void 0,function(){return b(this,function(g){switch(g.label){case 0:return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:[4,this.applyThemeInternal(u)];case 1:return[2,g.sent()]}})})},h.prototype.resetTheme=function(){return d(this,void 0,void 0,function(){return b(this,function(u){switch(u.label){case 0:return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:[4,this.applyThemeInternal({})];case 1:return[2,u.sent()]}})})},h.prototype.getTheme=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/theme",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},h.prototype.resetPersistentFilters=function(){return d(this,void 0,void 0,function(){var u;return b(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.service.hpm.delete("/report/userState",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,g.sent()];case 2:throw u=g.sent(),u.body;case 3:return[2]}})})},h.prototype.savePersistentFilters=function(){return d(this,void 0,void 0,function(){var u;return b(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.service.hpm.post("/report/userState",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return[2,g.sent()];case 2:throw u=g.sent(),u.body;case 3:return[2]}})})},h.prototype.arePersistentFiltersApplied=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.service.hpm.get("/report/isUserStateApplied",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return u=m.sent(),[2,u.body];case 2:throw g=m.sent(),g.body;case 3:return[2]}})})},h.prototype.removeContextMenuCommand=function(u,g){return d(this,void 0,void 0,function(){var m,p,A;return b(this,function(S){switch(S.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];if(m=JSON.parse(JSON.stringify(this.commands)),p=this.findCommandMenuIndex("visualContextMenu",m,u,g),p===-1)throw E.CommonErrorCodes.NotFound;return delete m[p].extend.visualContextMenu,A={extensions:{commands:m,groups:this.groups}},[4,this.updateSettings(A)];case 1:return[2,S.sent()]}})})},h.prototype.addContextMenuCommand=function(u,g,m,p,A,S,T){return m===void 0&&(m=g),p===void 0&&(p=E.MenuLocation.Bottom),A===void 0&&(A=void 0),T===void 0&&(T=void 0),d(this,void 0,void 0,function(){var R,D;return b(this,function(M){switch(M.label){case 0:return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:(R=this.createMenuCommand("visualContextMenu",u,g,m,p,A,S,T),D={extensions:{commands:R,groups:this.groups}},[4,this.updateSettings(D)]);case 1:return[2,M.sent()]}})})},h.prototype.removeOptionsMenuCommand=function(u,g){return d(this,void 0,void 0,function(){var m,p,A;return b(this,function(S){switch(S.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];if(m=JSON.parse(JSON.stringify(this.commands)),p=this.findCommandMenuIndex("visualOptionsMenu",m,u,g),p===-1)throw E.CommonErrorCodes.NotFound;return delete m[p].extend.visualOptionsMenu,delete m[p].icon,A={extensions:{commands:m,groups:this.groups}},[4,this.updateSettings(A)];case 1:return[2,S.sent()]}})})},h.prototype.addOptionsMenuCommand=function(u,g,m,p,A,S,T,R){return m===void 0&&(m=g),p===void 0&&(p=E.MenuLocation.Bottom),A===void 0&&(A=void 0),S===void 0&&(S=void 0),T===void 0&&(T=void 0),R===void 0&&(R=void 0),d(this,void 0,void 0,function(){var D,M;return b(this,function(V){switch(V.label){case 0:return(0,v.isRDLEmbed)(this.config.embedUrl)?[2,Promise.reject(_.APINotSupportedForRDLError)]:(D=this.createMenuCommand("visualOptionsMenu",u,g,m,p,A,S,T,R),M={extensions:{commands:D,groups:this.groups}},[4,this.updateSettings(M)]);case 1:return[2,V.sent()]}})})},h.prototype.setVisualDisplayState=function(u,g,m){return d(this,void 0,void 0,function(){var p,A;return b(this,function(S){switch(S.label){case 0:return[4,this.validateVisual(u,g)];case 1:return S.sent(),p={displayState:{mode:m}},A=this.buildLayoutSettingsObject(u,g,p),[2,this.updateSettings(A)]}})})},h.prototype.resizeVisual=function(u,g,m,p){return d(this,void 0,void 0,function(){var A,S;return b(this,function(T){switch(T.label){case 0:return[4,this.validateVisual(u,g)];case 1:return T.sent(),A={width:m,height:p},S=this.buildLayoutSettingsObject(u,g,A),[2,this.updateSettings(S)]}})})},h.prototype.resizeActivePage=function(u,g,m){return d(this,void 0,void 0,function(){var p,A;return b(this,function(S){return p={type:u,width:g,height:m},A={layoutType:E.LayoutType.Custom,customLayout:{pageSize:p}},[2,this.updateSettings(A)]})})},h.prototype.moveVisual=function(u,g,m,p,A){return d(this,void 0,void 0,function(){var S,T;return b(this,function(R){switch(R.label){case 0:return[4,this.validateVisual(u,g)];case 1:return R.sent(),S={x:m,y:p,z:A},T=this.buildLayoutSettingsObject(u,g,S),[2,this.updateSettings(T)]}})})},h.prototype.switchLayout=function(u){return d(this,void 0,void 0,function(){var g,m,p,A;return b(this,function(S){switch(S.label){case 0:if(g=this.isMobileSettings({layoutType:this.initialLayoutType}),m=this.isMobileSettings({layoutType:u}),g!==m)throw"Switching between mobile and desktop layouts is not supported. Please reset the embed container and re-embed with required layout.";return p={layoutType:u},[4,this.updateSettings(p)];case 1:return A=S.sent(),this.initialLayoutType=u,[2,A]}})})},h.prototype.createMenuCommand=function(u,g,m,p,A,S,T,R,D){var M={name:g,title:m,extend:{}};if(M.extend[u]={title:p,menuLocation:A},u==="visualOptionsMenu"&&(M.icon=D),R){var V=M.extend[u];delete V.menuLocation;var H=M.extend[u];H.groupName=R}return S&&(M.selector={$schema:"http://powerbi.com/product/schema#visualSelector",visualName:S}),T&&(M.selector={$schema:"http://powerbi.com/product/schema#visualTypeSelector",visualType:T}),s(s([],this.commands,!0),[M],!1)},h.prototype.findCommandMenuIndex=function(u,g,m,p){var A=-1;return g.some(function(S,T){return S.name===m&&S.extend[u]&&S.extend[u].title===p?(A=T,!0):!1}),A},h.prototype.buildLayoutSettingsObject=function(u,g,m){var p={layoutType:E.LayoutType.Custom,customLayout:{pagesLayout:{}}};return p.customLayout.pagesLayout[u]={visualsLayout:{}},p.customLayout.pagesLayout[u].visualsLayout[g]=m,p},h.prototype.validateVisual=function(u,g){return d(this,void 0,void 0,function(){var m;return b(this,function(p){switch(p.label){case 0:return[4,this.getPageByName(u)];case 1:return m=p.sent(),[4,m.getVisualByName(g)];case 2:return[2,p.sent()]}})})},h.prototype.applyThemeInternal=function(u){return d(this,void 0,void 0,function(){var g,m;return b(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.service.hpm.put("/report/theme",u,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return g=p.sent(),[2,g.body];case 2:throw m=p.sent(),m.body;case 3:return[2]}})})},h.prototype.viewModeToString=function(u){var g;switch(u){case E.ViewMode.Edit:g="edit";break;case E.ViewMode.View:g="view";break}return g},h.prototype.isMobileSettings=function(u){return u&&(u.layoutType===E.LayoutType.MobileLandscape||u.layoutType===E.LayoutType.MobilePortrait)},h.prototype.getZoom=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.service.hpm.get("/report/zoom",{uid:this.config.uniqueId},this.iframe.contentWindow)];case 1:return u=m.sent(),[2,u.body];case 2:throw g=m.sent(),g.body;case 3:return[2]}})})},h.prototype.setZoom=function(u){return d(this,void 0,void 0,function(){return b(this,function(g){switch(g.label){case 0:return[4,this.updateSettings({zoomLevel:u})];case 1:return g.sent(),[2]}})})},h.prototype.closeAllOverlays=function(){return d(this,void 0,void 0,function(){var u,g;return b(this,function(m){switch(m.label){case 0:if((0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/closeAllOverlays",null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return u=m.sent(),[2,u.body];case 3:return g=m.sent(),[2,Promise.reject(g)];case 4:return[2]}})})},h.prototype.clearSelectedVisuals=function(u){return d(this,void 0,void 0,function(){var g,m;return b(this,function(p){switch(p.label){case 0:if(u=u===!0,(0,v.isRDLEmbed)(this.config.embedUrl))return[2,Promise.reject(_.APINotSupportedForRDLError)];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.service.hpm.post("/report/clearSelectedVisuals/".concat(u.toString()),null,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return g=p.sent(),[2,g.body];case 3:return m=p.sent(),[2,Promise.reject(m)];case 4:return[2]}})})},h.allowedEvents=["filtersApplied","pageChanged","commandTriggered","swipeStart","swipeEnd","bookmarkApplied","dataHyperlinkClicked","visualRendered","visualClicked","selectionChanged","renderingStarted","blur"],h.reportIdAttribute="powerbi-report-id",h.filterPaneEnabledAttribute="powerbi-settings-filter-pane-enabled",h.navContentPaneEnabledAttribute="powerbi-settings-nav-content-pane-enabled",h.typeAttribute="powerbi-type",h.type="Report",h}(w.Embed);o.Report=C},"./src/service.ts":function(n,o,a){var l=this&&this.__assign||function(){return l=Object.assign||function(p){for(var A,S=1,T=arguments.length;S<T;S++){A=arguments[S];for(var R in A)Object.prototype.hasOwnProperty.call(A,R)&&(p[R]=A[R])}return p},l.apply(this,arguments)},d=this&&this.__awaiter||function(p,A,S,T){function R(D){return D instanceof S?D:new S(function(M){M(D)})}return new(S||(S=Promise))(function(D,M){function V(F){try{Q(T.next(F))}catch(K){M(K)}}function H(F){try{Q(T.throw(F))}catch(K){M(K)}}function Q(F){F.done?D(F.value):R(F.value).then(V,H)}Q((T=T.apply(p,A||[])).next())})},b=this&&this.__generator||function(p,A){var S={label:0,sent:function(){if(D[0]&1)throw D[1];return D[1]},trys:[],ops:[]},T,R,D,M;return M={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function V(Q){return function(F){return H([Q,F])}}function H(Q){if(T)throw new TypeError("Generator is already executing.");for(;S;)try{if(T=1,R&&(D=Q[0]&2?R.return:Q[0]?R.throw||((D=R.return)&&D.call(R),0):R.next)&&!(D=D.call(R,Q[1])).done)return D;switch(R=0,D&&(Q=[Q[0]&2,D.value]),Q[0]){case 0:case 1:D=Q;break;case 4:return S.label++,{value:Q[1],done:!1};case 5:S.label++,R=Q[1],Q=[0];continue;case 7:Q=S.ops.pop(),S.trys.pop();continue;default:if(D=S.trys,!(D=D.length>0&&D[D.length-1])&&(Q[0]===6||Q[0]===2)){S=0;continue}if(Q[0]===3&&(!D||Q[1]>D[0]&&Q[1]<D[3])){S.label=Q[1];break}if(Q[0]===6&&S.label<D[1]){S.label=D[1],D=Q;break}if(D&&S.label<D[2]){S.label=D[2],S.ops.push(Q);break}D[2]&&S.ops.pop(),S.trys.pop();continue}Q=A.call(p,S)}catch(F){Q=[6,F],R=0}finally{T=D=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Service=void 0;var s=a("./src/embed.ts"),E=a("./src/report.ts"),w=a("./src/create.ts"),v=a("./src/dashboard.ts"),_=a("./src/tile.ts"),c=a("./src/page.ts"),f=a("./src/qna.ts"),C=a("./src/visual.ts"),y=a("./src/util.ts"),h=a("./src/quickCreate.ts"),u=a("./src/config.ts"),g=a("./src/errors.ts"),m=function(){function p(A,S,T,R){R===void 0&&(R={});var D=this;this.registeredComponents={},this.wpmp=S(R.wpmpName,R.logMessages),this.hpm=A(this.wpmp,null,R.version,R.type,R.sdkWrapperVersion),this.router=T(this.wpmp),this.uniqueSessionId=y.generateUUID(),this.router.post("/reports/:uniqueId/events/:eventName",function(M,V){var H={type:"report",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/reports/:uniqueId/pages/:pageName/events/:eventName",function(M,V){var H={type:"report",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/reports/:uniqueId/pages/:pageName/visuals/:visualName/events/:eventName",function(M,V){var H={type:"report",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/dashboards/:uniqueId/events/:eventName",function(M,V){var H={type:"dashboard",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/tile/:uniqueId/events/:eventName",function(M,V){var H={type:"tile",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/qna/:uniqueId/events/:eventName",function(M,V){var H={type:"qna",id:M.params.uniqueId,name:M.params.eventName,value:M.body};D.handleEvent(H)}),this.router.post("/ready/:uniqueId",function(M,V){var H={type:"report",id:M.params.uniqueId,name:"ready",value:M.body};D.handleEvent(H)}),this.embeds=[],this.config=y.assign({},p.defaultConfig,R),this.config.autoEmbedOnContentLoaded&&this.enableAutoEmbed()}return p.prototype.createReport=function(A,S){S.type="create";var T=A,R=new w.Create(this,T,S);return T.powerBiEmbed=R,this.addOrOverwriteEmbed(R,A),R},p.prototype.quickCreate=function(A,S){S.type="quickCreate";var T=A,R=new h.QuickCreate(this,T,S);return T.powerBiEmbed=R,this.addOrOverwriteEmbed(R,A),R},p.prototype.init=function(A,S){var T=this;S===void 0&&(S=void 0),A=A&&A instanceof HTMLElement?A:document.body;var R=Array.prototype.slice.call(A.querySelectorAll("[".concat(s.Embed.embedUrlAttribute,"]")));return R.map(function(D){return T.embed(D,S)})},p.prototype.embed=function(A,S){return S===void 0&&(S={}),this.embedInternal(A,S)},p.prototype.load=function(A,S){return S===void 0&&(S={}),this.embedInternal(A,S,!0,!1)},p.prototype.bootstrap=function(A,S){return this.embedInternal(A,S,!1,!0)},p.prototype.embedInternal=function(A,S,T,R){S===void 0&&(S={});var D,M=A;if(M.powerBiEmbed){if(R)throw new Error("Attempted to bootstrap element ".concat(A.outerHTML,", but the element is already a powerbi element."));D=this.embedExisting(M,S,T)}else D=this.embedNew(M,S,T,R);return D},p.prototype.getNumberOfComponents=function(){return this.embeds?this.embeds.length:0},p.prototype.getSdkSessionId=function(){return this.uniqueSessionId},p.prototype.getSDKVersion=function(){return u.default.version},p.prototype.embedNew=function(A,S,T,R){var D=S.type||A.getAttribute(s.Embed.typeAttribute);if(!D){var M=l(l({},S),{accessToken:""});throw new Error("Attempted to embed using config ".concat(JSON.stringify(M)," on element ").concat(A.outerHTML,", but could not determine what type of component to embed. You must specify a type in the configuration or as an attribute such as '").concat(s.Embed.typeAttribute,'="').concat(E.Report.type.toLowerCase(),`"'.`))}S.type=D;var V=this.createEmbedComponent(D,A,S,T,R);return A.powerBiEmbed=V,this.addOrOverwriteEmbed(V,A),V},p.prototype.createEmbedComponent=function(A,S,T,R,D){var M=y.find(function(H){return A===H.type.toLowerCase()},p.components);if(M)return new M(this,S,T,R,D);var V=y.find(function(H){return A.toLowerCase()===H.toLowerCase()},Object.keys(this.registeredComponents));if(!V)throw new Error("Attempted to embed component of type: ".concat(A," but did not find any matching component.  Please verify the type you specified is intended."));return this.registeredComponents[V](this,S,T,R,D)},p.prototype.embedExisting=function(A,S,T){var R=y.find(function(V){return V.element===A},this.embeds);if(!R){var D=l(l({},S),{accessToken:""});throw new Error("Attempted to embed using config ".concat(JSON.stringify(D)," on element ").concat(A.outerHTML," which already has embedded component associated, but could not find the existing component in the list of active components. This could indicate the embeds list is out of sync with the DOM, or the component is referencing the incorrect HTML element."))}if(S.type&&S.type.toLowerCase()==="qna")return this.embedNew(A,S);if(typeof S.type=="string"&&S.type!==R.config.type){if(S.type==="report"&&y.isCreate(R.config.type)){var M=new E.Report(this,A,S,!1,!1,A.powerBiEmbed.iframe);return R.populateConfig(S,!1),M.load(),A.powerBiEmbed=M,this.addOrOverwriteEmbed(R,A),M}var D=l(l({},S),{accessToken:""});throw new Error("Embedding on an existing element with a different type than the previous embed object is not supported.  Attempted to embed using config ".concat(JSON.stringify(D)," on element ").concat(A.outerHTML,", but the existing element contains an embed of type: ").concat(this.config.type," which does not match the new type: ").concat(S.type))}return R.populateConfig(S,!1),R.load(T),R},p.prototype.enableAutoEmbed=function(){var A=this;window.addEventListener("DOMContentLoaded",function(S){return A.init(document.body)},!1)},p.prototype.get=function(A){var S=A;if(!S.powerBiEmbed)throw new Error("You attempted to get an instance of powerbi component associated with element: ".concat(A.outerHTML," but there was no associated instance."));return S.powerBiEmbed},p.prototype.find=function(A){return y.find(function(S){return S.config.uniqueId===A},this.embeds)},p.prototype.addOrOverwriteEmbed=function(A,S){this.embeds=this.embeds.filter(function(T){return T.element!==S}),this.embeds.push(A)},p.prototype.reset=function(A){var S=A;if(S.powerBiEmbed){var T=S.powerBiEmbed;T.frontLoadHandler&&T.element.removeEventListener("ready",T.frontLoadHandler,!1),T.allowedEvents.forEach(function(D){T.off(D)}),y.remove(function(D){return D===S.powerBiEmbed},this.embeds),delete S.powerBiEmbed;var R=A.querySelector("iframe");R&&(R.remove!==void 0?R.remove():R.parentElement.removeChild(R))}},p.prototype.handleTileEvents=function(A){A.type==="tile"&&this.handleEvent(A)},p.prototype.invokeSDKHook=function(A,S,T){return d(this,void 0,void 0,function(){var R,D;return b(this,function(M){switch(M.label){case 0:if(!A)return T.send(404,null),[2];M.label=1;case 1:return M.trys.push([1,3,,4]),[4,A(S.body)];case 2:return R=M.sent(),T.send(200,R),[3,4];case 3:return D=M.sent(),T.send(400,null),console.error(D),[3,4];case 4:return[2]}})})},p.prototype.handleEvent=function(A){var S=y.find(function(M){return M.config.uniqueId===A.id},this.embeds);if(S){var T=A.value;if(A.name==="pageChanged"){var R="newPage",D=T[R];if(!D)throw new Error("Page model not found at 'event.value.".concat(R,"'."));T[R]=new c.Page(S,D.name,D.displayName,!0)}y.raiseCustomEvent(S.element,A.name,T)}},p.prototype.preload=function(A,S){if(!y.validateEmbedUrl(A.embedUrl))throw new Error(g.invalidEmbedUrlErrorMessage);var T=document.createElement("iframe");T.setAttribute("style","display:none;"),T.setAttribute("src",A.embedUrl),T.setAttribute("scrolling","no"),T.setAttribute("allowfullscreen","false");var R=S;return R||(R=document.getElementsByTagName("body")[0]),R.appendChild(T),T.onload=function(){y.raiseCustomEvent(T,"preloaded",{})},T},p.prototype.setSdkInfo=function(A,S){this.hpm.defaultHeaders["x-sdk-type"]=A,this.hpm.defaultHeaders["x-sdk-wrapper-version"]=S},p.prototype.register=function(A,S,T){var R=this;if(y.find(function(D){return A.toLowerCase()===D.type.toLowerCase()},p.components))throw new Error("The component name is reserved. Cannot register a component with this name.");if(y.find(function(D){return A.toLowerCase()===D.toLowerCase()},Object.keys(this.registeredComponents)))throw new Error("A component with this type is already registered.");this.registeredComponents[A]=S,T.forEach(function(D){if(!D.includes(":uniqueId")||!D.includes(":eventName"))throw new Error("Invalid router event URL");R.router.post(D,function(M,V){var H={type:A,id:M.params.uniqueId,name:M.params.eventName,value:M.body};R.handleEvent(H)})})},p.components=[_.Tile,E.Report,v.Dashboard,f.Qna,C.Visual],p.defaultConfig={autoEmbedOnContentLoaded:!1,onError:function(){for(var A=[],S=0;S<arguments.length;S++)A[S]=arguments[S];return console.log(A[0],A.slice(1))}},p}();o.Service=m},"./src/tile.ts":function(n,o,a){var l=this&&this.__extends||function(){var E=function(w,v){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,c){_.__proto__=c}||function(_,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(_[f]=c[f])},E(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");E(w,v);function _(){this.constructor=w}w.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}}();Object.defineProperty(o,"__esModule",{value:!0}),o.Tile=void 0;var d=a("./node_modules/powerbi-models/dist/models.js"),b=a("./src/embed.ts"),s=function(E){l(w,E);function w(v,_,c,f,C){var y=this,h=c;return y=E.call(this,v,_,h,void 0,f,C)||this,y.loadPath="/tile/load",Array.prototype.push.apply(y.allowedEvents,w.allowedEvents),y}return w.prototype.getId=function(){var v=this.config,_=v.id||w.findIdFromEmbedUrl(this.config.embedUrl);if(typeof _!="string"||_.length===0)throw new Error("Tile id is required, but it was not found. You must provide an id either as part of embed configuration.");return _},w.prototype.validate=function(v){var _=v;return(0,d.validateTileLoad)(_)},w.prototype.configChanged=function(v){v||(this.config.id=this.getId())},w.prototype.getDefaultEmbedUrlEndpoint=function(){return"tileEmbed"},w.findIdFromEmbedUrl=function(v){var _=/tileId="?([^&]+)"?/,c=v.match(_),f;return c&&(f=c[1]),f},w.type="Tile",w.allowedEvents=["tileClicked","tileLoaded"],w}(b.Embed);o.Tile=s},"./src/util.ts":function(n,o){var a=this&&this.__awaiter||function(T,R,D,M){function V(H){return H instanceof D?H:new D(function(Q){Q(H)})}return new(D||(D=Promise))(function(H,Q){function F(J){try{q(M.next(J))}catch(le){Q(le)}}function K(J){try{q(M.throw(J))}catch(le){Q(le)}}function q(J){J.done?H(J.value):V(J.value).then(F,K)}q((M=M.apply(T,R||[])).next())})},l=this&&this.__generator||function(T,R){var D={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},M,V,H,Q;return Q={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(Q[Symbol.iterator]=function(){return this}),Q;function F(q){return function(J){return K([q,J])}}function K(q){if(M)throw new TypeError("Generator is already executing.");for(;D;)try{if(M=1,V&&(H=q[0]&2?V.return:q[0]?V.throw||((H=V.return)&&H.call(V),0):V.next)&&!(H=H.call(V,q[1])).done)return H;switch(V=0,H&&(q=[q[0]&2,H.value]),q[0]){case 0:case 1:H=q;break;case 4:return D.label++,{value:q[1],done:!1};case 5:D.label++,V=q[1],q=[0];continue;case 7:q=D.ops.pop(),D.trys.pop();continue;default:if(H=D.trys,!(H=H.length>0&&H[H.length-1])&&(q[0]===6||q[0]===2)){D=0;continue}if(q[0]===3&&(!H||q[1]>H[0]&&q[1]<H[3])){D.label=q[1];break}if(q[0]===6&&D.label<H[1]){D.label=H[1],H=q;break}if(H&&D.label<H[2]){D.label=H[2],D.ops.push(q);break}H[2]&&D.ops.pop(),D.trys.pop();continue}q=R.call(T,D)}catch(J){q=[6,J],V=0}finally{M=H=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.validateEmbedUrl=o.isCreate=o.getTimeDiffInMilliseconds=o.getRandomValue=o.autoAuthInEmbedUrl=o.isRDLEmbed=o.isSavedInternal=o.addParamToUrl=o.generateUUID=o.createRandomString=o.assign=o.remove=o.find=o.findIndex=o.raiseCustomEvent=void 0;var d=new RegExp(/(.+\.powerbi\.com$)|(.+\.fabric\.microsoft\.com$)|(.+\.analysis\.windows-int\.net$)|(.+\.analysis-df\.windows\.net$)/),b=new RegExp(/^app\.powerbi\.cn$|^app(\.mil\.|\.high\.|\.)powerbigov\.us$|^app\.powerbi\.eaglex\.ic\.gov$|^app\.powerbi\.microsoft\.scloud$/),s="https:";function E(T,R,D){var M;typeof CustomEvent=="function"?M=new CustomEvent(R,{detail:D,bubbles:!0,cancelable:!0}):(M=document.createEvent("CustomEvent"),M.initCustomEvent(R,!0,!0,D)),T.dispatchEvent(M)}o.raiseCustomEvent=E;function w(T,R){if(!Array.isArray(R))throw new Error("You attempted to call find with second parameter that was not an array. You passed: ".concat(R));var D;return R.some(function(M,V){if(T(M))return D=V,!0}),D}o.findIndex=w;function v(T,R){var D=w(T,R);return R[D]}o.find=v;function _(T,R){var D=w(T,R);R.splice(D,1)}o.remove=_;function c(){for(var T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];var D=T[0];if(D==null)throw new TypeError("Cannot convert undefined or null to object");for(var M=Object(D),V=1;V<arguments.length;V++){var H=arguments[V];if(H!=null)for(var Q in H)H.hasOwnProperty(Q)&&(M[Q]=H[Q])}return M}o.assign=c;function f(){return m().toString(36).substring(1)}o.createRandomString=f;function C(){var T=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(T+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(R){var D=m()%16;return T>>=4,D.toString(16)})}o.generateUUID=C;function y(T,R,D){var M=T.indexOf("?")>0?"&":"?";return T+=M+R+"="+D,T}o.addParamToUrl=y;function h(T,R,D){return a(this,void 0,void 0,function(){var M,V;return l(this,function(H){switch(H.label){case 0:return H.trys.push([0,2,,3]),[4,T.get("/report/hasUnsavedChanges",{uid:R},D)];case 1:return M=H.sent(),[2,!M.body];case 2:throw V=H.sent(),V.body;case 3:return[2]}})})}o.isSavedInternal=h;function u(T){return T&&T.toLowerCase().indexOf("/rdlembed?")>=0}o.isRDLEmbed=u;function g(T){return T&&decodeURIComponent(T).toLowerCase().indexOf("autoauth=true")>=0}o.autoAuthInEmbedUrl=g;function m(){var T=window.crypto||window.msCrypto,R=new Uint32Array(1);return T.getRandomValues(R),R[0]}o.getRandomValue=m;function p(T,R){return Math.abs(T.getTime()-R.getTime())}o.getTimeDiffInMilliseconds=p;function A(T){return T==="create"||T==="quickcreate"}o.isCreate=A;function S(T){if(T){var R=void 0;try{R=new URL(T.toLowerCase())}catch{return!1}return R.protocol===s&&(d.test(R.hostname)||b.test(R.hostname))}}o.validateEmbedUrl=S},"./src/visual.ts":function(n,o,a){var l=this&&this.__extends||function(){var _=function(c,f){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,y){C.__proto__=y}||function(C,y){for(var h in y)Object.prototype.hasOwnProperty.call(y,h)&&(C[h]=y[h])},_(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");_(c,f);function C(){this.constructor=c}c.prototype=f===null?Object.create(f):(C.prototype=f.prototype,new C)}}(),d=this&&this.__awaiter||function(_,c,f,C){function y(h){return h instanceof f?h:new f(function(u){u(h)})}return new(f||(f=Promise))(function(h,u){function g(A){try{p(C.next(A))}catch(S){u(S)}}function m(A){try{p(C.throw(A))}catch(S){u(S)}}function p(A){A.done?h(A.value):y(A.value).then(g,m)}p((C=C.apply(_,c||[])).next())})},b=this&&this.__generator||function(_,c){var f={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},C,y,h,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(p){return function(A){return m([p,A])}}function m(p){if(C)throw new TypeError("Generator is already executing.");for(;f;)try{if(C=1,y&&(h=p[0]&2?y.return:p[0]?y.throw||((h=y.return)&&h.call(y),0):y.next)&&!(h=h.call(y,p[1])).done)return h;switch(y=0,h&&(p=[p[0]&2,h.value]),p[0]){case 0:case 1:h=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,y=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(h=f.trys,!(h=h.length>0&&h[h.length-1])&&(p[0]===6||p[0]===2)){f=0;continue}if(p[0]===3&&(!h||p[1]>h[0]&&p[1]<h[3])){f.label=p[1];break}if(p[0]===6&&f.label<h[1]){f.label=h[1],h=p;break}if(h&&f.label<h[2]){f.label=h[2],f.ops.push(p);break}h[2]&&f.ops.pop(),f.trys.pop();continue}p=c.call(_,f)}catch(A){p=[6,A],y=0}finally{C=h=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Visual=void 0;var s=a("./node_modules/powerbi-models/dist/models.js"),E=a("./src/report.ts"),w=a("./src/visualDescriptor.ts"),v=function(_){l(c,_);function c(f,C,y,h,u,g){return _.call(this,f,C,y,h,u,g)||this}return c.prototype.load=function(f){var C=this.config;if(C.accessToken){if(typeof C.pageName!="string"||C.pageName.length===0)throw new Error("Page name is required when embedding a visual.");if(typeof C.visualName!="string"||C.visualName.length===0)throw new Error("Visual name is required, but it was not found. You must provide a visual name as part of embed configuration.");var y=C.width?C.width:this.iframe.offsetWidth,h=C.height?C.height:this.iframe.offsetHeight,u={type:s.PageSizeType.Custom,width:y,height:h},g={};return g[C.pageName]={defaultLayout:{displayState:{mode:s.VisualContainerDisplayMode.Hidden}},visualsLayout:{}},g[C.pageName].visualsLayout[C.visualName]={displayState:{mode:s.VisualContainerDisplayMode.Visible},x:1,y:1,z:1,width:u.width,height:u.height},C.settings=C.settings||{},C.settings.filterPaneEnabled=!1,C.settings.navContentPaneEnabled=!1,C.settings.layoutType=s.LayoutType.Custom,C.settings.customLayout={displayOption:s.DisplayOption.FitToPage,pageSize:u,pagesLayout:g},this.config=C,_.prototype.load.call(this,f)}},c.prototype.getPages=function(){throw c.GetPagesNotSupportedError},c.prototype.setPage=function(f){throw c.SetPageNotSupportedError},c.prototype.render=function(f){return d(this,void 0,void 0,function(){return b(this,function(C){throw c.RenderNotSupportedError})})},c.prototype.getVisualDescriptor=function(){return d(this,void 0,void 0,function(){var f,C,y,h,u,g,m;return b(this,function(p){switch(p.label){case 0:f=this.config,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.service.hpm.get("/report/pages/".concat(f.pageName,"/visuals"),{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:if(C=p.sent(),y=C.body.filter(function(A){return A.name===f.visualName}),y.length===0)throw h={message:"visualNotFound",detailedMessage:"Visual not found"},h;return u=y[0],g=this.page(f.pageName),[2,new w.VisualDescriptor(g,u.name,u.title,u.type,u.layout)];case 3:throw m=p.sent(),m.body;case 4:return[2]}})})},c.prototype.getFilters=function(f){return d(this,void 0,void 0,function(){var C,y,h;return b(this,function(u){switch(u.label){case 0:C=this.getFiltersLevelUrl(f),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.service.hpm.get(C,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return y=u.sent(),[2,y.body];case 3:throw h=u.sent(),h.body;case 4:return[2]}})})},c.prototype.updateFilters=function(f,C,y){return d(this,void 0,void 0,function(){var h,u,g;return b(this,function(m){switch(m.label){case 0:h={filtersOperation:f,filters:C},u=this.getFiltersLevelUrl(y),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.service.hpm.post(u,h,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,m.sent()];case 3:throw g=m.sent(),g.body;case 4:return[2]}})})},c.prototype.setFilters=function(f,C){return d(this,void 0,void 0,function(){var y,h;return b(this,function(u){switch(u.label){case 0:y=this.getFiltersLevelUrl(C),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.service.hpm.put(y,f,{uid:this.config.uniqueId},this.iframe.contentWindow)];case 2:return[2,u.sent()];case 3:throw h=u.sent(),h.body;case 4:return[2]}})})},c.prototype.removeFilters=function(f){return d(this,void 0,void 0,function(){return b(this,function(C){switch(C.label){case 0:return[4,this.updateFilters(s.FiltersOperations.RemoveAll,void 0,f)];case 1:return[2,C.sent()]}})})},c.prototype.getFiltersLevelUrl=function(f){var C=this.config;switch(f){case s.FiltersLevel.Report:return"/report/filters";case s.FiltersLevel.Page:return"/report/pages/".concat(C.pageName,"/filters");default:return"/report/pages/".concat(C.pageName,"/visuals/").concat(C.visualName,"/filters")}},c.type="visual",c.GetPagesNotSupportedError="Get pages is not supported while embedding a visual.",c.SetPageNotSupportedError="Set page is not supported while embedding a visual.",c.RenderNotSupportedError="render is not supported while embedding a visual.",c}(E.Report);o.Visual=v},"./src/visualDescriptor.ts":function(n,o,a){var l=this&&this.__awaiter||function(E,w,v,_){function c(f){return f instanceof v?f:new v(function(C){C(f)})}return new(v||(v=Promise))(function(f,C){function y(g){try{u(_.next(g))}catch(m){C(m)}}function h(g){try{u(_.throw(g))}catch(m){C(m)}}function u(g){g.done?f(g.value):c(g.value).then(y,h)}u((_=_.apply(E,w||[])).next())})},d=this&&this.__generator||function(E,w){var v={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},_,c,f,C;return C={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function y(u){return function(g){return h([u,g])}}function h(u){if(_)throw new TypeError("Generator is already executing.");for(;v;)try{if(_=1,c&&(f=u[0]&2?c.return:u[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,u[1])).done)return f;switch(c=0,f&&(u=[u[0]&2,f.value]),u[0]){case 0:case 1:f=u;break;case 4:return v.label++,{value:u[1],done:!1};case 5:v.label++,c=u[1],u=[0];continue;case 7:u=v.ops.pop(),v.trys.pop();continue;default:if(f=v.trys,!(f=f.length>0&&f[f.length-1])&&(u[0]===6||u[0]===2)){v=0;continue}if(u[0]===3&&(!f||u[1]>f[0]&&u[1]<f[3])){v.label=u[1];break}if(u[0]===6&&v.label<f[1]){v.label=f[1],f=u;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(u);break}f[2]&&v.ops.pop(),v.trys.pop();continue}u=w.call(E,v)}catch(g){u=[6,g],c=0}finally{_=f=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.VisualDescriptor=void 0;var b=a("./node_modules/powerbi-models/dist/models.js"),s=function(){function E(w,v,_,c,f){this.name=v,this.title=_,this.type=c,this.layout=f,this.page=w}return E.prototype.getFilters=function(){return l(this,void 0,void 0,function(){var w,v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.get("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/filters"),{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return w=_.sent(),[2,w.body];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E.prototype.updateFilters=function(w,v){return l(this,void 0,void 0,function(){var _,c;return d(this,function(f){switch(f.label){case 0:_={filtersOperation:w,filters:v},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.page.report.service.hpm.post("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/filters"),_,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 2:return[2,f.sent()];case 3:throw c=f.sent(),c.body;case 4:return[2]}})})},E.prototype.removeFilters=function(){return l(this,void 0,void 0,function(){return d(this,function(w){switch(w.label){case 0:return[4,this.updateFilters(b.FiltersOperations.RemoveAll)];case 1:return[2,w.sent()]}})})},E.prototype.setFilters=function(w){return l(this,void 0,void 0,function(){var v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/filters"),w,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,_.sent()];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E.prototype.exportData=function(w,v){return l(this,void 0,void 0,function(){var _,c,f;return d(this,function(C){switch(C.label){case 0:_={rows:v,exportDataType:w},C.label=1;case 1:return C.trys.push([1,3,,4]),[4,this.page.report.service.hpm.post("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/exportData"),_,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 2:return c=C.sent(),[2,c.body];case 3:throw f=C.sent(),f.body;case 4:return[2]}})})},E.prototype.setSlicerState=function(w){return l(this,void 0,void 0,function(){var v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/slicer"),w,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,_.sent()];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E.prototype.getSlicerState=function(){return l(this,void 0,void 0,function(){var w,v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.get("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/slicer"),{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return w=_.sent(),[2,w.body];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E.prototype.clone=function(w){return w===void 0&&(w={}),l(this,void 0,void 0,function(){var v,_;return d(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.page.report.service.hpm.post("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/clone"),w,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return v=c.sent(),[2,v.body];case 2:throw _=c.sent(),_.body;case 3:return[2]}})})},E.prototype.sortBy=function(w){return l(this,void 0,void 0,function(){var v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.put("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/sortBy"),w,{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return[2,_.sent()];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E.prototype.moveVisual=function(w,v,_){return l(this,void 0,void 0,function(){var c,f,C;return d(this,function(y){return c=this.page.name,f=this.name,C=this.page.report,[2,C.moveVisual(c,f,w,v,_)]})})},E.prototype.setVisualDisplayState=function(w){return l(this,void 0,void 0,function(){var v,_,c;return d(this,function(f){return v=this.page.name,_=this.name,c=this.page.report,[2,c.setVisualDisplayState(v,_,w)]})})},E.prototype.resizeVisual=function(w,v){return l(this,void 0,void 0,function(){var _,c,f;return d(this,function(C){return _=this.page.name,c=this.name,f=this.page.report,[2,f.resizeVisual(_,c,w,v)]})})},E.prototype.getSmartNarrativeInsights=function(){return l(this,void 0,void 0,function(){var w,v;return d(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,this.page.report.service.hpm.get("/report/pages/".concat(this.page.name,"/visuals/").concat(this.name,"/smartNarrativeInsights"),{uid:this.page.report.config.uniqueId},this.page.report.iframe.contentWindow)];case 1:return w=_.sent(),[2,w.body];case 2:throw v=_.sent(),v.body;case 3:return[2]}})})},E}();o.VisualDescriptor=s},"./node_modules/window-post-message-proxy/dist/windowPostMessageProxy.js":n=>{(function(o,a){n.exports=a()})(self,()=>(()=>{"use strict";var o={};return(()=>{var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.WindowPostMessageProxy=void 0;var l=function(){function d(b){b===void 0&&(b={processTrackingProperties:{addTrackingProperties:d.defaultAddTrackingProperties,getTrackingProperties:d.defaultGetTrackingProperties},isErrorMessage:d.defaultIsErrorMessage,receiveWindow:window,name:d.createRandomString()});var s=this;this.pendingRequestPromises={},this.addTrackingProperties=b.processTrackingProperties&&b.processTrackingProperties.addTrackingProperties||d.defaultAddTrackingProperties,this.getTrackingProperties=b.processTrackingProperties&&b.processTrackingProperties.getTrackingProperties||d.defaultGetTrackingProperties,this.isErrorMessage=b.isErrorMessage||d.defaultIsErrorMessage,this.receiveWindow=b.receiveWindow||window,this.name=b.name||d.createRandomString(),this.logMessages=b.logMessages||!1,this.eventSourceOverrideWindow=b.eventSourceOverrideWindow,this.suppressWarnings=b.suppressWarnings||!1,this.logMessages&&console.log("new WindowPostMessageProxy created with name: ".concat(this.name," receiving on window: ").concat(this.receiveWindow.document.title)),this.handlers=[],this.windowMessageHandler=function(E){return s.onMessageReceived(E)},this.start()}return d.defaultAddTrackingProperties=function(b,s){return b[d.messagePropertyName]=s,b},d.defaultGetTrackingProperties=function(b){return b[d.messagePropertyName]},d.defaultIsErrorMessage=function(b){return!!b.error},d.createDeferred=function(){var b={resolve:null,reject:null,promise:null},s=new Promise(function(E,w){b.resolve=E,b.reject=w});return b.promise=s,b},d.createRandomString=function(){var b=window.crypto||window.msCrypto,s=new Uint32Array(1);return b.getRandomValues(s),s[0].toString(36).substring(1)},d.prototype.addHandler=function(b){this.handlers.push(b)},d.prototype.removeHandler=function(b){var s=this.handlers.indexOf(b);if(s===-1)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(s,1)},d.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},d.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},d.prototype.postMessage=function(b,s){var E={id:d.createRandomString()};this.addTrackingProperties(s,E),this.logMessages&&(console.log("".concat(this.name," Posting message:")),console.log(JSON.stringify(s,null,"  "))),b.postMessage(s,"*");var w=d.createDeferred();return this.pendingRequestPromises[E.id]=w,w.promise},d.prototype.sendResponse=function(b,s,E){this.addTrackingProperties(s,E),this.logMessages&&(console.log("".concat(this.name," Sending response:")),console.log(JSON.stringify(s,null,"  "))),b.postMessage(s,"*")},d.prototype.onMessageReceived=function(b){var s=this;this.logMessages&&(console.log("".concat(this.name," Received message:")),console.log("type: ".concat(b.type)),console.log(JSON.stringify(b.data,null,"  ")));var E=this.eventSourceOverrideWindow||b.source;if(E){var w=b.data;if(typeof w=="object"){var v,_;try{v=this.getTrackingProperties(w)}catch(f){this.suppressWarnings||console.warn("Proxy(".concat(this.name,"): Error occurred when attempting to get tracking properties from incoming message:"),JSON.stringify(w,null,"  "),"Error: ",f)}if(v&&(_=this.pendingRequestPromises[v.id]),_){var c=!0;try{c=this.isErrorMessage(w)}catch(f){console.warn("Proxy(".concat(this.name,") Error occurred when trying to determine if message is consider an error response. Message: "),JSON.stringify(w,null,""),"Error: ",f)}c?_.reject(w):_.resolve(w),delete this.pendingRequestPromises[v.id]}else this.handlers.some(function(f){var C=!1;try{C=f.test(w)}catch(h){s.suppressWarnings||console.warn("Proxy(".concat(s.name,"): Error occurred when handler was testing incoming message:"),JSON.stringify(w,null,"  "),"Error: ",h)}if(C){var y=void 0;try{y=Promise.resolve(f.handle(w))}catch(h){s.suppressWarnings||console.warn("Proxy(".concat(s.name,"): Error occurred when handler was processing incoming message:"),JSON.stringify(w,null,"  "),"Error: ",h),y=Promise.resolve()}return y.then(function(h){if(!h){var u="Handler for message: ".concat(JSON.stringify(w,null,"  ")," did not return a response message. The default response message will be returned instead.");s.suppressWarnings||console.warn("Proxy(".concat(s.name,"): ").concat(u)),h={warning:u}}s.sendResponse(E,h,v)}),!0}})||this.suppressWarnings||console.warn("Proxy(".concat(this.name,") did not handle message. Handlers: ").concat(this.handlers.length,"  Message: ").concat(JSON.stringify(w,null,""),"."))}else this.suppressWarnings||console.warn("Proxy(".concat(this.name,"): Received message that was not an object. Discarding message"))}},d.messagePropertyName="windowPostMessageProxy",d}();a.WindowPostMessageProxy=l})(),o})())}},t={};function e(n){var o=t[n];if(o!==void 0)return o.exports;var a=t[n]={exports:{}};return r[n].call(a.exports,a,a.exports,e),a.exports}var i={};return(()=>{var n=i;Object.defineProperty(n,"__esModule",{value:!0}),n.RelativeTimeFilterBuilder=n.RelativeDateFilterBuilder=n.TopNFilterBuilder=n.AdvancedFilterBuilder=n.BasicFilterBuilder=n.Create=n.QuickCreate=n.VisualDescriptor=n.Visual=n.Qna=n.Page=n.Embed=n.Tile=n.Dashboard=n.Report=n.models=n.factories=n.service=void 0;var o=e("./node_modules/powerbi-models/dist/models.js");n.models=o;var a=e("./src/service.ts");n.service=a;var l=e("./src/factories.ts");n.factories=l;var d=e("./src/report.ts");Object.defineProperty(n,"Report",{enumerable:!0,get:function(){return d.Report}});var b=e("./src/dashboard.ts");Object.defineProperty(n,"Dashboard",{enumerable:!0,get:function(){return b.Dashboard}});var s=e("./src/tile.ts");Object.defineProperty(n,"Tile",{enumerable:!0,get:function(){return s.Tile}});var E=e("./src/embed.ts");Object.defineProperty(n,"Embed",{enumerable:!0,get:function(){return E.Embed}});var w=e("./src/page.ts");Object.defineProperty(n,"Page",{enumerable:!0,get:function(){return w.Page}});var v=e("./src/qna.ts");Object.defineProperty(n,"Qna",{enumerable:!0,get:function(){return v.Qna}});var _=e("./src/visual.ts");Object.defineProperty(n,"Visual",{enumerable:!0,get:function(){return _.Visual}});var c=e("./src/visualDescriptor.ts");Object.defineProperty(n,"VisualDescriptor",{enumerable:!0,get:function(){return c.VisualDescriptor}});var f=e("./src/quickCreate.ts");Object.defineProperty(n,"QuickCreate",{enumerable:!0,get:function(){return f.QuickCreate}});var C=e("./src/create.ts");Object.defineProperty(n,"Create",{enumerable:!0,get:function(){return C.Create}});var y=e("./src/FilterBuilders/index.ts");Object.defineProperty(n,"BasicFilterBuilder",{enumerable:!0,get:function(){return y.BasicFilterBuilder}}),Object.defineProperty(n,"AdvancedFilterBuilder",{enumerable:!0,get:function(){return y.AdvancedFilterBuilder}}),Object.defineProperty(n,"TopNFilterBuilder",{enumerable:!0,get:function(){return y.TopNFilterBuilder}}),Object.defineProperty(n,"RelativeDateFilterBuilder",{enumerable:!0,get:function(){return y.RelativeDateFilterBuilder}}),Object.defineProperty(n,"RelativeTimeFilterBuilder",{enumerable:!0,get:function(){return y.RelativeTimeFilterBuilder}});var h=new a.Service(l.hpmFactory,l.wpmpFactory,l.routerFactory);window.powerbi&&window.powerBISDKGlobalServiceInstanceName?window[window.powerBISDKGlobalServiceInstanceName]=h:window.powerbi=h})(),i})())});var he=new ae("");var Dv=null;function qi(){return Dv}function _m(r){Dv??=r}var tc=class{},wm=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(Mv),providedIn:"platform"})}return r})();var Mv=(()=>{class r extends wm{_location;_history;_doc=ie(he);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(e){let i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,n){this._history.pushState(e,i,n)}replaceState(e,i,n){this._history.replaceState(e,i,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>new r,providedIn:"platform"})}return r})();function Ov(r,t){return r?t?r.endsWith("/")?t.startsWith("/")?r+t.slice(1):r+t:t.startsWith("/")?r+t:`${r}/${t}`:r:t}function Rv(r){let t=r.search(/#|\?|$/);return r[t-1]==="/"?r.slice(0,t-1)+r.slice(t):r}function tn(r){return r&&r[0]!=="?"?`?${r}`:r}var rn=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(gd),providedIn:"root"})}return r})(),Pv=new ae(""),gd=(()=>{class r extends rn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,i){super(),this._platformLocation=e,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ie(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ov(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+tn(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${i}${n}`:i}pushState(e,i,n,o){let a=this.prepareExternalUrl(n+tn(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,n,o){let a=this.prepareExternalUrl(n+tn(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(i){return new(i||r)(N(wm),N(Pv,8))};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Yt=(()=>{class r{_subject=new Me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=XC(Rv(kv(i))),this._locationStrategy.onPopState(n=>{this._subject.next({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+tn(i))}normalize(e){return r.stripTrailingSlash(JC(this._basePath,kv(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",n=null){this._locationStrategy.pushState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tn(i)),n)}replaceState(e,i="",n=null){this._locationStrategy.replaceState(n,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+tn(i)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(n=>n(e,i))}subscribe(e,i,n){return this._subject.subscribe({next:e,error:i??void 0,complete:n??void 0})}static normalizeQueryParams=tn;static joinWithSlash=Ov;static stripTrailingSlash=Rv;static \u0275fac=function(i){return new(i||r)(N(rn))};static \u0275prov=X({token:r,factory:()=>QC(),providedIn:"root"})}return r})();function QC(){return new Yt(N(rn))}function JC(r,t){if(!r||!t.startsWith(r))return t;let e=t.substring(r.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function kv(r){return r.replace(/\/index.html$/,"")}function XC(r){if(new RegExp("^(https?:)?//").test(r)){let[,e]=r.split(/\/\/[^\/]+/);return e}return r}var vd=class{$implicit;ngForOf;index;count;constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},nn=(()=>{class r{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,i,n){this._viewContainer=e,this._template=i,this._differs=n}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((n,o,a)=>{if(n.previousIndex==null)i.createEmbeddedView(this._template,new vd(n.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,a),xv(l,n)}});for(let n=0,o=i.length;n<o;n++){let l=i.get(n).context;l.index=n,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(n=>{let o=i.get(n.currentIndex);xv(o,n)})}static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||r)(Y(Gi),Y($i),Y(bm))};static \u0275dir=Le({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return r})();function xv(r,t){r.context.$implicit=t.item}var ic=(()=>{class r{_viewContainer;_context=new bd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,i){this._viewContainer=e,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Fv(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Fv(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,i){return!0}static \u0275fac=function(i){return new(i||r)(Y(Gi),Y($i))};static \u0275dir=Le({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return r})(),bd=class{$implicit=null;ngIf=null};function Fv(r,t){if(r&&!r.createEmbeddedView)throw new Be(2020,!1)}var rt=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=fe({type:r});static \u0275inj=pe({})}return r})();function rc(r,t){t=encodeURIComponent(t);for(let e of r.split(";")){let i=e.indexOf("="),[n,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(n.trim()===t)return decodeURIComponent(o)}return null}var yd="browser",Nv="server";function Cm(r){return r===yd}function _d(r){return r===Nv}var Hn=class{};var Ed=new ae(""),Im=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(n=>{n.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,n,o){return this._findPluginFor(i).addEventListener(e,i,n,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Be(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||r)(N(Ed),N(ye))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),nc=class{_doc;constructor(t){this._doc=t}manager},wd="ng-app-id";function Vv(r){for(let t of r)t.remove()}function Lv(r,t){let e=t.createElement("style");return e.textContent=r,e}function t0(r,t,e,i){let n=r.head?.querySelectorAll(`style[${wd}="${t}"],link[${wd}="${t}"]`);if(n)for(let o of n)o.removeAttribute(wd),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Sm(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var Tm=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,n,o={}){this.doc=e,this.appId=i,this.nonce=n,this.isServer=_d(o),t0(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let n of e)this.addUsage(n,this.inline,Lv);i?.forEach(n=>this.addUsage(n,this.external,Sm))}removeStyles(e,i){for(let n of e)this.removeUsage(n,this.inline);i?.forEach(n=>this.removeUsage(n,this.external))}addUsage(e,i,n){let o=i.get(e);o?o.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,n(e,this.doc)))})}removeUsage(e,i){let n=i.get(e);n&&(n.usage--,n.usage<=0&&(Vv(n.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Vv(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:n}]of this.inline)n.push(this.addElement(e,Lv(i,this.doc)));for(let[i,{elements:n}]of this.external)n.push(this.addElement(e,Sm(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(wd,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||r)(N(he),N(dd),N(Ys,8),N(wr))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),Em={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rm=/%COMP%/g;var Uv="%COMP%",i0=`_nghost-${Uv}`,r0=`_ngcontent-${Uv}`,n0=!0,o0=new ae("",{providedIn:"root",factory:()=>n0});function a0(r){return r0.replace(Rm,r)}function s0(r){return i0.replace(Rm,r)}function jv(r,t){return t.map(e=>e.replace(Rm,r))}var $n=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,n,o,a,l,d,b=null,s=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=b,this.tracingService=s,this.platformIsServer=_d(l),this.defaultRenderer=new oc(e,a,d,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Js.ShadowDom&&(i=oe(x({},i),{encapsulation:Js.Emulated}));let n=this.getOrCreateRenderer(e,i);return n instanceof Cd?n.applyToHost(e):n instanceof ac&&n.applyStyles(),n}getOrCreateRenderer(e,i){let n=this.rendererByCompId,o=n.get(i.id);if(!o){let a=this.doc,l=this.ngZone,d=this.eventManager,b=this.sharedStylesHost,s=this.removeStylesOnCompDestroy,E=this.platformIsServer,w=this.tracingService;switch(i.encapsulation){case Js.Emulated:o=new Cd(d,b,i,this.appId,s,a,l,E,w);break;case Js.ShadowDom:return new Am(d,b,e,i,a,l,this.nonce,E,w);default:o=new ac(d,b,i,s,a,l,E,w);break}n.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||r)(N(Im),N(Tm),N(dd),N(o0),N(he),N(wr),N(ye),N(Ys),N(Xg,8))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),oc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,n,o){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=n,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Em[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Bv(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Bv(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Be(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;let o=Em[n];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let n=Em[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(ta.DashCase|ta.Important)?t.style.setProperty(e,i,n&ta.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ta.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,n){if(typeof t=="string"&&(t=qi().getGlobalEventTarget(this.doc,t),!t))throw new Be(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,n)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function Bv(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var Am=class extends oc{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,n,o,a,l,d,b){super(t,o,a,d,b),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let s=n.styles;s=jv(n.id,s);for(let w of s){let v=document.createElement("style");l&&v.setAttribute("nonce",l),v.textContent=w,this.shadowRoot.appendChild(v)}let E=n.getExternalStyles?.();if(E)for(let w of E){let v=Sm(w,o);l&&v.setAttribute("nonce",l),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ac=class extends oc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,n,o,a,l,d,b){super(t,o,a,l,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=n;let s=i.styles;this.styles=b?jv(b,s):s,this.styleUrls=i.getExternalStyles?.(b)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Cd=class extends ac{contentAttr;hostAttr;constructor(t,e,i,n,o,a,l,d,b){let s=n+"-"+i.id;super(t,e,i,o,a,l,d,b,s),this.contentAttr=a0(s),this.hostAttr=s0(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var Sd=class r extends tc{supportsDOMEvents=!0;static makeCurrent(){_m(new r)}onAndCancel(t,e,i,n){return t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=c0();return e==null?null:l0(e)}resetBaseElement(){sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return rc(document.cookie,t)}},sc=null;function c0(){return sc=sc||document.querySelector("base"),sc?sc.getAttribute("href"):null}function l0(r){return new URL(r,document.baseURI).pathname}var Ad=class{addToWindow(t){br.getAngularTestability=(i,n=!0)=>{let o=t.findTestabilityInTree(i,n);if(o==null)throw new Be(5103,!1);return o},br.getAllAngularTestabilities=()=>t.getAllTestabilities(),br.getAllAngularRootElements=()=>t.getAllRootElements();let e=i=>{let n=br.getAllAngularTestabilities(),o=n.length,a=function(){o--,o==0&&i()};n.forEach(l=>{l.whenStable(a)})};br.frameworkStabilizers||(br.frameworkStabilizers=[]),br.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,i){if(e==null)return null;let n=t.getTestability(e);return n??(i?qi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},d0=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),zv=(()=>{class r extends nc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n,o){return e.addEventListener(i,n,o),()=>this.removeEventListener(e,i,n,o)}removeEventListener(e,i,n,o){return e.removeEventListener(i,n,o)}static \u0275fac=function(i){return new(i||r)(N(he))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),Hv=["alt","control","meta","shift"],u0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h0={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},$v=(()=>{class r extends nc{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,i,n,o){let a=r.parseEventName(i),l=r.eventCallback(a.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(e,a.domEventName,l,o))}static parseEventName(e){let i=e.toLowerCase().split("."),n=i.shift();if(i.length===0||!(n==="keydown"||n==="keyup"))return null;let o=r._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Hv.forEach(b=>{let s=i.indexOf(b);s>-1&&(i.splice(s,1),a+=b+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=n,d.fullKey=a,d}static matchEventFullKeyCode(e,i){let n=u0[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(n=e.code,o="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),Hv.forEach(a=>{if(a!==n){let l=h0[a];l(e)&&(o+=a+".")}}),o+=n,o===i)}static eventCallback(e,i,n){return o=>{r.matchEventFullKeyCode(o,e)&&n.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||r)(N(he))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})();function km(r,t){return Cv(x({rootComponent:r},m0(t)))}function m0(r){return{appProviders:[...Gv,...r?.providers??[]],platformProviders:v0}}function p0(){Sd.makeCurrent()}function f0(){return new Bn}function g0(){return Qg(document),document}var v0=[{provide:wr,useValue:yd},{provide:Jg,useValue:p0,multi:!0},{provide:he,useFactory:g0}];var b0=[{provide:hd,useClass:Ad},{provide:uv,useClass:md,deps:[ye,gm,hd]},{provide:md,useClass:md,deps:[ye,gm,hd]}],Gv=[{provide:qg,useValue:"root"},{provide:Bn,useFactory:f0},{provide:Ed,useClass:zv,multi:!0,deps:[he]},{provide:Ed,useClass:$v,multi:!0,deps:[he]},$n,Tm,Im,{provide:ia,useExisting:$n},{provide:Hn,useClass:d0},[]],Dm=(()=>{class r{constructor(){}static \u0275fac=function(i){return new(i||r)};static \u0275mod=fe({type:r});static \u0275inj=pe({providers:[...Gv,...b0],imports:[rt,wv]})}return r})();var sa=class{},ca=class{},Qt=class r{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let n=e.slice(0,i),o=e.slice(i+1).trim();this.addHeaderEntry(n,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof r?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new r;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof r?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let n=(t.op==="a"?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),n=t.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Rd=class{encodeKey(t){return qv(t)}encodeValue(t){return qv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function y0(r,t){let e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{let o=n.indexOf("="),[a,l]=o==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,o)),t.decodeValue(n.slice(o+1))],d=e.get(a)||[];d.push(l),e.set(a,d)}),e}var _0=/%(\d[a-f0-9])/gi,w0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qv(r){return encodeURIComponent(r).replace(_0,(t,e)=>w0[e]??t)}function Id(r){return`${r}`}var Sr=class r{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Rd,t.fromString){if(t.fromObject)throw new Be(2805,!1);this.map=y0(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],n=Array.isArray(i)?i.map(Id):[Id(i)];this.map.set(e,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let n=t[i];Array.isArray(n)?n.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new r({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Id(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],n=i.indexOf(Id(t.value));n!==-1&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var _i=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function C0(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Kv(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Wv(r){return typeof Blob<"u"&&r instanceof Blob}function Yv(r){return typeof FormData<"u"&&r instanceof FormData}function E0(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}var cc="Content-Type",kd="Accept",Fm="X-Request-URL",Xv="text/plain",Zv="application/json",eb=`${Zv}, ${Xv}, */*`,aa=class r{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,n){this.url=e,this.method=t.toUpperCase();let o;if(C0(this.method)||n?(this.body=i!==void 0?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Qt,this.context??=new _i,!this.params)this.params=new Sr,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),d=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Kv(this.body)||Wv(this.body)||Yv(this.body)||E0(this.body)?this.body:this.body instanceof Sr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Yv(this.body)?null:Wv(this.body)?this.body.type||null:Kv(this.body)?null:typeof this.body=="string"?Xv:this.body instanceof Sr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Zv:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,n=t.responseType||this.responseType,o=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,l=t.withCredentials??this.withCredentials,d=t.reportProgress??this.reportProgress,b=t.headers||this.headers,s=t.params||this.params,E=t.context??this.context;return t.setHeaders!==void 0&&(b=Object.keys(t.setHeaders).reduce((w,v)=>w.set(v,t.setHeaders[v]),b)),t.setParams&&(s=Object.keys(t.setParams).reduce((w,v)=>w.set(v,t.setParams[v]),s)),new r(e,i,a,{params:s,headers:b,context:E,reportProgress:d,responseType:n,withCredentials:l,transferCache:o})}},Ar=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Ar||{}),la=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new Qt,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},lc=class r extends la{constructor(t={}){super(t)}type=Ar.ResponseHeader;clone(t={}){return new r({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},da=class r extends la{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ar.Response;clone(t={}){return new r({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Er=class extends la{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},tb=200,S0=204;function Mm(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}var Jt=(()=>{class r{handler;constructor(e){this.handler=e}request(e,i,n={}){let o;if(e instanceof aa)o=e;else{let d;n.headers instanceof Qt?d=n.headers:d=new Qt(n.headers);let b;n.params&&(n.params instanceof Sr?b=n.params:b=new Sr({fromObject:n.params})),o=new aa(e,i,n.body!==void 0?n.body:null,{headers:d,context:n.context,params:b,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let a=ce(o).pipe(zi(d=>this.handler.handle(d)));if(e instanceof aa||n.observe==="events")return a;let l=a.pipe(dt(d=>d instanceof da));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ve(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Be(2806,!1);return d.body}));case"blob":return l.pipe(ve(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Be(2807,!1);return d.body}));case"text":return l.pipe(ve(d=>{if(d.body!==null&&typeof d.body!="string")throw new Be(2808,!1);return d.body}));case"json":default:return l.pipe(ve(d=>d.body))}case"response":return l;default:throw new Be(2809,!1)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new Sr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,Mm(n,i))}post(e,i,n={}){return this.request("POST",e,Mm(n,i))}put(e,i,n={}){return this.request("PUT",e,Mm(n,i))}static \u0275fac=function(i){return new(i||r)(N(sa))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),A0=/^\)\]\}',?\n/;function Qv(r){if(r.url)return r.url;let t=Fm.toLocaleLowerCase();return r.headers.get(t)}var ib=new ae(""),Td=(()=>{class r{fetchImpl=ie(Om,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=ie(ye);handle(e){return new fr(i=>{let n=new AbortController;return this.doRequest(e,n.signal,i).then(Pm,o=>i.error(new Er({error:o}))),()=>n.abort()})}doRequest(e,i,n){return O(this,null,function*(){let o=this.createRequestInit(e),a;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,x({signal:i},o)));I0(v),n.next({type:Ar.Sent}),a=yield v}catch(v){n.error(new Er({error:v,status:v.status??0,statusText:v.statusText,url:e.urlWithParams,headers:v.headers}));return}let l=new Qt(a.headers),d=a.statusText,b=Qv(a)??e.urlWithParams,s=a.status,E=null;if(e.reportProgress&&n.next(new lc({headers:l,status:s,statusText:d,url:b})),a.body){let v=a.headers.get("content-length"),_=[],c=a.body.getReader(),f=0,C,y,h=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>O(this,null,function*(){for(;;){let{done:g,value:m}=yield c.read();if(g)break;if(_.push(m),f+=m.length,e.reportProgress){y=e.responseType==="text"?(y??"")+(C??=new TextDecoder).decode(m,{stream:!0}):void 0;let p=()=>n.next({type:Ar.DownloadProgress,total:v?+v:void 0,loaded:f,partialText:y});h?h.run(p):p()}}}));let u=this.concatChunks(_,f);try{let g=a.headers.get(cc)??"";E=this.parseBody(e,u,g)}catch(g){n.error(new Er({error:g,headers:new Qt(a.headers),status:a.status,statusText:a.statusText,url:Qv(a)??e.urlWithParams}));return}}s===0&&(s=E?tb:0),s>=200&&s<300?(n.next(new da({body:E,headers:l,status:s,statusText:d,url:b})),n.complete()):n.error(new Er({error:E,headers:l,status:s,statusText:d,url:b}))})}parseBody(e,i,n){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(A0,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:n});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},n=e.withCredentials?"include":void 0;if(e.headers.forEach((o,a)=>i[o]=a.join(",")),e.headers.has(kd)||(i[kd]=eb),!e.headers.has(cc)){let o=e.detectContentTypeHeader();o!==null&&(i[cc]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:n}}concatChunks(e,i){let n=new Uint8Array(i),o=0;for(let a of e)n.set(a,o),o+=a.length;return n}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),Om=class{};function Pm(){}function I0(r){r.then(Pm,Pm)}function rb(r,t){return t(r)}function T0(r,t){return(e,i)=>t.intercept(e,{handle:n=>r(n,i)})}function R0(r,t,e){return(i,n)=>Ri(e,()=>t(i,o=>r(o,n)))}var Md=new ae(""),Nm=new ae(""),nb=new ae(""),Vm=new ae("",{providedIn:"root",factory:()=>!0});function k0(){let r=null;return(t,e)=>{r===null&&(r=(ie(Md,{optional:!0})??[]).reduceRight(T0,rb));let i=ie(Ws);if(ie(Vm)){let o=i.add();return r(t,e).pipe(vr(()=>i.remove(o)))}else return r(t,e)}}var Dd=(()=>{class r extends sa{backend;injector;chain=null;pendingTasks=ie(Ws);contributeToStability=ie(Vm);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Nm),...this.injector.get(nb,[])]));this.chain=i.reduceRight((n,o)=>R0(n,o,this.injector),rb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,n=>this.backend.handle(n)).pipe(vr(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||r)(N(ca),N(_r))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})();var D0=/^\)\]\}',?\n/,M0=RegExp(`^${Fm}:`,"m");function O0(r){return"responseURL"in r&&r.responseURL?r.responseURL:M0.test(r.getAllResponseHeaders())?r.getResponseHeader(Fm):null}var xm=(()=>{class r{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Be(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Je(i.\u0275loadImpl()):ce(null)).pipe(gt(()=>new fr(o=>{let a=i.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((c,f)=>a.setRequestHeader(c,f.join(","))),e.headers.has(kd)||a.setRequestHeader(kd,eb),!e.headers.has(cc)){let c=e.detectContentTypeHeader();c!==null&&a.setRequestHeader(cc,c)}if(e.responseType){let c=e.responseType.toLowerCase();a.responseType=c!=="json"?c:"text"}let l=e.serializeBody(),d=null,b=()=>{if(d!==null)return d;let c=a.statusText||"OK",f=new Qt(a.getAllResponseHeaders()),C=O0(a)||e.url;return d=new lc({headers:f,status:a.status,statusText:c,url:C}),d},s=()=>{let{headers:c,status:f,statusText:C,url:y}=b(),h=null;f!==S0&&(h=typeof a.response>"u"?a.responseText:a.response),f===0&&(f=h?tb:0);let u=f>=200&&f<300;if(e.responseType==="json"&&typeof h=="string"){let g=h;h=h.replace(D0,"");try{h=h!==""?JSON.parse(h):null}catch(m){h=g,u&&(u=!1,h={error:m,text:h})}}u?(o.next(new da({body:h,headers:c,status:f,statusText:C,url:y||void 0})),o.complete()):o.error(new Er({error:h,headers:c,status:f,statusText:C,url:y||void 0}))},E=c=>{let{url:f}=b(),C=new Er({error:c,status:a.status||0,statusText:a.statusText||"Unknown Error",url:f||void 0});o.error(C)},w=!1,v=c=>{w||(o.next(b()),w=!0);let f={type:Ar.DownloadProgress,loaded:c.loaded};c.lengthComputable&&(f.total=c.total),e.responseType==="text"&&a.responseText&&(f.partialText=a.responseText),o.next(f)},_=c=>{let f={type:Ar.UploadProgress,loaded:c.loaded};c.lengthComputable&&(f.total=c.total),o.next(f)};return a.addEventListener("load",s),a.addEventListener("error",E),a.addEventListener("timeout",E),a.addEventListener("abort",E),e.reportProgress&&(a.addEventListener("progress",v),l!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(l),o.next({type:Ar.Sent}),()=>{a.removeEventListener("error",E),a.removeEventListener("abort",E),a.removeEventListener("load",s),a.removeEventListener("timeout",E),e.reportProgress&&(a.removeEventListener("progress",v),l!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||r)(N(Hn))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),ob=new ae(""),P0="XSRF-TOKEN",x0=new ae("",{providedIn:"root",factory:()=>P0}),F0="X-XSRF-TOKEN",N0=new ae("",{providedIn:"root",factory:()=>F0}),dc=class{},V0=(()=>{class r{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||r)(N(he),N(wr),N(x0))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})();function L0(r,t){let e=r.url.toLowerCase();if(!ie(ob)||r.method==="GET"||r.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(r);let i=ie(dc).getToken(),n=ie(N0);return i!=null&&!r.headers.has(n)&&(r=r.clone({headers:r.headers.set(n,i)})),t(r)}var Od=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Od||{});function ab(r,t){return{\u0275kind:r,\u0275providers:t}}function Lm(...r){let t=[Jt,xm,Dd,{provide:sa,useExisting:Dd},{provide:ca,useFactory:()=>ie(ib,{optional:!0})??ie(xm)},{provide:Nm,useValue:L0,multi:!0},{provide:ob,useValue:!0},{provide:dc,useClass:V0}];for(let e of r)t.push(...e.\u0275providers);return yr(t)}var Jv=new ae("");function Bm(){return ab(Od.LegacyInterceptors,[{provide:Jv,useFactory:k0},{provide:Nm,useExisting:Jv,multi:!0}])}function Um(){return ab(Od.Fetch,[Td,{provide:ib,useExisting:Td},{provide:ca,useExisting:Td}])}var sb=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||r)(N(he))};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var uc=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:function(i){let n=null;return i?n=new(i||r):n=N(H0),n},providedIn:"root"})}return r})(),H0=(()=>{class r extends uc{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case si.NONE:return i;case si.HTML:return ea(i,"HTML")?Zo(i):av(this._doc,String(i)).toString();case si.STYLE:return ea(i,"Style")?Zo(i):i;case si.SCRIPT:if(ea(i,"Script"))return Zo(i);throw new Be(5200,!1);case si.URL:return ea(i,"URL")?Zo(i):ov(String(i));case si.RESOURCE_URL:if(ea(i,"ResourceURL"))return Zo(i);throw new Be(5201,!1);default:throw new Be(5202,!1)}}bypassSecurityTrustHtml(e){return ev(e)}bypassSecurityTrustStyle(e){return tv(e)}bypassSecurityTrustScript(e){return iv(e)}bypassSecurityTrustUrl(e){return rv(e)}bypassSecurityTrustResourceUrl(e){return nv(e)}static \u0275fac=function(i){return new(i||r)(N(he))};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Re="primary",Ac=Symbol("RouteTitle"),qm=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Kn(r){return new qm(r)}function fb(r,t,e){let i=e.path.split("/");if(i.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<r.length))return null;let n={};for(let o=0;o<i.length;o++){let a=i[o],l=r[o];if(a[0]===":")n[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:r.slice(0,i.length),posParams:n}}function z0(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!Ki(r[e],t[e]))return!1;return!0}function Ki(r,t){let e=r?Km(r):void 0,i=t?Km(t):void 0;if(!e||!i||e.length!=i.length)return!1;let n;for(let o=0;o<e.length;o++)if(n=e[o],!gb(r[n],t[n]))return!1;return!0}function Km(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function gb(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),i=[...t].sort();return e.every((n,o)=>i[o]===n)}else return r===t}function vb(r){return r.length>0?r[r.length-1]:null}function sn(r){return ad(r)?r:vm(r)?Je(Promise.resolve(r)):ce(r)}var $0={exact:yb,subset:_b},bb={exact:G0,subset:q0,ignored:()=>!0};function cb(r,t,e){return $0[e.paths](r.root,t.root,e.matrixParams)&&bb[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function G0(r,t){return Ki(r,t)}function yb(r,t,e){if(!Gn(r.segments,t.segments)||!Fd(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!r.children[i]||!yb(r.children[i],t.children[i],e))return!1;return!0}function q0(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>gb(r[e],t[e]))}function _b(r,t,e){return wb(r,t,t.segments,e)}function wb(r,t,e,i){if(r.segments.length>e.length){let n=r.segments.slice(0,e.length);return!(!Gn(n,e)||t.hasChildren()||!Fd(n,e,i))}else if(r.segments.length===e.length){if(!Gn(r.segments,e)||!Fd(r.segments,e,i))return!1;for(let n in t.children)if(!r.children[n]||!_b(r.children[n],t.children[n],i))return!1;return!0}else{let n=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!Gn(r.segments,n)||!Fd(r.segments,n,i)||!r.children[Re]?!1:wb(r.children[Re],t,o,i)}}function Fd(r,t,e){return t.every((i,n)=>bb[e](r[n].parameters,i.parameters))}var Yi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new $e([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Kn(this.queryParams),this._queryParamMap}toString(){return Y0.serialize(this)}},$e=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nd(this)}},on=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Kn(this.parameters),this._parameterMap}toString(){return Eb(this)}};function K0(r,t){return Gn(r,t)&&r.every((e,i)=>Ki(e.parameters,t[i].parameters))}function Gn(r,t){return r.length!==t.length?!1:r.every((e,i)=>e.path===t[i].path)}function W0(r,t){let e=[];return Object.entries(r.children).forEach(([i,n])=>{i===Re&&(e=e.concat(t(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==Re&&(e=e.concat(t(n,i)))}),e}var Ic=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>new Wn,providedIn:"root"})}return r})(),Wn=class{parse(t){let e=new Ym(t);return new Yi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${hc(t.root,!0)}`,i=X0(t.queryParams),n=typeof t.fragment=="string"?`#${Q0(t.fragment)}`:"";return`${e}${i}${n}`}},Y0=new Wn;function Nd(r){return r.segments.map(t=>Eb(t)).join("/")}function hc(r,t){if(!r.hasChildren())return Nd(r);if(t){let e=r.children[Re]?hc(r.children[Re],!1):"",i=[];return Object.entries(r.children).forEach(([n,o])=>{n!==Re&&i.push(`${n}:${hc(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=W0(r,(i,n)=>n===Re?[hc(r.children[Re],!1)]:[`${n}:${hc(i,!1)}`]);return Object.keys(r.children).length===1&&r.children[Re]!=null?`${Nd(r)}/${e[0]}`:`${Nd(r)}/(${e.join("//")})`}}function Cb(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(r){return Cb(r).replace(/%3B/gi,";")}function Q0(r){return encodeURI(r)}function Wm(r){return Cb(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vd(r){return decodeURIComponent(r)}function lb(r){return Vd(r.replace(/\+/g,"%20"))}function Eb(r){return`${Wm(r.path)}${J0(r.parameters)}`}function J0(r){return Object.entries(r).map(([t,e])=>`;${Wm(t)}=${Wm(e)}`).join("")}function X0(r){let t=Object.entries(r).map(([e,i])=>Array.isArray(i)?i.map(n=>`${Pd(e)}=${Pd(n)}`).join("&"):`${Pd(e)}=${Pd(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Z0=/^[^\/()?;#]+/;function Hm(r){let t=r.match(Z0);return t?t[0]:""}var eE=/^[^\/()?;=#]+/;function tE(r){let t=r.match(eE);return t?t[0]:""}var iE=/^[^=?&#]+/;function rE(r){let t=r.match(iE);return t?t[0]:""}var nE=/^[^&#]+/;function oE(r){let t=r.match(nE);return t?t[0]:""}var Ym=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Re]=new $e(t,e)),i}parseSegment(){let t=Hm(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Be(4009,!1);return this.capture(t),new on(Vd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=tE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let n=Hm(this.remaining);n&&(i=n,this.capture(i))}t[Vd(e)]=Vd(i)}parseQueryParam(t){let e=rE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let a=oE(this.remaining);a&&(i=a,this.capture(i))}let n=lb(e),o=lb(i);if(t.hasOwnProperty(n)){let a=t[n];Array.isArray(a)||(a=[a],t[n]=a),a.push(o)}else t[n]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Hm(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new Be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Re);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[Re]:new $e([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Be(4011,!1)}};function Sb(r){return r.segments.length>0?new $e([],{[Re]:r}):r}function Ab(r){let t={};for(let[i,n]of Object.entries(r.children)){let o=Ab(n);if(i===Re&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new $e(r.segments,t);return aE(e)}function aE(r){if(r.numberOfChildren===1&&r.children[Re]){let t=r.children[Re];return new $e(r.segments.concat(t.segments),t.children)}return r}function an(r){return r instanceof Yi}function Ib(r,t,e=null,i=null){let n=Tb(r);return Rb(n,t,e,i)}function Tb(r){let t;function e(o){let a={};for(let d of o.children){let b=e(d);a[d.outlet]=b}let l=new $e(o.url,a);return o===r&&(t=l),l}let i=e(r.root),n=Sb(i);return t??n}function Rb(r,t,e,i){let n=r;for(;n.parent;)n=n.parent;if(t.length===0)return zm(n,n,n,e,i);let o=sE(t);if(o.toRoot())return zm(n,n,new $e([],{}),e,i);let a=cE(o,n,r),l=a.processChildren?pc(a.segmentGroup,a.index,o.commands):Db(a.segmentGroup,a.index,o.commands);return zm(n,a.segmentGroup,l,e,i)}function Bd(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function gc(r){return typeof r=="object"&&r!=null&&r.outlets}function zm(r,t,e,i,n){let o={};i&&Object.entries(i).forEach(([d,b])=>{o[d]=Array.isArray(b)?b.map(s=>`${s}`):`${b}`});let a;r===t?a=e:a=kb(r,t,e);let l=Sb(Ab(a));return new Yi(l,o,n)}function kb(r,t,e){let i={};return Object.entries(r.children).forEach(([n,o])=>{o===t?i[n]=e:i[n]=kb(o,t,e)}),new $e(r.segments,i)}var Ud=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Bd(i[0]))throw new Be(4003,!1);let n=i.find(gc);if(n&&n!==vb(i))throw new Be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sE(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Ud(!0,0,r);let t=0,e=!1,i=r.reduce((n,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,b])=>{l[d]=typeof b=="string"?b.split("/"):b}),[...n,{outlets:l}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?e=!0:l===".."?t++:l!=""&&n.push(l))}),n):[...n,o]},[]);return new Ud(e,t,i)}var pa=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function cE(r,t,e){if(r.isAbsolute)return new pa(t,!0,0);if(!e)return new pa(t,!1,NaN);if(e.parent===null)return new pa(e,!0,0);let i=Bd(r.commands[0])?0:1,n=e.segments.length-1+i;return lE(e,n,r.numberOfDoubleDots)}function lE(r,t,e){let i=r,n=t,o=e;for(;o>n;){if(o-=n,i=i.parent,!i)throw new Be(4005,!1);n=i.segments.length}return new pa(i,!1,n-o)}function dE(r){return gc(r[0])?r[0].outlets:{[Re]:r}}function Db(r,t,e){if(r??=new $e([],{}),r.segments.length===0&&r.hasChildren())return pc(r,t,e);let i=uE(r,t,e),n=e.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){let o=new $e(r.segments.slice(0,i.pathIndex),{});return o.children[Re]=new $e(r.segments.slice(i.pathIndex),r.children),pc(o,0,n)}else return i.match&&n.length===0?new $e(r.segments,{}):i.match&&!r.hasChildren()?Qm(r,t,e):i.match?pc(r,0,n):Qm(r,t,e)}function pc(r,t,e){if(e.length===0)return new $e(r.segments,{});{let i=dE(e),n={};if(Object.keys(i).some(o=>o!==Re)&&r.children[Re]&&r.numberOfChildren===1&&r.children[Re].segments.length===0){let o=pc(r.children[Re],t,e);return new $e(r.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(n[o]=Db(r.children[o],t,a))}),Object.entries(r.children).forEach(([o,a])=>{i[o]===void 0&&(n[o]=a)}),new $e(r.segments,n)}}function uE(r,t,e){let i=0,n=t,o={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=e.length)return o;let a=r.segments[n],l=e[i];if(gc(l))break;let d=`${l}`,b=i<e.length-1?e[i+1]:null;if(n>0&&d===void 0)break;if(d&&b&&typeof b=="object"&&b.outlets===void 0){if(!ub(d,b,a))return o;i+=2}else{if(!ub(d,{},a))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function Qm(r,t,e){let i=r.segments.slice(0,t),n=0;for(;n<e.length;){let o=e[n];if(gc(o)){let d=hE(o.outlets);return new $e(i,d)}if(n===0&&Bd(e[0])){let d=r.segments[t];i.push(new on(d.path,db(e[0]))),n++;continue}let a=gc(o)?o.outlets[Re]:`${o}`,l=n<e.length-1?e[n+1]:null;a&&l&&Bd(l)?(i.push(new on(a,db(l))),n+=2):(i.push(new on(a,{})),n++)}return new $e(i,{})}function hE(r){let t={};return Object.entries(r).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Qm(new $e([],{}),0,i))}),t}function db(r){let t={};return Object.entries(r).forEach(([e,i])=>t[e]=`${i}`),t}function ub(r,t,e){return r==e.path&&Ki(t,e.parameters)}var Ld="imperative",Ot=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Ot||{}),hi=class{id;url;constructor(t,e){this.id=t,this.url=e}},Yn=class extends hi{type=Ot.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",n=null){super(t,e),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends hi{urlAfterRedirects;type=Ot.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(Xt||{}),vc=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(vc||{}),Wi=class extends hi{reason;code;type=Ot.NavigationCancel;constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends hi{reason;code;type=Ot.NavigationSkipped;constructor(t,e,i,n){super(t,e),this.reason=i,this.code=n}},ga=class extends hi{error;target;type=Ot.NavigationError;constructor(t,e,i,n){super(t,e),this.error=i,this.target=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bc=class extends hi{urlAfterRedirects;state;type=Ot.RoutesRecognized;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends hi{urlAfterRedirects;state;type=Ot.GuardsCheckStart;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class extends hi{urlAfterRedirects;state;shouldActivate;type=Ot.GuardsCheckEnd;constructor(t,e,i,n,o){super(t,e),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zd=class extends hi{urlAfterRedirects;state;type=Ot.ResolveStart;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$d=class extends hi{urlAfterRedirects;state;type=Ot.ResolveEnd;constructor(t,e,i,n){super(t,e),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gd=class{route;type=Ot.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qd=class{route;type=Ot.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kd=class{snapshot;type=Ot.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{snapshot;type=Ot.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=Ot.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qd=class{snapshot;type=Ot.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yc=class{},va=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function mE(r,t){return r.providers&&!r._injector&&(r._injector=mm(r.providers,t,`Route: ${r.path}`)),r._injector??t}function Pi(r){return r.outlet||Re}function pE(r,t){let e=r.filter(i=>Pi(i)===t);return e.push(...r.filter(i=>Pi(i)!==t)),e}function Tc(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Jd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Tc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new _a(this.rootInjector)}},_a=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let n=this.getOrCreateContext(e);n.outlet=i,this.contexts.set(e,n)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Jd(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||r)(N(_r))};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Jm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Jm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Xm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(n=>n.value).filter(n=>n!==t)}pathFromRoot(t){return Xm(t,this._root).map(e=>e.value)}};function Jm(r,t){if(r===t.value)return t;for(let e of t.children){let i=Jm(r,e);if(i)return i}return null}function Xm(r,t){if(r===t.value)return[t];for(let e of t.children){let i=Xm(r,e);if(i.length)return i.unshift(t),i}return[]}var ui=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ma(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var _c=class extends Xd{snapshot;constructor(t,e){super(t),this.snapshot=e,ap(this,t)}toString(){return this.snapshot.toString()}};function Mb(r){let t=fE(r),e=new kt([new on("",{})]),i=new kt({}),n=new kt({}),o=new kt({}),a=new kt(""),l=new mi(e,i,o,a,n,Re,r,t.root);return l.snapshot=t.root,new _c(new ui(l,[]),t)}function fE(r){let t={},e={},i={},n="",o=new qn([],t,i,n,e,Re,r,null,{});return new wc("",new ui(o,[]))}var mi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,n,o,a,l,d){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ve(b=>b[Ac]))??ce(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(t=>Kn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(t=>Kn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zd(r,t,e="emptyOnly"){let i,{routeConfig:n}=r;return t!==null&&(e==="always"||n?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:x(x({},t.params),r.params),data:x(x({},t.data),r.data),resolve:x(x(x(x({},r.data),t.data),n?.data),r._resolvedData)}:i={params:x({},r.params),data:x({},r.data),resolve:x(x({},r.data),r._resolvedData??{})},n&&Pb(n)&&(i.resolve[Ac]=n.title),i}var qn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ac]}constructor(t,e,i,n,o,a,l,d,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},wc=class extends Xd{url;constructor(t,e){super(e),this.url=t,ap(this,e)}toString(){return Ob(this._root)}};function ap(r,t){t.value._routerState=r,t.children.forEach(e=>ap(r,e))}function Ob(r){let t=r.children.length>0?` { ${r.children.map(Ob).join(", ")} } `:"";return`${r.value}${t}`}function $m(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,Ki(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),Ki(t.params,e.params)||r.paramsSubject.next(e.params),z0(t.url,e.url)||r.urlSubject.next(e.url),Ki(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Zm(r,t){let e=Ki(r.params,t.params)&&K0(r.url,t.url),i=!r.parent!=!t.parent;return e&&!i&&(!r.parent||Zm(r.parent,t.parent))}function Pb(r){return typeof r.title=="string"||r.title===null}var xb=new ae(""),Rc=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new xt;deactivateEvents=new xt;attachEvents=new xt;detachEvents=new xt;routerOutletData=Yg(void 0);parentContexts=ie(_a);location=ie(Gi);changeDetector=ie(di);inputBinder=ie(ru,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:n}=e.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Be(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Be(4013,!1);this._activatedRoute=e;let n=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new ep(e,l,n.injector,this.routerOutletData);this.activated=n.createComponent(a,{index:n.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=Le({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ki]})}return r})(),ep=class{route;childContexts;parent;outletData;constructor(t,e,i,n){this.route=t,this.childContexts=e,this.parent=i,this.outletData=n}get(t,e){return t===mi?this.route:t===_a?this.childContexts:t===xb?this.outletData:this.parent.get(t,e)}},ru=new ae("");function gE(r,t,e){let i=Cc(r,t._root,e?e._root:void 0);return new _c(i,t)}function Cc(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let n=vE(r,t,e);return new ui(i,n)}else{if(r.shouldAttach(t.value)){let o=r.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>Cc(r,l)),a}}let i=bE(t.value),n=t.children.map(o=>Cc(r,o));return new ui(i,n)}}function vE(r,t,e){return t.children.map(i=>{for(let n of e.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return Cc(r,i,n);return Cc(r,i)})}function bE(r){return new mi(new kt(r.url),new kt(r.params),new kt(r.queryParams),new kt(r.fragment),new kt(r.data),r.outlet,r.component,r)}var ba=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Fb="ngNavigationCancelingError";function eu(r,t){let{redirectTo:e,navigationBehaviorOptions:i}=an(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,n=Nb(!1,Xt.Redirect);return n.url=e,n.navigationBehaviorOptions=i,n}function Nb(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[Fb]=!0,e.cancellationCode=t,e}function yE(r){return Vb(r)&&an(r.url)}function Vb(r){return!!r&&r[Fb]}var _E=(r,t,e,i)=>ve(n=>(new tp(t,n.targetRouterState,n.currentRouterState,e,i).activate(r),n)),tp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,n,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$m(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let n=ma(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,n[a],i),delete n[a]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let n=t.value,o=e?e.value:null;if(n===o)if(n.component){let a=i.getContext(n.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,o=ma(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),n=i&&t.value.component?i.children:e,o=ma(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let n=ma(e);t.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new Qd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Wd(t.value.snapshot))}activateRoutes(t,e,i){let n=t.value,o=e?e.value:null;if($m(n),n===o)if(n.component){let a=i.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(n.component){let a=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let l=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),$m(l.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=n,a.outlet&&a.outlet.activateWith(n,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,i)}},tu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},fa=class{component;route;constructor(t,e){this.component=t,this.route=e}};function wE(r,t,e){let i=r._root,n=t?t._root:null;return mc(i,n,e,[i.value])}function CE(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function wa(r,t){let e=Symbol(),i=t.get(r,e);return i===e?typeof r=="function"&&!$g(r)?r:t.get(r):i}function mc(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=ma(t);return r.children.forEach(a=>{EE(a,o[a.value.outlet],e,i.concat([a.value]),n),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>fc(l,e.getContext(a),n)),n}function EE(r,t,e,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,a=t?t.value:null,l=e?e.getContext(r.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=SE(a,o,o.routeConfig.runGuardsAndResolvers);d?n.canActivateChecks.push(new tu(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?mc(r,t,l?l.children:null,i,n):mc(r,t,e,i,n),d&&l&&l.outlet&&l.outlet.isActivated&&n.canDeactivateChecks.push(new fa(l.outlet.component,a))}else a&&fc(t,l,n),n.canActivateChecks.push(new tu(i)),o.component?mc(r,null,l?l.children:null,i,n):mc(r,null,e,i,n);return n}function SE(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!Gn(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Gn(r.url,t.url)||!Ki(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zm(r,t)||!Ki(r.queryParams,t.queryParams);case"paramsChange":default:return!Zm(r,t)}}function fc(r,t,e){let i=ma(r),n=r.value;Object.entries(i).forEach(([o,a])=>{n.component?t?fc(a,t.children.getContext(o),e):fc(a,null,e):fc(a,t,e)}),n.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new fa(t.outlet.component,n)):e.canDeactivateChecks.push(new fa(null,n)):e.canDeactivateChecks.push(new fa(null,n))}function kc(r){return typeof r=="function"}function AE(r){return typeof r=="boolean"}function IE(r){return r&&kc(r.canLoad)}function TE(r){return r&&kc(r.canActivate)}function RE(r){return r&&kc(r.canActivateChild)}function kE(r){return r&&kc(r.canDeactivate)}function DE(r){return r&&kc(r.canMatch)}function Lb(r){return r instanceof Lg||r?.name==="EmptyError"}var xd=Symbol("INITIAL_VALUE");function ya(){return gt(r=>Hs(r.map(t=>t.pipe(Ut(1),$s(xd)))).pipe(ve(t=>{for(let e of t)if(e!==!0){if(e===xd)return xd;if(e===!1||ME(e))return e}return!0}),dt(t=>t!==xd),Ut(1)))}function ME(r){return an(r)||r instanceof ba}function OE(r,t){return bi(e=>{let{targetSnapshot:i,currentSnapshot:n,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?ce(oe(x({},e),{guardsResult:!0})):PE(a,i,n,r).pipe(bi(l=>l&&AE(l)?xE(i,o,r,t):ce(l)),ve(l=>oe(x({},e),{guardsResult:l})))})}function PE(r,t,e,i){return Je(r).pipe(bi(n=>BE(n.component,n.route,e,t,i)),Qr(n=>n!==!0,!0))}function xE(r,t,e,i){return Je(t).pipe(zi(n=>sd(NE(n.route.parent,i),FE(n.route,i),LE(r,n.path,e),VE(r,n.route,e))),Qr(n=>n!==!0,!0))}function FE(r,t){return r!==null&&t&&t(new Yd(r)),ce(!0)}function NE(r,t){return r!==null&&t&&t(new Kd(r)),ce(!0)}function VE(r,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return ce(!0);let n=i.map(o=>am(()=>{let a=Tc(t)??e,l=wa(o,a),d=TE(l)?l.canActivate(t,r):Ri(a,()=>l(t,r));return sn(d).pipe(Qr())}));return ce(n).pipe(ya())}function LE(r,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>CE(a)).filter(a=>a!==null).map(a=>am(()=>{let l=a.guards.map(d=>{let b=Tc(a.node)??e,s=wa(d,b),E=RE(s)?s.canActivateChild(i,r):Ri(b,()=>s(i,r));return sn(E).pipe(Qr())});return ce(l).pipe(ya())}));return ce(o).pipe(ya())}function BE(r,t,e,i,n){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let a=o.map(l=>{let d=Tc(t)??n,b=wa(l,d),s=kE(b)?b.canDeactivate(r,t,e,i):Ri(d,()=>b(r,t,e,i));return sn(s).pipe(Qr())});return ce(a).pipe(ya())}function UE(r,t,e,i){let n=t.canLoad;if(n===void 0||n.length===0)return ce(!0);let o=n.map(a=>{let l=wa(a,r),d=IE(l)?l.canLoad(t,e):Ri(r,()=>l(t,e));return sn(d)});return ce(o).pipe(ya(),Bb(i))}function Bb(r){return Ng(vt(t=>{if(typeof t!="boolean")throw eu(r,t)}),ve(t=>t===!0))}function jE(r,t,e,i){let n=t.canMatch;if(!n||n.length===0)return ce(!0);let o=n.map(a=>{let l=wa(a,r),d=DE(l)?l.canMatch(t,e):Ri(r,()=>l(t,e));return sn(d)});return ce(o).pipe(ya(),Bb(i))}var Ec=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Sc=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function ha(r){return gr(new Ec(r))}function HE(r){return gr(new Be(4e3,!1))}function zE(r){return gr(Nb(!1,Xt.GuardRejected))}var ip=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],n=e.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return ce(i);if(n.numberOfChildren>1||!n.children[Re])return HE(`${t.redirectTo}`);n=n.children[Re]}}applyRedirectCommands(t,e,i,n,o){if(typeof e!="string"){let l=e,{queryParams:d,fragment:b,routeConfig:s,url:E,outlet:w,params:v,data:_,title:c}=n,f=Ri(o,()=>l({params:v,data:_,queryParams:d,fragment:b,routeConfig:s,url:E,outlet:w,title:c}));if(f instanceof Yi)throw new Sc(f);e=f}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Sc(a);return a}applyRedirectCreateUrlTree(t,e,i,n){let o=this.createSegmentGroup(t,e.root,i,n);return new Yi(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[n]=e[l]}else i[n]=o}),i}createSegmentGroup(t,e,i,n){let o=this.createSegments(t,e.segments,i,n),a={};return Object.entries(e.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(t,d,i,n)}),new $e(o,a)}createSegments(t,e,i,n){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,n):this.findOrReturn(o,i))}findPosParam(t,e,i){let n=i[e.path.substring(1)];if(!n)throw new Be(4001,!1);return n}findOrReturn(t,e){let i=0;for(let n of e){if(n.path===t.path)return e.splice(i),n;i++}return t}},rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $E(r,t,e,i,n){let o=Ub(r,t,e);return o.matched?(i=mE(t,i),jE(i,t,e,n).pipe(ve(a=>a===!0?o:x({},rp)))):ce(o)}function Ub(r,t,e){if(t.path==="**")return GE(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?x({},rp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let n=(t.matcher||fb)(e,r,t);if(!n)return x({},rp);let o={};Object.entries(n.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=n.consumed.length>0?x(x({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:e.slice(n.consumed.length),parameters:a,positionalParamSegments:n.posParams??{}}}function GE(r){return{matched:!0,parameters:r.length>0?vb(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function hb(r,t,e,i){return e.length>0&&WE(r,e,i)?{segmentGroup:new $e(t,KE(i,new $e(e,r.children))),slicedSegments:[]}:e.length===0&&YE(r,e,i)?{segmentGroup:new $e(r.segments,qE(r,e,i,r.children)),slicedSegments:e}:{segmentGroup:new $e(r.segments,r.children),slicedSegments:e}}function qE(r,t,e,i){let n={};for(let o of e)if(nu(r,t,o)&&!i[Pi(o)]){let a=new $e([],{});n[Pi(o)]=a}return x(x({},i),n)}function KE(r,t){let e={};e[Re]=t;for(let i of r)if(i.path===""&&Pi(i)!==Re){let n=new $e([],{});e[Pi(i)]=n}return e}function WE(r,t,e){return e.some(i=>nu(r,t,i)&&Pi(i)!==Re)}function YE(r,t,e){return e.some(i=>nu(r,t,i))}function nu(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function QE(r,t,e){return t.length===0&&!r.children[e]}var np=class{};function JE(r,t,e,i,n,o,a="emptyOnly"){return new op(r,t,e,i,n,a,o).recognize()}var XE=31,op=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,n,o,a,l){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new ip(this.urlSerializer,this.urlTree)}noMatchError(t){return new Be(4002,`'${t.segmentGroup}'`)}recognize(){let t=hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ve(({children:e,rootSnapshot:i})=>{let n=new ui(i,e),o=new wc("",n),a=Ib(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let e=new qn([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Re,e).pipe(ve(i=>({children:i,rootSnapshot:e})),Kt(i=>{if(i instanceof Sc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ec?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,n,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,n,!0,o).pipe(ve(a=>a instanceof ui?[a]:[]))}processChildren(t,e,i,n){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return Je(o).pipe(zi(a=>{let l=i.children[a],d=pE(e,a);return this.processSegmentGroup(t,d,l,a,n)}),Hg((a,l)=>(a.push(...l),a)),cm(null),jg(),bi(a=>{if(a===null)return ha(i);let l=jb(a);return ZE(l),ce(l)}))}processSegment(t,e,i,n,o,a,l){return Je(e).pipe(zi(d=>this.processSegmentAgainstRoute(d._injector??t,e,d,i,n,o,a,l).pipe(Kt(b=>{if(b instanceof Ec)return ce(null);throw b}))),Qr(d=>!!d),Kt(d=>{if(Lb(d))return QE(i,n,o)?ce(new np):ha(i);throw d}))}processSegmentAgainstRoute(t,e,i,n,o,a,l,d){return Pi(i)!==a&&(a===Re||!nu(n,o,i))?ha(n):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,n,i,o,a,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,n,e,i,o,a,d):ha(n)}expandSegmentAgainstRouteUsingRedirect(t,e,i,n,o,a,l){let{matched:d,parameters:b,consumedSegments:s,positionalParamSegments:E,remainingSegments:w}=Ub(e,n,o);if(!d)return ha(e);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>XE&&(this.allowRedirects=!1));let v=new qn(o,b,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,mb(n),Pi(n),n.component??n._loadedComponent??null,n,pb(n)),_=Zd(v,l,this.paramsInheritanceStrategy);v.params=Object.freeze(_.params),v.data=Object.freeze(_.data);let c=this.applyRedirects.applyRedirectCommands(s,n.redirectTo,E,v,t);return this.applyRedirects.lineralizeSegments(n,c).pipe(bi(f=>this.processSegment(t,i,e,f.concat(w),a,!1,l)))}matchSegmentAgainstRoute(t,e,i,n,o,a){let l=$E(e,i,n,t,this.urlSerializer);return i.path==="**"&&(e.children={}),l.pipe(gt(d=>d.matched?(t=i._injector??t,this.getChildConfig(t,i,n).pipe(gt(({routes:b})=>{let s=i._loadedInjector??t,{parameters:E,consumedSegments:w,remainingSegments:v}=d,_=new qn(w,E,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,mb(i),Pi(i),i.component??i._loadedComponent??null,i,pb(i)),c=Zd(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(c.params),_.data=Object.freeze(c.data);let{segmentGroup:f,slicedSegments:C}=hb(e,w,v,b);if(C.length===0&&f.hasChildren())return this.processChildren(s,b,f,_).pipe(ve(h=>new ui(_,h)));if(b.length===0&&C.length===0)return ce(new ui(_,[]));let y=Pi(i)===o;return this.processSegment(s,b,f,C,y?Re:o,!0,_).pipe(ve(h=>new ui(_,h instanceof ui?[h]:[])))}))):ha(e)))}getChildConfig(t,e,i){return e.children?ce({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?ce({routes:e._loadedRoutes,injector:e._loadedInjector}):UE(t,e,i,this.urlSerializer).pipe(bi(n=>n?this.configLoader.loadChildren(t,e).pipe(vt(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):zE(e))):ce({routes:[],injector:t})}};function ZE(r){r.sort((t,e)=>t.value.outlet===Re?-1:e.value.outlet===Re?1:t.value.outlet.localeCompare(e.value.outlet))}function eS(r){let t=r.value.routeConfig;return t&&t.path===""}function jb(r){let t=[],e=new Set;for(let i of r){if(!eS(i)){t.push(i);continue}let n=t.find(o=>i.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...i.children),e.add(n)):t.push(i)}for(let i of e){let n=jb(i.children);t.push(new ui(i.value,n))}return t.filter(i=>!e.has(i))}function mb(r){return r.data||{}}function pb(r){return r.resolve||{}}function tS(r,t,e,i,n,o){return bi(a=>JE(r,t,e,i,a.extractedUrl,n,o).pipe(ve(({state:l,tree:d})=>oe(x({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function iS(r,t){return bi(e=>{let{targetSnapshot:i,guards:{canActivateChecks:n}}=e;if(!n.length)return ce(e);let o=new Set(n.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let b of Hb(d))a.add(b);let l=0;return Je(a).pipe(zi(d=>o.has(d)?rS(d,i,r,t):(d.data=Zd(d,d.parent,r).resolve,ce(void 0))),vt(()=>l++),dm(1),bi(d=>l===a.size?ce(e):Ti))})}function Hb(r){let t=r.children.map(e=>Hb(e)).flat();return[r,...t]}function rS(r,t,e,i){let n=r.routeConfig,o=r._resolve;return n?.title!==void 0&&!Pb(n)&&(o[Ac]=n.title),nS(o,r,t,i).pipe(ve(a=>(r._resolvedData=a,r.data=Zd(r,r.parent,e).resolve,null)))}function nS(r,t,e,i){let n=Km(r);if(n.length===0)return ce({});let o={};return Je(n).pipe(bi(a=>oS(r[a],t,e,i).pipe(Qr(),vt(l=>{if(l instanceof ba)throw eu(new Wn,l);o[a]=l}))),dm(1),ve(()=>o),Kt(a=>Lb(a)?Ti:gr(a)))}function oS(r,t,e,i){let n=Tc(t)??i,o=wa(r,n),a=o.resolve?o.resolve(t,e):Ri(n,()=>o(t,e));return sn(a)}function Gm(r){return gt(t=>{let e=r(t);return e?Je(e).pipe(ve(()=>t)):ce(t)})}var sp=(()=>{class r{buildTitle(e){let i,n=e.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(o=>o.outlet===Re);return i}getResolvedTitleForRoute(e){return e.data[Ac]}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(zb),providedIn:"root"})}return r})(),zb=(()=>{class r extends sp{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||r)(N(sb))};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Dc=new ae("",{providedIn:"root",factory:()=>({})}),cp=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=_e({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,n){i&1&&Ge(0,"router-outlet")},dependencies:[Rc],encapsulation:2})}return r})();function lp(r){let t=r.children&&r.children.map(lp),e=t?oe(x({},r),{children:t}):x({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Re&&(e.component=cp),e}var Mc=new ae(""),$b=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=ie(yv);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ce(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=sn(e.loadComponent()).pipe(ve(qb),vt(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),vr(()=>{this.componentLoaders.delete(e)})),n=new om(i,()=>new Me).pipe(nm());return this.componentLoaders.set(e,n),n}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ce({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Gb(i,this.compiler,e,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(i)})),a=new om(o,()=>new Me).pipe(nm());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Gb(r,t,e,i){return sn(r.loadChildren()).pipe(ve(qb),bi(n=>n instanceof dv||Array.isArray(n)?ce(n):Je(t.compileModuleAsync(n))),ve(n=>{i&&i(r);let o,a,l=!1;return Array.isArray(n)?(a=n,l=!0):(o=n.create(e).injector,a=o.get(Mc,[],{optional:!0,self:!0}).flat()),{routes:a.map(lp),injector:o}}))}function aS(r){return r&&typeof r=="object"&&"default"in r}function qb(r){return aS(r)?r.default:r}var ou=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(sS),providedIn:"root"})}return r})(),sS=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Kb=new ae("");var Wb=new ae(""),Yb=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Me;transitionAbortSubject=new Me;configLoader=ie($b);environmentInjector=ie(_r);destroyRef=ie(Kg);urlSerializer=ie(Ic);rootContexts=ie(_a);location=ie(Yt);inputBindingEnabled=ie(ru,{optional:!0})!==null;titleStrategy=ie(sp);options=ie(Dc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=ie(ou);createViewTransition=ie(Kb,{optional:!0});navigationErrorHandler=ie(Wb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ce(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=n=>this.events.next(new Gd(n)),i=n=>this.events.next(new qd(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(oe(x({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(e){return this.transitions=new kt(null),this.transitions.pipe(dt(i=>i!==null),gt(i=>{let n=!1,o=!1;return ce(i).pipe(gt(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Xt.SupersededByNewNavigation),Ti;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?oe(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let b="";return this.events.next(new Ir(a.id,this.urlSerializer.serialize(a.rawUrl),b,vc.IgnoredSameUrlNavigation)),a.resolve(!1),Ti}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ce(a).pipe(gt(b=>(this.events.next(new Yn(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),b.id!==this.navigationId?Ti:Promise.resolve(b))),tS(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(b=>{i.targetSnapshot=b.targetSnapshot,i.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=oe(x({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let s=new bc(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(s)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:b,extractedUrl:s,source:E,restoredState:w,extras:v}=a,_=new Yn(b,this.urlSerializer.serialize(s),E,w);this.events.next(_);let c=Mb(this.rootComponentType).snapshot;return this.currentTransition=i=oe(x({},a),{targetSnapshot:c,urlAfterRedirects:s,extras:oe(x({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=s,ce(i)}else{let b="";return this.events.next(new Ir(a.id,this.urlSerializer.serialize(a.extractedUrl),b,vc.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Ti}}),vt(a=>{let l=new jd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ve(a=>(this.currentTransition=i=oe(x({},a),{guards:wE(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),OE(this.environmentInjector,a=>this.events.next(a)),vt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw eu(this.urlSerializer,a.guardsResult);let l=new Hd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),dt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Xt.GuardRejected),!1)),Gm(a=>{if(a.guards.canActivateChecks.length!==0)return ce(a).pipe(vt(l=>{let d=new zd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),gt(l=>{let d=!1;return ce(l).pipe(iS(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),vt(l=>{let d=new $d(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Gm(a=>{let l=d=>{let b=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(d.routeConfig).pipe(vt(s=>{d.component=s}),ve(()=>{})));for(let s of d.children)b.push(...l(s));return b};return Hs(l(a.targetSnapshot.root)).pipe(cm(null),Ut(1))}),Gm(()=>this.afterPreactivation()),gt(()=>{let{currentSnapshot:a,targetSnapshot:l}=i,d=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return d?Je(d).pipe(ve(()=>i)):ce(i)}),ve(a=>{let l=gE(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=oe(x({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),vt(()=>{this.events.next(new yc)}),_E(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ut(1),vt({next:a=>{n=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zt(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{n=!0}}),ai(this.transitionAbortSubject.pipe(vt(a=>{throw a}))),vr(()=>{!n&&!o&&this.cancelNavigationTransition(i,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Kt(a=>{if(this.destroyed)return i.resolve(!1),Ti;if(o=!0,Vb(a))this.events.next(new Wi(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),yE(a)?this.events.next(new va(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let l=new ga(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let d=Ri(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof ba){let{message:b,cancellationCode:s}=eu(this.urlSerializer,d);this.events.next(new Wi(i.id,this.urlSerializer.serialize(i.extractedUrl),b,s)),this.events.next(new va(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Ti}))}))}cancelNavigationTransition(e,i,n){let o=new Wi(e.id,this.urlSerializer.serialize(e.extractedUrl),i,n);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function cS(r){return r!==Ld}var Qb=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(lS),providedIn:"root"})}return r})(),iu=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},lS=(()=>{class r extends iu{static \u0275fac=(()=>{let e;return function(n){return(e||(e=Jr(r)))(n||r)}})();static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Jb=(()=>{class r{urlSerializer=ie(Ic);options=ie(Dc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=ie(Yt);urlHandlingStrategy=ie(ou);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Yi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:n}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,a=n??o;return a instanceof Yi?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:n}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,n),this.routerState=e):this.rawUrlTree=n}routerState=Mb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:()=>ie(dS),providedIn:"root"})}return r})(),dS=(()=>{class r extends Jb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof Yn?this.updateStateMemento():e instanceof Ir?this.commitTransition(i):e instanceof bc?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof yc?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Wi&&(e.code===Xt.GuardRejected||e.code===Xt.NoDataFromResolver)?this.restoreHistory(i):e instanceof ga?this.restoreHistory(i,!0):e instanceof Zt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:n}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,d=x(x({},a),this.generateNgRouterState(n,l));this.location.replaceState(e,"",d)}else{let l=x(x({},a),this.generateNgRouterState(n,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(n){return(e||(e=Jr(r)))(n||r)}})();static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function dp(r,t){r.events.pipe(dt(e=>e instanceof Zt||e instanceof Wi||e instanceof ga||e instanceof Ir),ve(e=>e instanceof Zt||e instanceof Ir?0:(e instanceof Wi?e.code===Xt.Redirect||e.code===Xt.SupersededByNewNavigation:!1)?2:1),dt(e=>e!==2),Ut(1)).subscribe(()=>{t()})}var uS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pi=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=ie(fm);stateManager=ie(Jb);options=ie(Dc,{optional:!0})||{};pendingTasks=ie(Ws);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=ie(Yb);urlSerializer=ie(Ic);location=ie(Yt);urlHandlingStrategy=ie(ou);_events=new Me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=ie(Qb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=ie(Mc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!ie(ru,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ii;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Wi&&i.code!==Xt.Redirect&&i.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Zt)this.navigated=!0;else if(i instanceof va){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),d=x({browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cS(n.source)},a);this.scheduleNavigation(l,Ld,null,d,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}pS(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortSubject.next(n)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,n)=>{this.navigateToSyncWithBrowser(e,n,i)})}navigateToSyncWithBrowser(e,i,n){let o={replaceUrl:!0},a=n?.navigationId?n:null;if(n){let d=x({},n);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(e);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:n,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:d}=i,b=d?this.currentUrlTree.fragment:a,s=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":s=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":s=this.currentUrlTree.queryParams;break;default:s=o||null}s!==null&&(s=this.removeEmptyProps(s));let E;try{let w=n?n.snapshot:this.routerState.snapshot.root;E=Tb(w)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),E=this.currentUrlTree.root}return Rb(E,e,s,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){let n=an(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Ld,null,i)}navigate(e,i={skipLocationChange:!1}){return mS(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let n;if(i===!0?n=x({},uS):i===!1?n=x({},hS):n=i,an(e))return cb(this.currentUrlTree,e,n);let o=this.parseUrl(e);return cb(this.currentUrlTree,o,n)}removeEmptyProps(e){return Object.entries(e).reduce((i,[n,o])=>(o!=null&&(i[n]=o),i),{})}scheduleNavigation(e,i,n,o,a){if(this.disposed)return Promise.resolve(!1);let l,d,b;a?(l=a.resolve,d=a.reject,b=a.promise):b=new Promise((E,w)=>{l=E,d=w});let s=this.pendingTasks.add();return dp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(s))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:d,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(E=>Promise.reject(E))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function mS(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new Be(4008,!1)}function pS(r){return!(r instanceof yc)&&!(r instanceof va)}var Qi=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Me;constructor(e,i,n,o,a,l){this.router=e,this.route=i,this.tabIndexAttribute=n,this.renderer=o,this.el=a,this.locationStrategy=l;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=e.events.subscribe(b=>{b instanceof Zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(an(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,n,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||i||n||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:lv(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let n=this.renderer,o=this.el.nativeElement;i!==null?n.setAttribute(o,e,i):n.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:an(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||r)(Y(pi),Y(mi),Ks("tabindex"),Y(hm),Y(Ue),Y(rn))};static \u0275dir=Le({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,n){i&1&&yi("click",function(a){return n.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&tt("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Mt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Mt],replaceUrl:[2,"replaceUrl","replaceUrl",Mt],routerLink:"routerLink"},features:[ki]})}return r})();var gS=new ae("");function up(r,...t){return yr([{provide:Mc,multi:!0,useValue:r},[],{provide:mi,useFactory:vS,deps:[pi]},{provide:hv,multi:!0,useFactory:bS},t.map(e=>e.\u0275providers)])}function vS(r){return r.routerState.root}function bS(){let r=ie(Ct);return t=>{let e=r.get(na);if(t!==e.components[0])return;let i=r.get(pi),n=r.get(yS);r.get(_S)===1&&i.initialNavigation(),r.get(wS,null,um.Optional)?.setUpPreloading(),r.get(gS,null,um.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var yS=new ae("",{factory:()=>new Me}),_S=new ae("",{providedIn:"root",factory:()=>1});var wS=new ae("");var mp;try{mp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{mp=!1}var Qe=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Cm(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||mp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||r)(N(wr))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Pc;function CS(){if(Pc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pc=!0}))}finally{Pc=Pc||!1}return Pc}function Ca(r){return CS()?r:!!r.capture}var Qn;function Xb(){if(Qn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Qn=!1,Qn;if("scrollBehavior"in document.documentElement.style)Qn=!0;else{let r=Element.prototype.scrollTo;r?Qn=!/\{\s*\[native code\]\s*\}/.test(r.toString()):Qn=!1}}return Qn}var hp;function ES(){if(hp==null){let r=typeof document<"u"?document.head:null;hp=!!(r&&(r.createShadowRoot||r.attachShadow))}return hp}function Zb(r){if(ES()){let t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function wi(r){return r.composedPath?r.composedPath()[0]:r.target}function xc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Jn(r){return r!=null&&`${r}`!="false"}function Ji(r,t=0){return SS(r)?Number(r):arguments.length===2?t:0}function SS(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function Ea(r){return Array.isArray(r)?r:[r]}function _t(r){return r==null?"":typeof r=="string"?r:`${r}px`}function xi(r){return r instanceof Ue?r.nativeElement:r}function AS(r){if(r.type==="characterData"&&r.target instanceof Comment)return!0;if(r.type==="childList"){for(let t=0;t<r.addedNodes.length;t++)if(!(r.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<r.removedNodes.length;t++)if(!(r.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var ey=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),IS=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map,this._ngZone=ie(ye)}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=xi(e);return new fr(n=>{let a=this._observeElement(i).pipe(ve(l=>l.filter(d=>!AS(d))),dt(l=>!!l.length)).subscribe(l=>{this._ngZone.run(()=>{n.next(l)})});return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new Me,n=this._mutationObserverFactory.create(o=>i.next(o));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:n}=this._observedElements.get(e);i&&i.disconnect(),n.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||r)(N(ey))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ty=(()=>{class r{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ji(e),this._subscribe()}constructor(e,i){this._contentObserver=e,this._elementRef=i,this.event=new xt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(zs(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||r)(Y(IS),Y(Ue))}}static{this.\u0275dir=Le({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Mt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}}return r})(),iy=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({providers:[ey]})}}return r})();var ry=new Set,Xn,TS=(()=>{class r{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kS}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&RS(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||r)(N(Qe),N(Ys,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function RS(r,t){if(!ry.has(r))try{Xn||(Xn=document.createElement("style"),t&&Xn.setAttribute("nonce",t),Xn.setAttribute("type","text/css"),document.head.appendChild(Xn)),Xn.sheet&&(Xn.sheet.insertRule(`@media ${r} {body{ }}`,0),ry.add(r))}catch(e){console.error(e)}}function kS(r){return{matches:r==="all"||r==="",media:r,addListener:()=>{},removeListener:()=>{}}}var Sa=(()=>{class r{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ny(Ea(e)).some(n=>this._registerQuery(n).mql.matches)}observe(e){let n=ny(Ea(e)).map(a=>this._registerQuery(a).observable),o=Hs(n);return o=sd(o.pipe(Ut(1)),o.pipe(ld(1),zs(0))),o.pipe(ve(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:b})=>{l.matches=l.matches||d,l.breakpoints[b]=d}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new fr(a=>{let l=d=>this._zone.run(()=>a.next(d));return i.addListener(l),()=>{i.removeListener(l)}}).pipe($s(i),ve(({matches:a})=>({query:e,matches:a})),ai(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||r)(N(TS),N(ye))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function ny(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Fc={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function fp(r){return r.buttons===0||r.detail===0}function gp(r){let t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var MS=new ae("cdk-input-modality-detector-options"),OS={ignoreKeys:[18,17,224,91,16]},cy=650,Aa=Ca({passive:!0,capture:!0}),PS=(()=>{class r{get mostRecentModality(){return this._modality.value}constructor(e,i,n,o){this._platform=e,this._mostRecentTarget=null,this._modality=new kt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wi(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<cy||(this._modality.next(fp(a)?"keyboard":"mouse"),this._mostRecentTarget=wi(a))},this._onTouchstart=a=>{if(gp(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wi(a)},this._options=x(x({},OS),o),this.modalityDetected=this._modality.pipe(ld(1)),this.modalityChanged=this.modalityDetected.pipe(lm()),e.isBrowser&&i.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Aa),n.addEventListener("mousedown",this._onMousedown,Aa),n.addEventListener("touchstart",this._onTouchstart,Aa)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Aa),document.removeEventListener("mousedown",this._onMousedown,Aa),document.removeEventListener("touchstart",this._onTouchstart,Aa))}static{this.\u0275fac=function(i){return new(i||r)(N(Qe),N(ye),N(he),N(MS,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),xS=new ae("liveAnnouncerElement",{providedIn:"root",factory:FS});function FS(){return null}var NS=new ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),VS=0,ly=(()=>{class r{constructor(e,i,n,o){this._ngZone=i,this._defaultOptions=o,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...i){let n=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=n&&n.politeness?n.politeness:"polite"),a==null&&n&&(a=n.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),n.id=`cdk-live-announcer-${VS++}`,this._document.body.appendChild(n),n}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){let o=i[n],a=o.getAttribute("aria-owns");a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||r)(N(xS,8),N(ye),N(he),N(NS,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var su=function(r){return r[r.IMMEDIATE=0]="IMMEDIATE",r[r.EVENTUAL=1]="EVENTUAL",r}(su||{}),LS=new ae("cdk-focus-monitor-default-options"),au=Ca({passive:!0,capture:!0}),dy=(()=>{class r{constructor(e,i,n,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=l=>{let d=wi(l);for(let b=d;b;b=b.parentElement)l.type==="focus"?this._onFocus(l,b):this._onBlur(l,b)},this._document=o,this._detectionMode=a?.detectionMode||su.IMMEDIATE}monitor(e,i=!1){let n=xi(e);if(!this._platform.isBrowser||n.nodeType!==1)return ce();let o=Zb(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return i&&(a.checkChildren=!0),a.subject;let l={checkChildren:i,subject:new Me,rootNode:o};return this._elementInfo.set(n,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let i=xi(e),n=this._elementInfo.get(i);n&&(n.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(n))}focusVia(e,i,n){let o=xi(e),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([l,d])=>this._originChanged(l,i,d)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===su.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===su.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?cy:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(e,i){let n=this._elementInfo.get(i),o=wi(e);!n||!n.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),n)}_onBlur(e,i){let n=this._elementInfo.get(i);!n||n.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(n,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,n=this._rootNodeFocusListenerCount.get(i)||0;n||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,au),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,au)}),this._rootNodeFocusListenerCount.set(i,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ai(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let n=this._rootNodeFocusListenerCount.get(i);n>1?this._rootNodeFocusListenerCount.set(i,n-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,au),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,au),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,n){this._setClasses(e,i),this._emitOrigin(n,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((n,o)=>{(o===e||n.checkChildren&&o.contains(e))&&i.push([o,n])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||r)(N(ye),N(Qe),N(PS),N(he,8),N(LS,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Zn=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(Zn||{}),ay="cdk-high-contrast-black-on-white",sy="cdk-high-contrast-white-on-black",pp="cdk-high-contrast-active",uy=(()=>{class r{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=ie(Sa).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zn.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,n=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(n&&n.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zn.BLACK_ON_WHITE}return Zn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(pp,ay,sy),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Zn.BLACK_ON_WHITE?e.add(pp,ay):i===Zn.WHITE_ON_BLACK&&e.add(pp,sy)}}static{this.\u0275fac=function(i){return new(i||r)(N(Qe),N(he))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var BS=new ae("cdk-dir-doc",{providedIn:"root",factory:US});function US(){return ie(he)}var jS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function HS(r){let t=r?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?jS.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var cu=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new xt,e){let i=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=HS(i||n||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||r)(N(BS,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var ln=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({})}}return r})();function zS(){return!0}var $S=new ae("mat-sanity-checks",{providedIn:"root",factory:zS}),ze=(()=>{class r{constructor(e,i,n){this._sanityChecks=i,this._document=n,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return xc()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||r)(N(uy),N($S,8),N(he))}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ln,ln]})}}return r})();var wp=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,ze]})}}return r})(),Ci=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(Ci||{}),yp=class{constructor(t,e,i,n=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=n,this.state=Ci.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},py=Ca({passive:!0,capture:!0}),_p=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=wi(t);e&&this._events.get(t.type)?.forEach((i,n)=>{(n===e||n.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,n){let o=this._events.get(e);if(o){let a=o.get(i);a?a.add(n):o.set(i,new Set([n]))}else this._events.set(e,new Map([[i,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,py)})}removeHandler(t,e,i){let n=this._events.get(t);if(!n)return;let o=n.get(e);o&&(o.delete(i),o.size===0&&n.delete(e),n.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,py)))}},fy={enterDuration:225,exitDuration:150},GS=800,gy=Ca({passive:!0,capture:!0}),vy=["mousedown","touchstart"],by=["mouseup","mouseleave","touchend","touchcancel"],Nc=class r{static{this._eventManager=new _p}constructor(t,e,i,n){this._target=t,this._ngZone=e,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=xi(i))}fadeInRipple(t,e,i={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=x(x({},fy),i.animation);i.centered&&(t=n.left+n.width/2,e=n.top+n.height/2);let a=i.radius||qS(t,e,n),l=t-n.left,d=e-n.top,b=o.enterDuration,s=document.createElement("div");s.classList.add("mat-ripple-element"),s.style.left=`${l-a}px`,s.style.top=`${d-a}px`,s.style.height=`${a*2}px`,s.style.width=`${a*2}px`,i.color!=null&&(s.style.backgroundColor=i.color),s.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(s);let E=window.getComputedStyle(s),w=E.transitionProperty,v=E.transitionDuration,_=w==="none"||v==="0s"||v==="0s, 0s"||n.width===0&&n.height===0,c=new yp(this,s,i,_);s.style.transform="scale3d(1, 1, 1)",c.state=Ci.FADING_IN,i.persistent||(this._mostRecentTransientRipple=c);let f=null;return!_&&(b||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let C=()=>{f&&(f.fallbackTimer=null),clearTimeout(h),this._finishRippleTransition(c)},y=()=>this._destroyRipple(c),h=setTimeout(y,b+100);s.addEventListener("transitionend",C),s.addEventListener("transitioncancel",y),f={onTransitionEnd:C,onTransitionCancel:y,fallbackTimer:h}}),this._activeRipples.set(c,f),(_||!b)&&this._finishRippleTransition(c),c}fadeOutRipple(t){if(t.state===Ci.FADING_OUT||t.state===Ci.HIDDEN)return;let e=t.element,i=x(x({},fy),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Ci.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=xi(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,vy.forEach(i=>{r._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{by.forEach(e=>{this._triggerElement.addEventListener(e,this,gy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ci.FADING_IN?this._startFadeOutTransition(t):t.state===Ci.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Ci.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ci.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=fp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+GS;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!gp(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ci.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ci.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(vy.forEach(e=>r._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(by.forEach(e=>t.removeEventListener(e,this,gy)),this._pointerUpEventsRegistered=!1))}};function qS(r,t,e){let i=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),n=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+n*n)}var Vc=new ae("mat-ripple-global-options"),Cy=(()=>{class r{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,n,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Nc(this,i,e,n)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:x(x(x({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,n){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,x(x({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,x(x({},this.rippleConfig),e))}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(ye),Y(Qe),Y(Vc,8),Y(Ft,8))}}static{this.\u0275dir=Le({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,n){i&2&&Ye("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return r})(),Ia=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,ze]})}}return r})();var Ey=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze]})}}return r})();var yy={capture:!0},_y=["focus","mousedown","mouseenter","touchstart"],vp="mat-ripple-loader-uninitialized",bp="mat-ripple-loader-class-name",wy="mat-ripple-loader-centered",lu="mat-ripple-loader-disabled",Sy=(()=>{class r{constructor(){this._document=ie(he,{optional:!0}),this._animationMode=ie(Ft,{optional:!0}),this._globalRippleOptions=ie(Vc,{optional:!0}),this._platform=ie(Qe),this._ngZone=ie(ye),this._hosts=new Map,this._onInteraction=e=>{let i=wi(e);if(i instanceof HTMLElement){let n=i.closest(`[${vp}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}},this._ngZone.runOutsideAngular(()=>{for(let e of _y)this._document?.addEventListener(e,this._onInteraction,yy)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of _y)this._document?.removeEventListener(i,this._onInteraction,yy)}configureRipple(e,i){e.setAttribute(vp,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(bp))&&e.setAttribute(bp,i.className||""),i.centered&&e.setAttribute(wy,""),i.disabled&&e.setAttribute(lu,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){let n=this._hosts.get(e);if(n){n.disabled=i;return}i?e.setAttribute(lu,""):e.removeAttribute(lu)}_createRipple(e){if(!this._document)return;let i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(bp)),e.append(n);let o=new Cy(new Ue(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(wy),o.disabled=e.hasAttribute(lu),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(vp),this._hosts.set(e,i)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Ay=["*"];var KS=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",Cp=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){let e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Ep(this.rowIndex,e)}_findMatchingGap(t){t>this.tracker.length;let e=-1,i=-1;do{if(this.columnIndex+t>this.tracker.length){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}if(e=this.tracker.indexOf(0,this.columnIndex),e==-1){this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e);continue}i=this._findGapEndIndex(e),this.columnIndex=e+1}while(i-e<t||i==0);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(this.tracker[e]!=0)return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}},Ep=class{constructor(t,e){this.row=t,this.col=e}},Iy=new ae("MAT_GRID_LIST"),Tp=(()=>{class r{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Ji(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Ji(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(Iy,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,n){i&2&&tt("rowspan",n.rowspan)("colspan",n.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:Ay,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,n){i&1&&(Dt(),de(0,"div",0),We(1),ue())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size, var(--mat-app-body-large))}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size, var(--mat-app-body-medium))}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return r})();var WS=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Lc=class{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,n){this._gutterSize=Ty(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=n}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return e===0?"0":eo(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let n=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,n,o),this.setRowStyles(t,e,n,o)}setColStyles(t,e,i,n){let o=this.getBaseTileSize(i,n),a=this._direction==="rtl"?"right":"left";t._setStyle(a,this.getTilePosition(o,e)),t._setStyle("width",eo(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}},Sp=class extends Lc{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,n){super.init(t,e,i,n),this.fixedRowHeight=Ty(this.fixedRowHeight),WS.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",eo(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",eo(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}},Ap=class extends Lc{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,n){let o=i/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(o,n),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",eo(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",eo(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){let e=t.split(":");e.length,this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}},Ip=class extends Lc{setRowStyles(t,e){let i=100/this._rowspan,n=(this._rows-1)/this._rows,o=this.getBaseTileSize(i,n);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",eo(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}};function eo(r){return`calc(${r})`}function Ty(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}var YS="fit",Ry=(()=>{class r{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Ji(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){let i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),e===YS?this._tileStyler=new Ip:e&&e.indexOf(":")>-1?this._tileStyler=new Ap(e):this._tileStyler=new Sp(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Cp);let e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,n),i.forEach((o,a)=>{let l=e.positions[a];this._tileStyler.setStyle(o,l.row,l.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(cu,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-grid-list"]],contentQueries:function(i,n,o){if(i&1&&Mi(o,Tp,5),i&2){let a;ut(a=ht())&&(n._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,n){i&2&&tt("cols",n.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Cr([{provide:Iy,useExisting:r}])],ngContentSelectors:Ay,decls:2,vars:0,template:function(i,n){i&1&&(Dt(),de(0,"div"),We(1),ue())},styles:[KS],encapsulation:2,changeDetection:0})}}return r})(),du=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[wp,ze,wp,ze]})}}return r})();var uu=class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=_e({type:r,selectors:[["login-failed"]],decls:15,vars:0,consts:[["cols","5"],["colspan","1",1,"label"],["colspan","4"],["src","img/allow-popups-edge.jpg"],["src","img/allow-popups-chrome.jpg"]],template:function(e,i){e&1&&(de(0,"p"),Oe(1,"An error occurred while logging in. Please make sure pop-ups are allowed."),ue(),de(2,"p"),Oe(3,"To the right of the address bar choose the icon for the blocked pop-ups and select 'Always allow pop-ups and redirects'"),ue(),de(4,"p"),Oe(5,"Examples in Edge and Chrome:"),ue(),de(6,"mat-grid-list",0)(7,"mat-grid-tile",1),Oe(8,"Edge"),ue(),de(9,"mat-grid-tile",2),Ge(10,"img",3),ue(),de(11,"mat-grid-tile",1),Oe(12,"Chrome"),ue(),de(13,"mat-grid-tile",2),Ge(14,"img",4),ue()())},dependencies:[rt,du,Ry,Tp],styles:["mat-grid-list[_ngcontent-%COMP%]{width:780px}mat-grid-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;width:400px;object-fit:scale-down}"]})}};var JS=["*"];var XS=new ae("MAT_CARD_CONFIG"),ky=(()=>{class r{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||r)(Y(XS,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,n){i&2&&Ye("mat-mdc-card-outlined",n.appearance==="outlined")("mdc-card--outlined",n.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:JS,decls:1,vars:0,template:function(i,n){i&1&&(Dt(),We(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return r})();var Dy=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}}return r})();var My=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,rt,ze]})}}return r})();var eA=["*"],hu;function tA(){if(hu===void 0&&(hu=null,typeof window<"u")){let r=window;r.trustedTypes!==void 0&&(hu=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return hu}function Bc(r){return tA()?.createHTML(r)||r}function Oy(r){return Error(`Unable to find icon with the name "${r}"`)}function iA(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Py(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function xy(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}var Tr=class{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},rA=(()=>{class r{constructor(e,i,n,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=n}addSvgIcon(e,i,n){return this.addSvgIconInNamespace("",e,i,n)}addSvgIconLiteral(e,i,n){return this.addSvgIconLiteralInNamespace("",e,i,n)}addSvgIconInNamespace(e,i,n,o){return this._addSvgIconConfig(e,i,new Tr(n,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,n,o){let a=this._sanitizer.sanitize(si.HTML,n);if(!a)throw xy(n);let l=Bc(a);return this._addSvgIconConfig(e,i,new Tr("",l,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,n){return this._addSvgIconSetConfig(e,new Tr(i,null,n))}addSvgIconSetLiteralInNamespace(e,i,n){let o=this._sanitizer.sanitize(si.HTML,i);if(!o)throw xy(i);let a=Bc(o);return this._addSvgIconSetConfig(e,new Tr("",a,n))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(si.RESOURCE_URL,e);if(!i)throw Py(e);let n=this._cachedIconsByUrl.get(i);return n?ce(mu(n)):this._loadSvgIconFromConfig(new Tr(e,null)).pipe(vt(o=>this._cachedIconsByUrl.set(i,o)),ve(o=>mu(o)))}getNamedSvgIcon(e,i=""){let n=Fy(i,e),o=this._svgIconConfigs.get(n);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(n,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):gr(Oy(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ce(mu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ve(i=>mu(i)))}_getSvgFromIconSetConfigs(e,i){let n=this._extractIconWithNameFromAnySet(e,i);if(n)return ce(n);let o=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Kt(l=>{let b=`Loading icon set URL: ${this._sanitizer.sanitize(si.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(b)),ce(null)})));return Bg(o).pipe(ve(()=>{let a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw Oy(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let n=i.length-1;n>=0;n--){let o=i[n];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(a,e,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(vt(i=>e.svgText=i),ve(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ce(null):this._fetchIcon(e).pipe(vt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,n){let o=e.querySelector(`[id="${i}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,n);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),n);let l=this._svgElementFromString(Bc("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,n)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let n=i.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){let i=this._svgElementFromString(Bc("<svg></svg>")),n=e.attributes;for(let o=0;o<n.length;o++){let{name:a,value:l}=n[o];a!=="id"&&i.setAttribute(a,l)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:n}=e,o=n?.withCredentials??!1;if(!this._httpClient)throw iA();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let a=this._sanitizer.sanitize(si.RESOURCE_URL,i);if(!a)throw Py(i);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ve(b=>Bc(b)),vr(()=>this._inProgressUrlFetches.delete(a)),zg());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(e,i,n){return this._svgIconConfigs.set(Fy(e,i),n),this}_addSvgIconSetConfig(e,i){let n=this._iconSetConfigs.get(e);return n?n.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let n=0;n<this._resolvers.length;n++){let o=this._resolvers[n](i,e);if(o)return nA(o)?new Tr(o.url,null,o.options):new Tr(o,null)}}static{this.\u0275fac=function(i){return new(i||r)(N(Jt,8),N(uc),N(he,8),N(Bn))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function mu(r){return r.cloneNode(!0)}function Fy(r,t){return r+":"+t}function nA(r){return!!(r.url&&r.options)}var oA=new ae("MAT_ICON_DEFAULT_OPTIONS"),aA=new ae("mat-icon-location",{providedIn:"root",factory:sA});function sA(){let r=ie(he),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Ny=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cA=Ny.map(r=>`[${r}]`).join(", "),lA=/^url\(['"]?#(.*?)['"]?\)$/,Vy=(()=>{class r{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,n,o,a,l){this._elementRef=e,this._iconRegistry=i,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ii.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),n||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let n=e.childNodes[i];(n.nodeType!==1||n.nodeName.toLowerCase()==="svg")&&n.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(n=>n.length>0);this._previousFontSetClass.forEach(n=>e.classList.remove(n)),i.forEach(n=>e.classList.add(n)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((n,o)=>{n.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(cA),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Ny.forEach(a=>{let l=i[o],d=l.getAttribute(a),b=d?d.match(lA):null;if(b){let s=n.get(l);s||(s=[],n.set(l,s)),s.push({name:a,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,n]=this._splitIconName(e);i&&(this._svgNamespace=i),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,i).pipe(Ut(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${i}:${n}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(rA),Ks("aria-hidden"),Y(aA),Y(Bn),Y(oA,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,n){i&2&&(tt("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet)("fontIcon",n._usingFontIcon()?n.fontIcon:null),ci(n.color?"mat-"+n.color:""),Ye("mat-icon-inline",n.inline)("mat-icon-no-color",n.color!=="primary"&&n.color!=="accent"&&n.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Mt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:eA,decls:1,vars:0,template:function(i,n){i&1&&(Dt(),We(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return r})(),pu=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,ze]})}}return r})();var Ly=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,ze]})}}return r})();var hA=["*"],mA='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}',pA=["unscopedContent"],fA=["text"],gA=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],vA=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var bA=new ae("ListOption"),yA=(()=>{class r{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue))}}static{this.\u0275dir=Le({type:r,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}}return r})(),_A=(()=>{class r{constructor(e){this._elementRef=e}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue))}}static{this.\u0275dir=Le({type:r,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}}return r})(),wA=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}}return r})(),By=(()=>{class r{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(i){return new(i||r)(Y(bA,8))}}static{this.\u0275dir=Le({type:r,hostVars:4,hostBindings:function(i,n){i&2&&Ye("mdc-list-item__start",n._isAlignedAtStart())("mdc-list-item__end",!n._isAlignedAtStart())}})}}return r})(),CA=(()=>{class r extends By{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jr(r)))(n||r)}})()}static{this.\u0275dir=Le({type:r,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Nt]})}}return r})(),EA=(()=>{class r extends By{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jr(r)))(n||r)}})()}static{this.\u0275dir=Le({type:r,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Nt]})}}return r})(),SA=new ae("MAT_LIST_CONFIG"),fu=(()=>{class r{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=ie(SA,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Jn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Jn(e)}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,hostVars:1,hostBindings:function(i,n){i&2&&tt("aria-disabled",n.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}}return r})(),AA=(()=>{class r{set lines(e){this._explicitLines=Ji(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Jn(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Jn(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,n,o,a,l){this._elementRef=e,this._ngZone=i,this._listBase=n,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ii,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=l==="NoopAnimations",n&&!n._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Nc(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(cd(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let i=this._explicitLines??this._inferLinesFromContent(),n=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",i===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",i===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&i===1;n.classList.toggle("mdc-list-item__primary-text",o),n.classList.toggle("mdc-list-item__secondary-text",!o)}else n.classList.remove("mdc-list-item__primary-text"),n.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(ye),Y(fu,8),Y(Qe),Y(Vc,8),Y(Ft,8))}}static{this.\u0275dir=Le({type:r,contentQueries:function(i,n,o){if(i&1&&(Mi(o,CA,4),Mi(o,EA,4)),i&2){let a;ut(a=ht())&&(n._avatars=a),ut(a=ht())&&(n._icons=a)}},hostVars:4,hostBindings:function(i,n){i&2&&(tt("aria-disabled",n.disabled)("disabled",n._isButtonElement&&n.disabled||null),Ye("mdc-list-item--disabled",n.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}}return r})();var gu=(()=>{class r extends fu{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=Jr(r)))(n||r)}})()}static{this.\u0275cmp=_e({type:r,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],features:[Cr([{provide:fu,useExisting:r}]),Nt],ngContentSelectors:hA,decls:1,vars:0,template:function(i,n){i&1&&(Dt(),We(0))},styles:[mA],encapsulation:2,changeDetection:0})}}return r})(),vu=(()=>{class r extends AA{get activated(){return this._activated}set activated(e){this._activated=Jn(e)}constructor(e,i,n,o,a,l){super(e,i,n,o,a,l),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(ye),Y(fu,8),Y(Qe),Y(Vc,8),Y(Ft,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,n,o){if(i&1&&(Mi(o,_A,5),Mi(o,yA,5),Mi(o,wA,5)),i&2){let a;ut(a=ht())&&(n._lines=a),ut(a=ht())&&(n._titles=a),ut(a=ht())&&(n._meta=a)}},viewQuery:function(i,n){if(i&1&&(li(pA,5),li(fA,5)),i&2){let o;ut(o=ht())&&(n._unscopedContent=o.first),ut(o=ht())&&(n._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,n){i&2&&(tt("aria-current",n._getAriaCurrent()),Ye("mdc-list-item--activated",n.activated)("mdc-list-item--with-leading-avatar",n._avatars.length!==0)("mdc-list-item--with-leading-icon",n._icons.length!==0)("mdc-list-item--with-trailing-meta",n._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",n._hasBothLeadingAndTrailing())("_mat-animation-noopable",n._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Nt],ngContentSelectors:vA,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,n){if(i&1){let o=Zs();Dt(gA),We(0),de(1,"span",1),We(2,1),We(3,2),de(4,"span",2,0),yi("cdkObserveContent",function(){return Gs(o),qs(n._updateItemLines(!0))}),We(6,3),ue()(),We(7,4),We(8,5),Ge(9,"div",3)}},dependencies:[ty],encapsulation:2,changeDetection:0})}}return r})();var Xi=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[iy,rt,ze,Ia,Ey,Ly]})}}return r})();var mt={production:!0,msalConfig:{auth:{clientId:"ff50e6fb-1299-44ef-84d2-0b46429d33b9",authority:"https://login.microsoftonline.com/3d461195-f3e9-4dd6-b2e8-ea8457c20fc8"},scopes:["ff50e6fb-1299-44ef-84d2-0b46429d33b9/.default"]},apiConfig:{scopes:["user.read","openid","email","profile"],uri:"https://graph.microsoft.com/v1.0/me"},backendConfig:{scopes:["api://ff50e6fb-1299-44ef-84d2-0b46429d33b9/DevOcean.ReadWrite"],uri:"https://localhost:7108"},powerBIConfig:{scopes:["https://analysis.windows.net/powerbi/api/.default"],uri:"https://api.powerbi.com"},groups:{admin:"ee4fc09d-ae1f-4e87-9036-8a6efd95c71b",user:"76206681-b03d-4b4c-8d53-dcb799badcdb"}};var Hy=["mat-button",""],Rp=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],kp=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],IA='.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',TA=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",RA=["mat-fab",""];var kA='.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}';var DA=new ae("MAT_BUTTON_CONFIG");var MA=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],zy=(()=>{class r{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,n,o){this._elementRef=e,this._platform=i,this._ngZone=n,this._animationMode=o,this._focusMonitor=ie(dy),this._rippleLoader=ie(Sy),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=ie(DA,{optional:!0}),l=e.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this.color=a?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:b,mdcClasses:s}of MA)l.hasAttribute(b)&&d.add(...s)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){ra()}}static{this.\u0275dir=Le({type:r,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Mt],disabled:[2,"disabled","disabled",Mt],ariaDisabled:[2,"aria-disabled","ariaDisabled",Mt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Mt]},standalone:!1})}}return r})();var OA=(()=>{class r extends zy{constructor(e,i,n,o){super(e,i,n,o),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled||null}static{this.\u0275fac=function(i){ra()}}static{this.\u0275dir=Le({type:r,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>e==null?void 0:Ev(e)]},standalone:!1,features:[Nt]})}}return r})(),$y=(()=>{class r extends zy{constructor(e,i,n,o){super(e,i,n,o)}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(Qe),Y(ye),Y(Ft,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,n){i&2&&(tt("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),ci(n.color?"mat-"+n.color:""),Ye("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Nt],attrs:Hy,ngContentSelectors:kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(Dt(Rp),Ge(0,"span",0),We(1),de(2,"span",1),We(3,1),ue(),We(4,2),Ge(5,"span",2)(6,"span",3)),i&2&&Ye("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return r})(),PA=(()=>{class r extends OA{constructor(e,i,n,o){super(e,i,n,o)}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(Qe),Y(ye),Y(Ft,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,n){i&2&&(tt("disabled",n._getDisabledAttribute())("tabindex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("aria-disabled",n._getAriaDisabled()),ci(n.color?"mat-"+n.color:""),Ye("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[Nt],attrs:Hy,ngContentSelectors:kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(Dt(Rp),Ge(0,"span",0),We(1),de(2,"span",1),We(3,1),ue(),We(4,2),Ge(5,"span",2)(6,"span",3)),i&2&&Ye("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[IA,TA],encapsulation:2,changeDetection:0})}}return r})(),xA=new ae("mat-mdc-fab-default-options",{providedIn:"root",factory:Gy});function Gy(){return{color:"accent"}}var jy=Gy();var qy=(()=>{class r extends PA{constructor(e,i,n,o,a){super(e,i,n,o),this._options=a,this._isFab=!0,this._options=this._options||jy,this.color=this._options.color||jy.color}static{this.\u0275fac=function(i){return new(i||r)(Y(Ue),Y(Qe),Y(ye),Y(Ft,8),Y(xA,8))}}static{this.\u0275cmp=_e({type:r,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(i,n){i&2&&(tt("disabled",n._getDisabledAttribute())("tabindex",n.disabled&&!n.disabledInteractive?-1:n.tabIndex)("aria-disabled",n._getAriaDisabled()),ci(n.color?"mat-"+n.color:""),Ye("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0)("mdc-fab--extended",n.extended)("mat-mdc-extended-fab",n.extended))},inputs:{extended:[2,"extended","extended",Mt]},exportAs:["matButton","matAnchor"],features:[Nt],attrs:RA,ngContentSelectors:kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,n){i&1&&(Dt(Rp),Ge(0,"span",0),We(1),de(2,"span",1),We(3,1),ue(),We(4,2),Ge(5,"span",2)(6,"span",3)),i&2&&Ye("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:[kA],encapsulation:2,changeDetection:0})}}return r})();var un=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,Ia,ze]})}}return r})();var hh={};oi(hh,{blockAPICallsBeforeInitialize:()=>dh,blockAcquireTokenInPopups:()=>V_,blockNonBrowserEnvironment:()=>lh,blockRedirectInIframe:()=>N_,blockReloadInHiddenIframes:()=>F_,clearHash:()=>og,createGuid:()=>cg,getCurrentUri:()=>$t,getHomepage:()=>sg,invoke:()=>St,invokeAsync:()=>B,isInIframe:()=>zl,isInPopup:()=>x_,preconnect:()=>Gl,preflightCheck:()=>$l,redirectPreflightCheck:()=>uh,replaceHash:()=>ag});var U={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ta={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Fi=[U.OPENID_SCOPE,U.PROFILE_SCOPE,U.OFFLINE_ACCESS_SCOPE],Dp=[...Fi,U.EMAIL_SCOPE],wt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},bu={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Ni={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Ra={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},it={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},yu={PLAIN:"plain",S256:"S256"},_u={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Zi={QUERY:"query",FRAGMENT:"fragment"},Mp={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},Uc={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},ka={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},pt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Ce={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"};var jc="appmetadata",Ky="client_info",hn="1",Da={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},jt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},It={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Fe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Rr={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},wu={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Cu={username:"username",password:"password"},Hc={httpSuccess:200,httpBadRequest:400},to={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Eu={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},er={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},Su={Jwt:"JWT",Jwk:"JWK",Pop:"pop"};var Op=300;var io={};oi(io,{postRequestFailed:()=>$c,unexpectedError:()=>zc});var zc="unexpected_error",$c="post_request_failed";var Au={[zc]:"Unexpected error in authentication.",[$c]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."},Wy={unexpectedError:{code:zc,desc:Au[zc]},postRequestFailed:{code:$c,desc:Au[$c]}},Ae=class r extends Error{constructor(t,e,i){let n=e?`${t}: ${e}`:t;super(n),Object.setPrototypeOf(this,r.prototype),this.errorCode=t||U.EMPTY_STRING,this.errorMessage=e||U.EMPTY_STRING,this.subError=i||U.EMPTY_STRING,this.name="AuthError"}setCorrelationId(t){this.correlationId=t}};function Gc(r,t){return new Ae(r,t?`${Au[r]} ${t}`:Au[r])}var Et={};oi(Et,{authTimeNotFound:()=>kr,authorizationCodeMissingFromServerResponse:()=>bo,bindingKeyNotRemoved:()=>yo,cannotAppendScopeSet:()=>fo,cannotRemoveEmptyScope:()=>po,clientInfoDecodingError:()=>mn,clientInfoEmptyError:()=>ro,deviceCodeExpired:()=>Yc,deviceCodePollingCancelled:()=>Wc,deviceCodeUnknownError:()=>Qc,emptyInputScopeSet:()=>gn,endSessionEndpointNotSupported:()=>_o,endpointResolutionError:()=>Ht,hashNotDeserialized:()=>so,invalidAssertion:()=>Zc,invalidCacheEnvironment:()=>Mr,invalidCacheRecord:()=>go,invalidClientCredential:()=>el,invalidState:()=>Vi,keyIdMissing:()=>wo,maxAgeTranspired:()=>uo,methodNotImplemented:()=>ke,missingTenantIdError:()=>nl,multipleMatchingAccounts:()=>Kc,multipleMatchingAppMetadata:()=>ho,multipleMatchingTokens:()=>qc,nestedAppAuthBridgeDisabled:()=>ol,networkError:()=>oo,noAccountFound:()=>Jc,noAccountInSilentRequest:()=>Dr,noCryptoObject:()=>vn,noNetworkConnectivity:()=>il,nonceMismatch:()=>lo,nullOrEmptyToken:()=>no,openIdConfigError:()=>ao,requestCannotBeMade:()=>mo,stateMismatch:()=>co,stateNotFound:()=>fn,tokenClaimsCnfRequiredForSignedJwt:()=>vo,tokenParsingError:()=>pn,tokenRefreshRequired:()=>Or,unexpectedCredentialType:()=>Xc,userCanceled:()=>rl,userTimeoutReached:()=>tl});var mn="client_info_decoding_error",ro="client_info_empty_error",pn="token_parsing_error",no="null_or_empty_token",Ht="endpoints_resolution_error",oo="network_error",ao="openid_config_error",so="hash_not_deserialized",Vi="invalid_state",co="state_mismatch",fn="state_not_found",lo="nonce_mismatch",kr="auth_time_not_found",uo="max_age_transpired",qc="multiple_matching_tokens",Kc="multiple_matching_accounts",ho="multiple_matching_appMetadata",mo="request_cannot_be_made",po="cannot_remove_empty_scope",fo="cannot_append_scopeset",gn="empty_input_scopeset",Wc="device_code_polling_cancelled",Yc="device_code_expired",Qc="device_code_unknown_error",Dr="no_account_in_silent_request",go="invalid_cache_record",Mr="invalid_cache_environment",Jc="no_account_found",vn="no_crypto_object",Xc="unexpected_credential_type",Zc="invalid_assertion",el="invalid_client_credential",Or="token_refresh_required",tl="user_timeout_reached",vo="token_claims_cnf_required_for_signedjwt",bo="authorization_code_missing_from_server_response",yo="binding_key_not_removed",_o="end_session_endpoint_not_supported",wo="key_id_missing",il="no_network_connectivity",rl="user_canceled",nl="missing_tenant_id_error",ke="method_not_implemented",ol="nested_app_auth_bridge_disabled";var Ie={[mn]:"The client info could not be parsed/decoded correctly",[ro]:"The client info was empty",[pn]:"Token cannot be parsed",[no]:"The token is null or empty",[Ht]:"Endpoints cannot be resolved",[oo]:"Network request failed",[ao]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[so]:"The hash parameters could not be deserialized",[Vi]:"State was not the expected format",[co]:"State mismatch error",[fn]:"State not found",[lo]:"Nonce mismatch error",[kr]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[uo]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[qc]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Kc]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[ho]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[mo]:"Token request cannot be made without authorization code or refresh token.",[po]:"Cannot remove null or empty scope from ScopeSet",[fo]:"Cannot append ScopeSet",[gn]:"Empty input ScopeSet cannot be processed",[Wc]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Yc]:"Device code is expired.",[Qc]:"Device code stopped polling for unknown reasons.",[Dr]:"Please pass an account object, silent flow is not supported without account information",[go]:"Cache record object was null or undefined.",[Mr]:"Invalid environment when attempting to create cache entry",[Jc]:"No account found in cache for given key.",[vn]:"No crypto object detected.",[Xc]:"Unexpected credential type.",[Zc]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[el]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Or]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[tl]:"User defined timeout for device code polling reached",[vo]:"Cannot generate a POP jwt if the token_claims are not populated",[bo]:"Server response does not contain an authorization code to proceed",[yo]:"Could not remove the credential's binding key from storage.",[_o]:"The provided authority does not support logout",[wo]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[il]:"No network connectivity. Check your internet connection.",[rl]:"User cancelled the flow.",[nl]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[ke]:"This method has not been implemented",[ol]:"The nested app auth bridge is disabled"},Yy={clientInfoDecodingError:{code:mn,desc:Ie[mn]},clientInfoEmptyError:{code:ro,desc:Ie[ro]},tokenParsingError:{code:pn,desc:Ie[pn]},nullOrEmptyToken:{code:no,desc:Ie[no]},endpointResolutionError:{code:Ht,desc:Ie[Ht]},networkError:{code:oo,desc:Ie[oo]},unableToGetOpenidConfigError:{code:ao,desc:Ie[ao]},hashNotDeserialized:{code:so,desc:Ie[so]},invalidStateError:{code:Vi,desc:Ie[Vi]},stateMismatchError:{code:co,desc:Ie[co]},stateNotFoundError:{code:fn,desc:Ie[fn]},nonceMismatchError:{code:lo,desc:Ie[lo]},authTimeNotFoundError:{code:kr,desc:Ie[kr]},maxAgeTranspired:{code:uo,desc:Ie[uo]},multipleMatchingTokens:{code:qc,desc:Ie[qc]},multipleMatchingAccounts:{code:Kc,desc:Ie[Kc]},multipleMatchingAppMetadata:{code:ho,desc:Ie[ho]},tokenRequestCannotBeMade:{code:mo,desc:Ie[mo]},removeEmptyScopeError:{code:po,desc:Ie[po]},appendScopeSetError:{code:fo,desc:Ie[fo]},emptyInputScopeSetError:{code:gn,desc:Ie[gn]},DeviceCodePollingCancelled:{code:Wc,desc:Ie[Wc]},DeviceCodeExpired:{code:Yc,desc:Ie[Yc]},DeviceCodeUnknownError:{code:Qc,desc:Ie[Qc]},NoAccountInSilentRequest:{code:Dr,desc:Ie[Dr]},invalidCacheRecord:{code:go,desc:Ie[go]},invalidCacheEnvironment:{code:Mr,desc:Ie[Mr]},noAccountFound:{code:Jc,desc:Ie[Jc]},noCryptoObj:{code:vn,desc:Ie[vn]},unexpectedCredentialType:{code:Xc,desc:Ie[Xc]},invalidAssertion:{code:Zc,desc:Ie[Zc]},invalidClientCredential:{code:el,desc:Ie[el]},tokenRefreshRequired:{code:Or,desc:Ie[Or]},userTimeoutReached:{code:tl,desc:Ie[tl]},tokenClaimsRequired:{code:vo,desc:Ie[vo]},noAuthorizationCodeFromServer:{code:bo,desc:Ie[bo]},bindingKeyNotRemovedError:{code:yo,desc:Ie[yo]},logoutNotSupported:{code:_o,desc:Ie[_o]},keyIdMissing:{code:wo,desc:Ie[wo]},noNetworkConnectivity:{code:il,desc:Ie[il]},userCanceledError:{code:rl,desc:Ie[rl]},missingTenantIdError:{code:nl,desc:Ie[nl]},nestedAppAuthBridgeDisabled:{code:ol,desc:Ie[ol]}},al=class r extends Ae{constructor(t,e){super(t,e?`${Ie[t]}: ${e}`:Ie[t]),this.name="ClientAuthError",Object.setPrototypeOf(this,r.prototype)}};function G(r,t){return new al(r,t)}var bn={createNewGuid:()=>{throw G(ke)},base64Decode:()=>{throw G(ke)},base64Encode:()=>{throw G(ke)},base64UrlEncode:()=>{throw G(ke)},encodeKid:()=>{throw G(ke)},getPublicKeyThumbprint(){return O(this,null,function*(){throw G(ke)})},removeTokenBindingKey(){return O(this,null,function*(){throw G(ke)})},clearKeystore(){return O(this,null,function*(){throw G(ke)})},signJwt(){return O(this,null,function*(){throw G(ke)})},hashString(){return O(this,null,function*(){throw G(ke)})}};var qe=function(r){return r[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",r[r.Verbose=3]="Verbose",r[r.Trace=4]="Trace",r}(qe||{}),ei=class r{constructor(t,e,i){this.level=qe.Info;let n=()=>{},o=t||r.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||n,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:qe.Info,this.correlationId=o.correlationId||U.EMPTY_STRING,this.packageName=e||U.EMPTY_STRING,this.packageVersion=i||U.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:qe.Info}}clone(t,e,i){return new r({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:i||this.correlationId},t,e)}logMessage(t,e){if(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)return;let o=`${`[${new Date().toUTCString()}] : [${e.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${qe[e.logLevel]} - ${t}`;this.executeCallback(e.logLevel,o,e.containsPii||!1)}executeCallback(t,e,i){this.localCallback&&this.localCallback(t,e,i)}error(t,e){this.logMessage(t,{logLevel:qe.Error,containsPii:!1,correlationId:e||U.EMPTY_STRING})}errorPii(t,e){this.logMessage(t,{logLevel:qe.Error,containsPii:!0,correlationId:e||U.EMPTY_STRING})}warning(t,e){this.logMessage(t,{logLevel:qe.Warning,containsPii:!1,correlationId:e||U.EMPTY_STRING})}warningPii(t,e){this.logMessage(t,{logLevel:qe.Warning,containsPii:!0,correlationId:e||U.EMPTY_STRING})}info(t,e){this.logMessage(t,{logLevel:qe.Info,containsPii:!1,correlationId:e||U.EMPTY_STRING})}infoPii(t,e){this.logMessage(t,{logLevel:qe.Info,containsPii:!0,correlationId:e||U.EMPTY_STRING})}verbose(t,e){this.logMessage(t,{logLevel:qe.Verbose,containsPii:!1,correlationId:e||U.EMPTY_STRING})}verbosePii(t,e){this.logMessage(t,{logLevel:qe.Verbose,containsPii:!0,correlationId:e||U.EMPTY_STRING})}trace(t,e){this.logMessage(t,{logLevel:qe.Trace,containsPii:!1,correlationId:e||U.EMPTY_STRING})}tracePii(t,e){this.logMessage(t,{logLevel:qe.Trace,containsPii:!0,correlationId:e||U.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}};var Iu="@azure/msal-common",Ma="15.5.2";var yn={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};var nt={};oi(nt,{createAccessTokenEntity:()=>Fp,createIdTokenEntity:()=>xp,createRefreshTokenEntity:()=>Np,generateAppMetadataKey:()=>WA,generateAuthorityMetadataExpiresAt:()=>Ru,generateCredentialKey:()=>ll,isAccessTokenEntity:()=>LA,isAppMetadataEntity:()=>YA,isAuthorityMetadataEntity:()=>QA,isAuthorityMetadataExpired:()=>ku,isCredentialEntity:()=>Tu,isIdTokenEntity:()=>BA,isRefreshTokenEntity:()=>UA,isServerTelemetryEntity:()=>qA,isThrottlingEntity:()=>KA,updateAuthorityEndpointMetadata:()=>xa,updateCloudDiscoveryMetadata:()=>dl});var Oa={};oi(Oa,{checkMaxAge:()=>sl,extractTokenClaims:()=>Pr,getJWSPayload:()=>Qy});function Pr(r,t){let e=Qy(r);try{let i=t(e);return JSON.parse(i)}catch{throw G(pn)}}function Qy(r){if(!r)throw G(no);let e=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(r);if(!e||e.length<4)throw G(pn);return e[2]}function sl(r,t){if(t===0||Date.now()-3e5>r+t)throw G(uo)}var Vt={};oi(Vt,{delay:()=>VA,isTokenExpired:()=>Pa,nowSeconds:()=>fi,toDateFromSeconds:()=>cl,toSecondsFromDate:()=>NA,wasClockTurnedBack:()=>Pp});function fi(){return Math.round(new Date().getTime()/1e3)}function NA(r){return r.getTime()/1e3}function cl(r){return r?new Date(Number(r)*1e3):new Date}function Pa(r,t){let e=Number(r)||0;return fi()+t>e}function Pp(r){return Number(r)>fi()}function VA(r,t){return new Promise(e=>setTimeout(()=>e(t),r))}function ll(r){return[jA(r),HA(r),zA(r),$A(r),GA(r)].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}function xp(r,t,e,i,n){return{credentialType:Ce.ID_TOKEN,homeAccountId:r,environment:t,clientId:i,secret:e,realm:n}}function Fp(r,t,e,i,n,o,a,l,d,b,s,E,w,v,_){let c={homeAccountId:r,credentialType:Ce.ACCESS_TOKEN,secret:e,cachedAt:fi().toString(),expiresOn:a.toString(),extendedExpiresOn:l.toString(),environment:t,clientId:i,realm:n,target:o,tokenType:s||Fe.BEARER};if(E&&(c.userAssertionHash=E),b&&(c.refreshOn=b.toString()),v&&(c.requestedClaims=v,c.requestedClaimsHash=_),c.tokenType?.toLowerCase()!==Fe.BEARER.toLowerCase())switch(c.credentialType=Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME,c.tokenType){case Fe.POP:let f=Pr(e,d);if(!f?.cnf?.kid)throw G(vo);c.keyId=f.cnf.kid;break;case Fe.SSH:c.keyId=w}return c}function Np(r,t,e,i,n,o,a){let l={credentialType:Ce.REFRESH_TOKEN,homeAccountId:r,environment:t,clientId:i,secret:e};return o&&(l.userAssertionHash=o),n&&(l.familyId=n),a&&(l.expiresOn=a.toString()),l}function Tu(r){return r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")}function LA(r){return r?Tu(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===Ce.ACCESS_TOKEN||r.credentialType===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function BA(r){return r?Tu(r)&&r.hasOwnProperty("realm")&&r.credentialType===Ce.ID_TOKEN:!1}function UA(r){return r?Tu(r)&&r.credentialType===Ce.REFRESH_TOKEN:!1}function jA(r){return[r.homeAccountId,r.environment].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}function HA(r){let t=r.credentialType===Ce.REFRESH_TOKEN&&r.familyId||r.clientId;return[r.credentialType,t,r.realm||""].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}function zA(r){return(r.target||"").toLowerCase()}function $A(r){return(r.requestedClaimsHash||"").toLowerCase()}function GA(r){return r.tokenType&&r.tokenType.toLowerCase()!==Fe.BEARER.toLowerCase()?r.tokenType.toLowerCase():""}function qA(r,t){let e=r.indexOf(It.CACHE_KEY)===0,i=!0;return t&&(i=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),e&&i}function KA(r,t){let e=!1;r&&(e=r.indexOf(Rr.THROTTLING_PREFIX)===0);let i=!0;return t&&(i=t.hasOwnProperty("throttleTime")),e&&i}function WA({environment:r,clientId:t}){return[jc,r,t].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}function YA(r,t){return t?r.indexOf(jc)===0&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"):!1}function QA(r,t){return t?r.indexOf(Da.CACHE_KEY)===0&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"):!1}function Ru(){return fi()+Da.REFRESH_TIME_SECONDS}function xa(r,t,e){r.authorization_endpoint=t.authorization_endpoint,r.token_endpoint=t.token_endpoint,r.end_session_endpoint=t.end_session_endpoint,r.issuer=t.issuer,r.endpointsFromNetwork=e,r.jwks_uri=t.jwks_uri}function dl(r,t,e){r.aliases=t.aliases,r.preferred_cache=t.preferred_cache,r.preferred_network=t.preferred_network,r.aliasesFromNetwork=e}function ku(r){return r.expiresAt<=fi()}var gi={};oi(gi,{authorityMismatch:()=>vl,authorityUriInsecure:()=>Eo,cannotAllowPlatformBroker:()=>gl,cannotSetOIDCOptions:()=>fl,claimsRequestParsingError:()=>ul,emptyInputScopesError:()=>Ao,invalidAuthenticationHeader:()=>pl,invalidAuthorityMetadata:()=>Do,invalidClaims:()=>ir,invalidCloudDiscoveryMetadata:()=>_n,invalidCodeChallengeMethod:()=>ko,invalidPromptValue:()=>Io,logoutRequestEmpty:()=>Ro,missingNonceAuthenticationHeader:()=>ml,missingSshJwk:()=>Fr,missingSshKid:()=>hl,pkceParamsMissing:()=>xr,redirectUriEmpty:()=>Co,tokenRequestEmpty:()=>To,untrustedAuthority:()=>Mo,urlEmptyError:()=>So,urlParseError:()=>tr});var Co="redirect_uri_empty",ul="claims_request_parsing_error",Eo="authority_uri_insecure",tr="url_parse_error",So="empty_url_error",Ao="empty_input_scopes_error",Io="invalid_prompt_value",ir="invalid_claims",To="token_request_empty",Ro="logout_request_empty",ko="invalid_code_challenge_method",xr="pkce_params_missing",_n="invalid_cloud_discovery_metadata",Do="invalid_authority_metadata",Mo="untrusted_authority",Fr="missing_ssh_jwk",hl="missing_ssh_kid",ml="missing_nonce_authentication_header",pl="invalid_authentication_header",fl="cannot_set_OIDCOptions",gl="cannot_allow_platform_broker",vl="authority_mismatch";var ot={[Co]:"A redirect URI is required for all calls, and none has been set.",[ul]:"Could not parse the given claims request object.",[Eo]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[tr]:"URL could not be parsed into appropriate segments.",[So]:"URL was empty or null.",[Ao]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Io]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ir]:"Given claims parameter must be a stringified JSON object.",[To]:"Token request was empty and not found in cache.",[Ro]:"The logout request was null or undefined.",[ko]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[xr]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[_n]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Do]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Mo]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Fr]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[hl]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[ml]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[pl]:"Invalid authentication header provided",[fl]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[gl]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[vl]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."},Jy={redirectUriNotSet:{code:Co,desc:ot[Co]},claimsRequestParsingError:{code:ul,desc:ot[ul]},authorityUriInsecure:{code:Eo,desc:ot[Eo]},urlParseError:{code:tr,desc:ot[tr]},urlEmptyError:{code:So,desc:ot[So]},emptyScopesError:{code:Ao,desc:ot[Ao]},invalidPrompt:{code:Io,desc:ot[Io]},invalidClaimsRequest:{code:ir,desc:ot[ir]},tokenRequestEmptyError:{code:To,desc:ot[To]},logoutRequestEmptyError:{code:Ro,desc:ot[Ro]},invalidCodeChallengeMethod:{code:ko,desc:ot[ko]},invalidCodeChallengeParams:{code:xr,desc:ot[xr]},invalidCloudDiscoveryMetadata:{code:_n,desc:ot[_n]},invalidAuthorityMetadata:{code:Do,desc:ot[Do]},untrustedAuthority:{code:Mo,desc:ot[Mo]},missingSshJwk:{code:Fr,desc:ot[Fr]},missingSshKid:{code:hl,desc:ot[hl]},missingNonceAuthenticationHeader:{code:ml,desc:ot[ml]},invalidAuthenticationHeader:{code:pl,desc:ot[pl]},cannotSetOIDCOptions:{code:fl,desc:ot[fl]},cannotAllowPlatformBroker:{code:gl,desc:ot[gl]},authorityMismatch:{code:vl,desc:ot[vl]}},bl=class r extends Ae{constructor(t){super(t,ot[t]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,r.prototype)}};function Pe(r){return new bl(r)}var at=class{static isEmptyObj(t){if(t)try{let e=JSON.parse(t);return Object.keys(e).length===0}catch{}return!0}static startsWith(t,e){return t.indexOf(e)===0}static endsWith(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length}static queryStringToObject(t){let e={},i=t.split("&"),n=o=>decodeURIComponent(o.replace(/\+/g," "));return i.forEach(o=>{if(o.trim()){let[a,l]=o.split(/=(.+)/g,2);a&&l&&(e[n(a)]=n(l))}}),e}static trimArrayEntries(t){return t.map(e=>e.trim())}static removeEmptyStringsFromArray(t){return t.filter(e=>!!e)}static jsonParseHelper(t){try{return JSON.parse(t)}catch{return null}}static matchPattern(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)}};var Xe=class r{constructor(t){let e=t?at.trimArrayEntries([...t]):[],i=e?at.removeEmptyStringsFromArray(e):[];if(!i||!i.length)throw Pe(Ao);this.scopes=new Set,i.forEach(n=>this.scopes.add(n))}static fromString(t){let i=(t||U.EMPTY_STRING).split(" ");return new r(i)}static createSearchScopes(t){let e=new r(t);return e.containsOnlyOIDCScopes()?e.removeScope(U.OFFLINE_ACCESS_SCOPE):e.removeOIDCScopes(),e}containsScope(t){let e=this.printScopesLowerCase().split(" "),i=new r(e);return t?i.scopes.has(t.toLowerCase()):!1}containsScopeSet(t){return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let t=0;return Dp.forEach(e=>{this.containsScope(e)&&(t+=1)}),this.scopes.size===t}appendScope(t){t&&this.scopes.add(t.trim())}appendScopes(t){try{t.forEach(e=>this.appendScope(e))}catch{throw G(fo)}}removeScope(t){if(!t)throw G(po);this.scopes.delete(t.trim())}removeOIDCScopes(){Dp.forEach(t=>{this.scopes.delete(t)})}unionScopeSets(t){if(!t)throw G(gn);let e=new Set;return t.scopes.forEach(i=>e.add(i.toLowerCase())),this.scopes.forEach(i=>e.add(i.toLowerCase())),e}intersectingScopeSets(t){if(!t)throw G(gn);t.containsOnlyOIDCScopes()||t.removeOIDCScopes();let e=this.unionScopeSets(t),i=t.getScopeCount(),n=this.getScopeCount();return e.size<n+i}getScopeCount(){return this.scopes.size}asArray(){let t=[];return this.scopes.forEach(e=>t.push(e)),t}printScopes(){return this.scopes?this.asArray().join(" "):U.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}};function Fa(r,t){if(!r)throw G(ro);try{let e=t(r);return JSON.parse(e)}catch{throw G(mn)}}function rr(r){if(!r)throw G(mn);let t=r.split(pt.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?U.EMPTY_STRING:t[1]}}function Vp(r,t){return!!r&&!!t&&r===t.split(".")[1]}function Na(r,t,e,i){if(i){let{oid:n,sub:o,tid:a,name:l,tfp:d,acr:b}=i,s=a||d||b||"";return{tenantId:s,localAccountId:n||o||"",name:l,isHomeTenant:Vp(s,r)}}else return{tenantId:e,localAccountId:t,isHomeTenant:Vp(e,r)}}function Oo(r,t,e,i){let n=r;if(t){let o=t,{isHomeTenant:l}=o,d=pr(o,["isHomeTenant"]);n=x(x({},r),d)}if(e){let a=Na(r.homeAccountId,r.localAccountId,r.tenantId,e),{isHomeTenant:l}=a,d=pr(a,["isHomeTenant"]);return n=oe(x(x({},n),d),{idTokenClaims:e,idToken:i}),n}return n}var zt={Default:0,Adfs:1,Dsts:2,Ciam:3};function Du(r){return r&&(r.tid||r.tfp||r.acr)||null}var st={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};var ft=class r{generateAccountId(){return[this.homeAccountId,this.environment].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return r.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(t=>[t.tenantId,t]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(t){let e=t.homeAccountId.split(".")[1];return[t.homeAccountId,t.environment||"",e||t.tenantId||""].join(pt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(t,e,i){let n=new r;e.authorityType===zt.Adfs?n.authorityType=ka.ADFS_ACCOUNT_TYPE:e.protocolMode===st.OIDC?n.authorityType=ka.GENERIC_ACCOUNT_TYPE:n.authorityType=ka.MSSTS_ACCOUNT_TYPE;let o;t.clientInfo&&i&&(o=Fa(t.clientInfo,i)),n.clientInfo=t.clientInfo,n.homeAccountId=t.homeAccountId,n.nativeAccountId=t.nativeAccountId;let a=t.environment||e&&e.getPreferredCache();if(!a)throw G(Mr);n.environment=a,n.realm=o?.utid||Du(t.idTokenClaims)||"",n.localAccountId=o?.uid||t.idTokenClaims?.oid||t.idTokenClaims?.sub||"";let l=t.idTokenClaims?.preferred_username||t.idTokenClaims?.upn,d=t.idTokenClaims?.emails?t.idTokenClaims.emails[0]:null;if(n.username=l||d||"",n.name=t.idTokenClaims?.name||"",n.cloudGraphHostName=t.cloudGraphHostName,n.msGraphHost=t.msGraphHost,t.tenantProfiles)n.tenantProfiles=t.tenantProfiles;else{let b=Na(t.homeAccountId,n.localAccountId,n.realm,t.idTokenClaims);n.tenantProfiles=[b]}return n}static createFromAccountInfo(t,e,i){let n=new r;return n.authorityType=t.authorityType||ka.GENERIC_ACCOUNT_TYPE,n.homeAccountId=t.homeAccountId,n.localAccountId=t.localAccountId,n.nativeAccountId=t.nativeAccountId,n.realm=t.tenantId,n.environment=t.environment,n.username=t.username,n.name=t.name,n.cloudGraphHostName=e,n.msGraphHost=i,n.tenantProfiles=Array.from(t.tenantProfiles?.values()||[]),n}static generateHomeAccountId(t,e,i,n,o){if(!(e===zt.Adfs||e===zt.Dsts)){if(t)try{let a=Fa(t,n.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}i.warning("No client info in response")}return o?.sub||""}static isAccountEntity(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(t,e,i){if(!t||!e)return!1;let n=!0;if(i){let o=t.idTokenClaims||{},a=e.idTokenClaims||{};n=o.iat===a.iat&&o.nonce===a.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&t.nativeAccountId===e.nativeAccountId&&n}};var wn={};oi(wn,{getDeserializedResponse:()=>Lp,mapToQueryString:()=>nr,stripLeadingHashOrQuery:()=>Xy});function Xy(r){return r.startsWith("#/")?r.substring(2):r.startsWith("#")||r.startsWith("?")?r.substring(1):r}function Lp(r){if(!r||r.indexOf("=")<0)return null;try{let t=Xy(r),e=Object.fromEntries(new URLSearchParams(t));if(e.code||e.ear_jwe||e.error||e.error_description||e.state)return e}catch{throw G(so)}return null}function nr(r,t=!0,e){let i=new Array;return r.forEach((n,o)=>{!t&&e&&o in e?i.push(`${o}=${n}`):i.push(`${o}=${encodeURIComponent(n)}`)}),i.join("&")}var Ee=class r{get urlString(){return this._urlString}constructor(t){if(this._urlString=t,!this._urlString)throw Pe(So);t.includes("#")||(this._urlString=r.canonicalizeUri(t))}static canonicalizeUri(t){if(t){let e=t.toLowerCase();return at.endsWith(e,"?")?e=e.slice(0,-1):at.endsWith(e,"?/")&&(e=e.slice(0,-2)),at.endsWith(e,"/")||(e+="/"),e}return t}validateAsUri(){let t;try{t=this.getUrlComponents()}catch{throw Pe(tr)}if(!t.HostNameAndPort||!t.PathSegments)throw Pe(tr);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw Pe(Eo)}static appendQueryString(t,e){return e?t.indexOf("?")<0?`${t}?${e}`:`${t}&${e}`:t}static removeHashFromUrl(t){return r.canonicalizeUri(t.split("#")[0])}replaceTenantPath(t){let e=this.getUrlComponents(),i=e.PathSegments;return t&&i.length!==0&&(i[0]===Ni.COMMON||i[0]===Ni.ORGANIZATIONS)&&(i[0]=t),r.constructAuthorityUriFromObject(e)}getUrlComponents(){let t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw Pe(tr);let i={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},n=i.AbsolutePath.split("/");return n=n.filter(o=>o&&o.length>0),i.PathSegments=n,i.QueryString&&i.QueryString.endsWith("/")&&(i.QueryString=i.QueryString.substring(0,i.QueryString.length-1)),i}static getDomainFromUrl(t){let e=RegExp("^([^:/?#]+://)?([^/?#]*)"),i=t.match(e);if(!i)throw Pe(tr);return i[2]}static getAbsoluteUrl(t,e){if(t[0]===U.FORWARD_SLASH){let n=new r(e).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+t}return t}static constructAuthorityUriFromObject(t){return new r(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}static hashContainsKnownProperties(t){return!!Lp(t)}};var e_={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},Bp=e_.endpointMetadata,Up=e_.instanceDiscoveryMetadata,jp=new Set;Up.metadata.forEach(r=>{r.aliases.forEach(t=>{jp.add(t)})});function t_(r,t){let e,i=r.canonicalAuthority;if(i){let n=new Ee(i).getUrlComponents().HostNameAndPort;e=Zy(n,r.cloudDiscoveryMetadata?.metadata,jt.CONFIG,t)||Zy(n,Up.metadata,jt.HARDCODED_VALUES,t)||r.knownAuthorities}return e||[]}function Zy(r,t,e,i){if(i?.trace(`getAliasesFromMetadata called with source: ${e}`),r&&t){let n=yl(t,r);if(n)return i?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${e}, returning aliases`),n.aliases;i?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${e}`)}return null}function i_(r){return yl(Up.metadata,r)}function yl(r,t){for(let e=0;e<r.length;e++){let i=r[e];if(i.aliases.includes(t))return i}return null}var Mu="cache_quota_exceeded",_l="cache_error_unknown";var Hp={[Mu]:"Exceeded cache storage capacity.",[_l]:"Unexpected error occurred when using cache storage."},Nr=class r extends Error{constructor(t,e){let i=e||(Hp[t]?Hp[t]:Hp[_l]);super(`${t}: ${i}`),Object.setPrototypeOf(this,r.prototype),this.name="CacheError",this.errorCode=t,this.errorMessage=i}};var Po=class{constructor(t,e,i,n){this.clientId=t,this.cryptoImpl=e,this.commonLogger=i.clone(Iu,Ma),this.staticAuthorityOptions=n}getAllAccounts(t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{}),t)}getAccountInfoFilteredBy(t){let e=this.getAllAccounts(t);return e.length>1?e.sort(n=>n.idTokenClaims?-1:1)[0]:e.length===1?e[0]:null}getBaseAccountInfo(t){let e=this.getAccountsFilteredBy(t);return e.length>0?e[0].getAccountInfo():null}buildTenantProfiles(t,e){return t.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,e?.tenantId,e))}getTenantedAccountInfoByFilter(t,e,i,n){let o=null,a;if(n&&!this.tenantProfileMatchesFilter(i,n))return null;let l=this.getIdToken(t,e,i.tenantId);return l&&(a=Pr(l.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,n))?null:(o=Oo(t,i,a,l?.secret),o)}getTenantProfilesFromAccountEntity(t,e,i){let n=t.getAccountInfo(),o=n.tenantProfiles||new Map,a=this.getTokenKeys();if(e){let d=o.get(e);if(d)o=new Map([[e,d]]);else return[]}let l=[];return o.forEach(d=>{let b=this.getTenantedAccountInfoByFilter(n,a,d,i);b&&l.push(b)}),l}tenantProfileMatchesFilter(t,e){return!(e.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(t,e.localAccountId)||e.name&&t.name!==e.name||e.isHomeTenant!==void 0&&t.isHomeTenant!==e.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(t,e){return!(e&&(e.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(t,e.localAccountId)||e.loginHint&&!this.matchLoginHintFromTokenClaims(t,e.loginHint)||e.username&&!this.matchUsername(t.preferred_username,e.username)||e.name&&!this.matchName(t,e.name)||e.sid&&!this.matchSid(t,e.sid)))}saveCacheRecord(t,e,i){return O(this,null,function*(){if(!t)throw G(go);try{t.account&&(yield this.setAccount(t.account,e)),t.idToken&&i?.idToken!==!1&&(yield this.setIdTokenCredential(t.idToken,e)),t.accessToken&&i?.accessToken!==!1&&(yield this.saveAccessToken(t.accessToken,e)),t.refreshToken&&i?.refreshToken!==!1&&(yield this.setRefreshTokenCredential(t.refreshToken,e)),t.appMetadata&&this.setAppMetadata(t.appMetadata)}catch(n){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),n instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${n.message}`,e),n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED"||n.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",e),new Nr(Mu)):new Nr(n.name,n.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${n}`,e),new Nr(_l))}})}saveAccessToken(t,e){return O(this,null,function*(){let i={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},n=this.getTokenKeys(),o=Xe.fromString(t.target),a=[];n.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,i,!1))return;let d=this.getAccessTokenCredential(l);d&&this.credentialMatchesFilter(d,i)&&Xe.fromString(d.target).intersectingScopeSets(o)&&a.push(this.removeAccessToken(l))}),yield Promise.all(a),yield this.setAccessTokenCredential(t,e)})}getAccountsFilteredBy(t){let e=this.getAccountKeys(),i=[];return e.forEach(n=>{if(!this.isAccountKey(n,t.homeAccountId))return;let o=this.getAccount(n,this.commonLogger);if(!o||t.homeAccountId&&!this.matchHomeAccountId(o,t.homeAccountId)||t.username&&!this.matchUsername(o.username,t.username)||t.environment&&!this.matchEnvironment(o,t.environment)||t.realm&&!this.matchRealm(o,t.realm)||t.nativeAccountId&&!this.matchNativeAccountId(o,t.nativeAccountId)||t.authorityType&&!this.matchAuthorityType(o,t.authorityType))return;let a={localAccountId:t?.localAccountId,name:t?.name},l=o.tenantProfiles?.filter(d=>this.tenantProfileMatchesFilter(d,a));l&&l.length===0||i.push(o)}),i}isAccountKey(t,e,i){return!(t.split(pt.CACHE_KEY_SEPARATOR).length<3||e&&!t.toLowerCase().includes(e.toLowerCase())||i&&!t.toLowerCase().includes(i.toLowerCase()))}isCredentialKey(t){if(t.split(pt.CACHE_KEY_SEPARATOR).length<6)return!1;let e=t.toLowerCase();if(e.indexOf(Ce.ID_TOKEN.toLowerCase())===-1&&e.indexOf(Ce.ACCESS_TOKEN.toLowerCase())===-1&&e.indexOf(Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&e.indexOf(Ce.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(e.indexOf(Ce.REFRESH_TOKEN.toLowerCase())>-1){let i=`${Ce.REFRESH_TOKEN}${pt.CACHE_KEY_SEPARATOR}${this.clientId}${pt.CACHE_KEY_SEPARATOR}`,n=`${Ce.REFRESH_TOKEN}${pt.CACHE_KEY_SEPARATOR}${hn}${pt.CACHE_KEY_SEPARATOR}`;if(e.indexOf(i.toLowerCase())===-1&&e.indexOf(n.toLowerCase())===-1)return!1}else if(e.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(t,e){return!(e.clientId&&!this.matchClientId(t,e.clientId)||e.userAssertionHash&&!this.matchUserAssertionHash(t,e.userAssertionHash)||typeof e.homeAccountId=="string"&&!this.matchHomeAccountId(t,e.homeAccountId)||e.environment&&!this.matchEnvironment(t,e.environment)||e.realm&&!this.matchRealm(t,e.realm)||e.credentialType&&!this.matchCredentialType(t,e.credentialType)||e.familyId&&!this.matchFamilyId(t,e.familyId)||e.target&&!this.matchTarget(t,e.target)||(e.requestedClaimsHash||t.requestedClaimsHash)&&t.requestedClaimsHash!==e.requestedClaimsHash||t.credentialType===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(e.tokenType&&!this.matchTokenType(t,e.tokenType)||e.tokenType===Fe.SSH&&e.keyId&&!this.matchKeyId(t,e.keyId)))}getAppMetadataFilteredBy(t){let e=this.getKeys(),i={};return e.forEach(n=>{if(!this.isAppMetadata(n))return;let o=this.getAppMetadata(n);o&&(t.environment&&!this.matchEnvironment(o,t.environment)||t.clientId&&!this.matchClientId(o,t.clientId)||(i[n]=o))}),i}getAuthorityMetadataByAlias(t){let e=this.getAuthorityMetadataKeys(),i=null;return e.forEach(n=>{if(!this.isAuthorityMetadata(n)||n.indexOf(this.clientId)===-1)return;let o=this.getAuthorityMetadata(n);o&&o.aliases.indexOf(t)!==-1&&(i=o)}),i}removeAllAccounts(){return O(this,null,function*(){let t=this.getAccountKeys(),e=[];t.forEach(i=>{e.push(this.removeAccount(i))}),yield Promise.all(e)})}removeAccount(t){return O(this,null,function*(){let e=this.getAccount(t,this.commonLogger);e&&(yield this.removeAccountContext(e),this.removeItem(t))})}removeAccountContext(t){return O(this,null,function*(){let e=this.getTokenKeys(),i=t.generateAccountId(),n=[];e.idToken.forEach(o=>{o.indexOf(i)===0&&this.removeIdToken(o)}),e.accessToken.forEach(o=>{o.indexOf(i)===0&&n.push(this.removeAccessToken(o))}),e.refreshToken.forEach(o=>{o.indexOf(i)===0&&this.removeRefreshToken(o)}),yield Promise.all(n)})}removeAccessToken(t){return O(this,null,function*(){let e=this.getAccessTokenCredential(t);if(e){if(e.credentialType.toLowerCase()===Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&e.tokenType===Fe.POP){let n=e.keyId;if(n)try{yield this.cryptoImpl.removeTokenBindingKey(n)}catch{throw G(yo)}}return this.removeItem(t)}})}removeAppMetadata(){return this.getKeys().forEach(e=>{this.isAppMetadata(e)&&this.removeItem(e)}),!0}readAccountFromCache(t){let e=ft.generateAccountCacheKey(t);return this.getAccount(e,this.commonLogger)}getIdToken(t,e,i,n,o){this.commonLogger.trace("CacheManager - getIdToken called");let a={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Ce.ID_TOKEN,clientId:this.clientId,realm:i},l=this.getIdTokensByFilter(a,e),d=l.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(d>1){let b=l;if(!i){let s=new Map;l.forEach((w,v)=>{w.realm===t.tenantId&&s.set(v,w)});let E=s.size;if(E<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),l.values().next().value;if(E===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),s.values().next().value;b=s}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),b.forEach((s,E)=>{this.removeIdToken(E)}),n&&o&&n.addFields({multiMatchedID:l.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),l.values().next().value}getIdTokensByFilter(t,e){let i=e&&e.idToken||this.getTokenKeys().idToken,n=new Map;return i.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,x({clientId:this.clientId},t)))return;let a=this.getIdTokenCredential(o);a&&this.credentialMatchesFilter(a,t)&&n.set(o,a)}),n}idTokenKeyMatchesFilter(t,e){let i=t.toLowerCase();return!(e.clientId&&i.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&i.indexOf(e.homeAccountId.toLowerCase())===-1)}removeIdToken(t){this.removeItem(t)}removeRefreshToken(t){this.removeItem(t)}getAccessToken(t,e,i,n,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");let l=Xe.createSearchScopes(e.scopes),d=e.authenticationScheme||Fe.BEARER,b=d&&d.toLowerCase()!==Fe.BEARER.toLowerCase()?Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ce.ACCESS_TOKEN,s={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:b,clientId:this.clientId,realm:n||t.tenantId,target:l,tokenType:d,keyId:e.sshKid,requestedClaimsHash:e.requestedClaimsHash},E=i&&i.accessToken||this.getTokenKeys().accessToken,w=[];E.forEach(_=>{if(this.accessTokenKeyMatchesFilter(_,s,!0)){let c=this.getAccessTokenCredential(_);c&&this.credentialMatchesFilter(c,s)&&w.push(c)}});let v=w.length;return v<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):v>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),w.forEach(_=>{this.removeAccessToken(ll(_))}),o&&a&&o.addFields({multiMatchedAT:w.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),w[0])}accessTokenKeyMatchesFilter(t,e,i){let n=t.toLowerCase();if(e.clientId&&n.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&n.indexOf(e.homeAccountId.toLowerCase())===-1||e.realm&&n.indexOf(e.realm.toLowerCase())===-1||e.requestedClaimsHash&&n.indexOf(e.requestedClaimsHash.toLowerCase())===-1)return!1;if(e.target){let o=e.target.asArray();for(let a=0;a<o.length;a++){if(i&&!n.includes(o[a].toLowerCase()))return!1;if(!i&&n.includes(o[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(t){let e=this.getTokenKeys(),i=[];return e.accessToken.forEach(n=>{if(!this.accessTokenKeyMatchesFilter(n,t,!0))return;let o=this.getAccessTokenCredential(n);o&&this.credentialMatchesFilter(o,t)&&i.push(o)}),i}getRefreshToken(t,e,i,n,o){this.commonLogger.trace("CacheManager - getRefreshToken called");let a=e?hn:void 0,l={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:Ce.REFRESH_TOKEN,clientId:this.clientId,familyId:a},d=i&&i.refreshToken||this.getTokenKeys().refreshToken,b=[];d.forEach(E=>{if(this.refreshTokenKeyMatchesFilter(E,l)){let w=this.getRefreshTokenCredential(E);w&&this.credentialMatchesFilter(w,l)&&b.push(w)}});let s=b.length;return s<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(s>1&&n&&o&&n.addFields({multiMatchedRT:s},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),b[0])}refreshTokenKeyMatchesFilter(t,e){let i=t.toLowerCase();return!(e.familyId&&i.indexOf(e.familyId.toLowerCase())===-1||!e.familyId&&e.clientId&&i.indexOf(e.clientId.toLowerCase())===-1||e.homeAccountId&&i.indexOf(e.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(t){let e={environment:t,clientId:this.clientId},i=this.getAppMetadataFilteredBy(e),n=Object.keys(i).map(a=>i[a]),o=n.length;if(o<1)return null;if(o>1)throw G(ho);return n[0]}isAppMetadataFOCI(t){let e=this.readAppMetadataFromCache(t);return!!(e&&e.familyId===hn)}matchHomeAccountId(t,e){return typeof t.homeAccountId=="string"&&e===t.homeAccountId}matchLocalAccountIdFromTokenClaims(t,e){let i=t.oid||t.sub;return e===i}matchLocalAccountIdFromTenantProfile(t,e){return t.localAccountId===e}matchName(t,e){return e.toLowerCase()===t.name?.toLowerCase()}matchUsername(t,e){return!!(t&&typeof t=="string"&&e?.toLowerCase()===t.toLowerCase())}matchUserAssertionHash(t,e){return!!(t.userAssertionHash&&e===t.userAssertionHash)}matchEnvironment(t,e){if(this.staticAuthorityOptions){let n=t_(this.staticAuthorityOptions,this.commonLogger);if(n.includes(e)&&n.includes(t.environment))return!0}let i=this.getAuthorityMetadataByAlias(e);return!!(i&&i.aliases.indexOf(t.environment)>-1)}matchCredentialType(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()}matchClientId(t,e){return!!(t.clientId&&e===t.clientId)}matchFamilyId(t,e){return!!(t.familyId&&e===t.familyId)}matchRealm(t,e){return t.realm?.toLowerCase()===e.toLowerCase()}matchNativeAccountId(t,e){return!!(t.nativeAccountId&&e===t.nativeAccountId)}matchLoginHintFromTokenClaims(t,e){return t.login_hint===e||t.preferred_username===e||t.upn===e}matchSid(t,e){return t.sid===e}matchAuthorityType(t,e){return!!(t.authorityType&&e.toLowerCase()===t.authorityType.toLowerCase())}matchTarget(t,e){return t.credentialType!==Ce.ACCESS_TOKEN&&t.credentialType!==Ce.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target?!1:Xe.fromString(t.target).containsScopeSet(e)}matchTokenType(t,e){return!!(t.tokenType&&t.tokenType===e)}matchKeyId(t,e){return!!(t.keyId&&t.keyId===e)}isAppMetadata(t){return t.indexOf(jc)!==-1}isAuthorityMetadata(t){return t.indexOf(Da.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(t){return`${Da.CACHE_KEY}-${this.clientId}-${t}`}static toObject(t,e){for(let i in e)t[i]=e[i];return t}},wl=class extends Po{setAccount(){return O(this,null,function*(){throw G(ke)})}getAccount(){throw G(ke)}setIdTokenCredential(){return O(this,null,function*(){throw G(ke)})}getIdTokenCredential(){throw G(ke)}setAccessTokenCredential(){return O(this,null,function*(){throw G(ke)})}getAccessTokenCredential(){throw G(ke)}setRefreshTokenCredential(){return O(this,null,function*(){throw G(ke)})}getRefreshTokenCredential(){throw G(ke)}setAppMetadata(){throw G(ke)}getAppMetadata(){throw G(ke)}setServerTelemetry(){throw G(ke)}getServerTelemetry(){throw G(ke)}setAuthorityMetadata(){throw G(ke)}getAuthorityMetadata(){throw G(ke)}getAuthorityMetadataKeys(){throw G(ke)}setThrottlingCache(){throw G(ke)}getThrottlingCache(){throw G(ke)}removeItem(){throw G(ke)}getKeys(){throw G(ke)}getAccountKeys(){throw G(ke)}getTokenKeys(){throw G(ke)}};var Ou={tokenRenewalOffsetSeconds:Op,preventCorsPreflight:!1},JA={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:qe.Info,correlationId:U.EMPTY_STRING},XA={claimsBasedCachingEnabled:!1},ZA={sendGetRequestAsync(){return O(this,null,function*(){throw G(ke)})},sendPostRequestAsync(){return O(this,null,function*(){throw G(ke)})}},eI={sku:U.SKU,version:Ma,cpu:U.EMPTY_STRING,os:U.EMPTY_STRING},tI={clientSecret:U.EMPTY_STRING,clientAssertion:void 0},iI={azureCloudInstance:yn.None,tenant:`${U.DEFAULT_COMMON_TENANT}`},rI={application:{appName:"",appVersion:""}};function r_({authOptions:r,systemOptions:t,loggerOptions:e,cacheOptions:i,storageInterface:n,networkInterface:o,cryptoInterface:a,clientCredentials:l,libraryInfo:d,telemetry:b,serverTelemetryManager:s,persistencePlugin:E,serializableCache:w}){let v=x(x({},JA),e);return{authOptions:nI(r),systemOptions:x(x({},Ou),t),loggerOptions:v,cacheOptions:x(x({},XA),i),storageInterface:n||new wl(r.clientId,bn,new ei(v)),networkInterface:o||ZA,cryptoInterface:a||bn,clientCredentials:l||tI,libraryInfo:x(x({},eI),d),telemetry:x(x({},rI),b),serverTelemetryManager:s||null,persistencePlugin:E||null,serializableCache:w||null}}function nI(r){return x({clientCapabilities:[],azureCloudOptions:iI,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1},r)}function Pu(r){return r.authOptions.authority.options.protocolMode===st.OIDC}var Lt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};var ti={};oi(ti,{addApplicationTelemetry:()=>Sl,addAuthorizationCode:()=>xf,addBrokerParameters:()=>Ur,addCcsOid:()=>Lr,addCcsUpn:()=>Cn,addClaims:()=>Lo,addClientAssertion:()=>Tl,addClientAssertionType:()=>Rl,addClientCapabilitiesToClaims:()=>n_,addClientId:()=>No,addClientInfo:()=>Uo,addClientSecret:()=>Il,addCodeChallengeParams:()=>yI,addCodeVerifier:()=>Nf,addCorrelationId:()=>Bo,addDeviceCode:()=>_I,addDomainHint:()=>Mf,addEARParameters:()=>AI,addExtraQueryParameters:()=>Br,addGrantType:()=>kl,addIdTokenHint:()=>Df,addInstanceAware:()=>Dl,addLibraryInfo:()=>El,addLoginHint:()=>La,addLogoutHint:()=>Vf,addNativeBroker:()=>bI,addNonce:()=>Pf,addOboAssertion:()=>wI,addPassword:()=>SI,addPopToken:()=>Ml,addPostLogoutRedirectUri:()=>kf,addPrompt:()=>Of,addRedirectUri:()=>Vo,addRefreshToken:()=>Ff,addRequestTokenUse:()=>CI,addResponseMode:()=>Rf,addResponseType:()=>vI,addScopes:()=>Fo,addServerTelemetry:()=>Pl,addSid:()=>Bu,addSshJwk:()=>Ol,addState:()=>Al,addThrottling:()=>xl,addUsername:()=>EI,instrumentBrokerParams:()=>xo});var Vr={};oi(Vr,{ACCESS_TOKEN:()=>sI,BROKER_CLIENT_ID:()=>Cl,BROKER_REDIRECT_URI:()=>Lu,CCS_HEADER:()=>fI,CLAIMS:()=>qp,CLIENT_ASSERTION:()=>vf,CLIENT_ASSERTION_TYPE:()=>bf,CLIENT_ID:()=>or,CLIENT_INFO:()=>hI,CLIENT_REQUEST_ID:()=>rf,CLIENT_SECRET:()=>gf,CODE:()=>Xp,CODE_CHALLENGE:()=>Zp,CODE_CHALLENGE_METHOD:()=>ef,CODE_VERIFIER:()=>tf,DEVICE_CODE:()=>ff,DOMAIN_HINT:()=>Af,EAR_JWE_CRYPTO:()=>Tf,EAR_JWK:()=>If,ERROR:()=>oI,ERROR_DESCRIPTION:()=>aI,EXPIRES_IN:()=>lI,FOCI:()=>pI,GRANT_TYPE:()=>Gp,ID_TOKEN:()=>cI,ID_TOKEN_HINT:()=>pf,INSTANCE_AWARE:()=>Va,LOGIN_HINT:()=>Sf,LOGOUT_HINT:()=>Cf,NATIVE_BROKER:()=>wf,NONCE:()=>Qp,OBO_ASSERTION:()=>yf,ON_BEHALF_OF:()=>mI,POST_LOGOUT_URI:()=>mf,PROMPT:()=>Jp,REDIRECT_URI:()=>xu,REFRESH_TOKEN:()=>Wp,REFRESH_TOKEN_EXPIRES_IN:()=>dI,REQUESTED_TOKEN_USE:()=>_f,REQ_CNF:()=>Nu,RESPONSE_MODE:()=>$p,RESPONSE_TYPE:()=>zp,RETURN_SPA_CODE:()=>Vu,SCOPE:()=>Kp,SESSION_STATE:()=>uI,SID:()=>Ef,STATE:()=>Yp,TOKEN_TYPE:()=>Fu,X_APP_NAME:()=>uf,X_APP_VER:()=>hf,X_CLIENT_CPU:()=>sf,X_CLIENT_CURR_TELEM:()=>cf,X_CLIENT_EXTRA_SKU:()=>gI,X_CLIENT_LAST_TELEM:()=>lf,X_CLIENT_OS:()=>af,X_CLIENT_SKU:()=>nf,X_CLIENT_VER:()=>of,X_MS_LIB_CAPABILITY:()=>df});var or="client_id",xu="redirect_uri",zp="response_type",$p="response_mode",Gp="grant_type",qp="claims",Kp="scope",oI="error",aI="error_description",sI="access_token",cI="id_token",Wp="refresh_token",lI="expires_in",dI="refresh_token_expires_in",Yp="state",Qp="nonce",Jp="prompt",uI="session_state",hI="client_info",Xp="code",Zp="code_challenge",ef="code_challenge_method",tf="code_verifier",rf="client-request-id",nf="x-client-SKU",of="x-client-VER",af="x-client-OS",sf="x-client-CPU",cf="x-client-current-telemetry",lf="x-client-last-telemetry",df="x-ms-lib-capability",uf="x-app-name",hf="x-app-ver",mf="post_logout_redirect_uri",pf="id_token_hint",ff="device_code",gf="client_secret",vf="client_assertion",bf="client_assertion_type",Fu="token_type",Nu="req_cnf",yf="assertion",_f="requested_token_use",mI="on_behalf_of",pI="foci",fI="X-AnchorMailbox",Vu="return_spa_code",wf="nativebroker",Cf="logout_hint",Ef="sid",Sf="login_hint",Af="domain_hint",gI="x-client-xtra-sku",Cl="brk_client_id",Lu="brk_redirect_uri",Va="instance_aware",If="ear_jwk",Tf="ear_jwe_crypto";function xo(r,t,e){if(!t)return;let i=r.get(or);i&&r.has(Cl)&&e?.addFields({embeddedClientId:i,embeddedRedirectUri:r.get(xu)},t)}function vI(r,t){r.set(zp,t)}function Rf(r,t){r.set($p,t||Mp.QUERY)}function bI(r){r.set(wf,"1")}function Fo(r,t,e=!0,i=Fi){e&&!i.includes("openid")&&!t.includes("openid")&&i.push("openid");let n=e?[...t||[],...i]:t||[],o=new Xe(n);r.set(Kp,o.printScopes())}function No(r,t){r.set(or,t)}function Vo(r,t){r.set(xu,t)}function kf(r,t){r.set(mf,t)}function Df(r,t){r.set(pf,t)}function Mf(r,t){r.set(Af,t)}function La(r,t){r.set(Sf,t)}function Cn(r,t){r.set(wt.CCS_HEADER,`UPN:${t}`)}function Lr(r,t){r.set(wt.CCS_HEADER,`Oid:${t.uid}@${t.utid}`)}function Bu(r,t){r.set(Ef,t)}function Lo(r,t,e){let i=n_(t,e);try{JSON.parse(i)}catch{throw Pe(ir)}r.set(qp,i)}function Bo(r,t){r.set(rf,t)}function El(r,t){r.set(nf,t.sku),r.set(of,t.version),t.os&&r.set(af,t.os),t.cpu&&r.set(sf,t.cpu)}function Sl(r,t){t?.appName&&r.set(uf,t.appName),t?.appVersion&&r.set(hf,t.appVersion)}function Of(r,t){r.set(Jp,t)}function Al(r,t){t&&r.set(Yp,t)}function Pf(r,t){r.set(Qp,t)}function yI(r,t,e){if(t&&e)r.set(Zp,t),r.set(ef,e);else throw Pe(xr)}function xf(r,t){r.set(Xp,t)}function _I(r,t){r.set(ff,t)}function Ff(r,t){r.set(Wp,t)}function Nf(r,t){r.set(tf,t)}function Il(r,t){r.set(gf,t)}function Tl(r,t){t&&r.set(vf,t)}function Rl(r,t){t&&r.set(bf,t)}function wI(r,t){r.set(yf,t)}function CI(r,t){r.set(_f,t)}function kl(r,t){r.set(Gp,t)}function Uo(r){r.set(Ky,"1")}function Dl(r){r.has(Va)||r.set(Va,"true")}function Br(r,t){Object.entries(t).forEach(([e,i])=>{!r.has(e)&&i&&r.set(e,i)})}function n_(r,t){let e;if(!r)e={};else try{e=JSON.parse(r)}catch{throw Pe(ir)}return t&&t.length>0&&(e.hasOwnProperty(Ra.ACCESS_TOKEN)||(e[Ra.ACCESS_TOKEN]={}),e[Ra.ACCESS_TOKEN][Ra.XMS_CC]={values:t}),JSON.stringify(e)}function EI(r,t){r.set(Cu.username,t)}function SI(r,t){r.set(Cu.password,t)}function Ml(r,t){t&&(r.set(Fu,Fe.POP),r.set(Nu,t))}function Ol(r,t){t&&(r.set(Fu,Fe.SSH),r.set(Nu,t))}function Pl(r,t){r.set(cf,t.generateCurrentRequestHeaderValue()),r.set(lf,t.generateLastRequestHeaderValue())}function xl(r){r.set(df,Rr.X_MS_LIB_CAPABILITY_VALUE)}function Vf(r,t){r.set(Cf,t)}function Ur(r,t,e){r.has(Cl)||r.set(Cl,t),r.has(Lu)||r.set(Lu,e)}function AI(r,t){r.set(If,encodeURIComponent(t)),r.set(Tf,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}var ju={};oi(ju,{createDiscoveredInstance:()=>Uf});function o_(r){return r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("jwks_uri")}function a_(r){return r.hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata")}function s_(r){return r.hasOwnProperty("error")&&r.hasOwnProperty("error_description")}var k={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},nV=new Map([[k.AcquireTokenByCode,"ATByCode"],[k.AcquireTokenByRefreshToken,"ATByRT"],[k.AcquireTokenSilent,"ATS"],[k.AcquireTokenSilentAsync,"ATSAsync"],[k.AcquireTokenPopup,"ATPopup"],[k.AcquireTokenRedirect,"ATRedirect"],[k.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[k.CryptoOptsSignJwt,"CryptoSignJwt"],[k.SilentCacheClientAcquireToken,"SltCacheClientAT"],[k.SilentIframeClientAcquireToken,"SltIframeClientAT"],[k.SilentRefreshClientAcquireToken,"SltRClientAT"],[k.SsoSilent,"SsoSlt"],[k.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[k.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[k.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[k.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[k.NetworkClientSendPostRequestAsync,"NetClientSendPost"],[k.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[k.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[k.BrokerHandhshake,"BrokerHandshake"],[k.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[k.AcquireTokenByBroker,"ATByBroker"],[k.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[k.RefreshTokenClientAcquireToken,"RTClientAT"],[k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[k.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[k.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[k.AcquireTokenFromCache,"ATFromCache"],[k.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[k.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[k.AcquireTokenBySilentIframe,"ATBySltIframe"],[k.InitializeBaseRequest,"InitBaseReq"],[k.InitializeSilentRequest,"InitSltReq"],[k.InitializeClientApplication,"InitClientApplication"],[k.InitializeCache,"InitCache"],[k.ImportExistingCache,"importCache"],[k.SetUserData,"setUserData"],[k.LocalStorageUpdated,"localStorageUpdated"],[k.SilentIframeClientTokenHelper,"SIClientTHelper"],[k.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[k.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[k.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[k.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[k.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[k.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[k.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[k.GetAuthCodeUrl,"GetAuthCodeUrl"],[k.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[k.HandleCodeResponse,"HandleCodeResp"],[k.HandleResponseEar,"HandleRespEar"],[k.HandleResponseCode,"HandleRespCode"],[k.HandleResponsePlatformBroker,"HandleRespPlatBroker"],[k.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[k.AuthClientAcquireToken,"AuthClientAT"],[k.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[k.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[k.PopTokenGenerateCnf,"PopTGenCnf"],[k.PopTokenGenerateKid,"PopTGenKid"],[k.HandleServerTokenResponse,"HandleServerTRes"],[k.DeserializeResponse,"DeserializeRes"],[k.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[k.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[k.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[k.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[k.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[k.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[k.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[k.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[k.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[k.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[k.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[k.AcquireTokenByCodeAsync,"ATByCodeAsync"],[k.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[k.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[k.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[k.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[k.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[k.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[k.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[k.NativeGenerateAuthResult,"NtvGenAuthRes"],[k.RemoveHiddenIframe,"RemoveHiddenIframe"],[k.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[k.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[k.GeneratePkceCodes,"GenPkceCodes"],[k.GenerateCodeVerifier,"GenCodeVerifier"],[k.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[k.Sha256Digest,"Sha256Digest"],[k.GetRandomValues,"GetRandomValues"],[k.GenerateHKDF,"genHKDF"],[k.GenerateBaseKey,"genBaseKey"],[k.Base64Decode,"b64Decode"],[k.UrlEncodeArr,"urlEncArr"],[k.Encrypt,"encrypt"],[k.Decrypt,"decrypt"],[k.GenerateEarKey,"genEarKey"],[k.DecryptEarResponse,"decryptEarResp"]]),Lf={NotStarted:0,InProgress:1,Completed:2};var St=(r,t,e,i,n)=>(...o)=>{e.trace(`Executing function ${t}`);let a=i?.startMeasurement(t,n);if(n){let l=t+"CallCount";i?.incrementFields({[l]:1},n)}try{let l=r(...o);return a?.end({success:!0}),e.trace(`Returning result from ${t}`),l}catch(l){e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(l))}catch{e.trace("Unable to print error message.")}throw a?.end({success:!1},l),l}},B=(r,t,e,i,n)=>(...o)=>{e.trace(`Executing function ${t}`);let a=i?.startMeasurement(t,n);if(n){let l=t+"CallCount";i?.incrementFields({[l]:1},n)}return i?.setPreQueueTime(t,n),r(...o).then(l=>(e.trace(`Returning result from ${t}`),a?.end({success:!0}),l)).catch(l=>{e.trace(`Error occurred in ${t}`);try{e.trace(JSON.stringify(l))}catch{e.trace("Unable to print error message.")}throw a?.end({success:!1},l),l})};var c_=(()=>{class r{constructor(e,i,n,o){this.networkInterface=e,this.logger=i,this.performanceClient=n,this.correlationId=o}detectRegion(e,i){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)i.region_source=to.ENVIRONMENT_VARIABLE;else{let o=r.IMDS_OPTIONS;try{let a=yield B(this.getRegionFromIMDS.bind(this),k.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(U.IMDS_VERSION,o);if(a.status===Hc.httpSuccess&&(n=a.body,i.region_source=to.IMDS),a.status===Hc.httpBadRequest){let l=yield B(this.getCurrentVersion.bind(this),k.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!l)return i.region_source=to.FAILED_AUTO_DETECTION,null;let d=yield B(this.getRegionFromIMDS.bind(this),k.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(l,o);d.status===Hc.httpSuccess&&(n=d.body,i.region_source=to.IMDS)}}catch{return i.region_source=to.FAILED_AUTO_DETECTION,null}}return n||(i.region_source=to.FAILED_AUTO_DETECTION),n||null})}getRegionFromIMDS(e,i){return O(this,null,function*(){return this.performanceClient?.addQueueMeasurement(k.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${U.IMDS_ENDPOINT}?api-version=${e}&format=text`,i,U.IMDS_TIMEOUT)})}getCurrentVersion(e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let i=yield this.networkInterface.sendGetRequestAsync(`${U.IMDS_ENDPOINT}?format=json`,e);return i.status===Hc.httpBadRequest&&i.body&&i.body["newest-versions"]&&i.body["newest-versions"].length>0?i.body["newest-versions"][0]:null}catch{return null}})}}return r.IMDS_OPTIONS={headers:{Metadata:"true"}},r})();var Ei=class r{constructor(t,e,i,n,o,a,l,d){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=i,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=l,this.correlationId=a,this.managedIdentity=d||!1,this.regionDiscovery=new c_(e,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(t){if(t.HostNameAndPort.endsWith(U.CIAM_AUTH_URL))return zt.Ciam;let e=t.PathSegments;if(e.length)switch(e[0].toLowerCase()){case U.ADFS:return zt.Adfs;case U.DSTS:return zt.Dsts}return zt.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(t){this._canonicalAuthority=new Ee(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw G(Ht)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw G(Ht)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw G(Ht)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw G(_o);return this.replacePath(this.metadata.end_session_endpoint)}else throw G(Ht)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw G(Ht)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw G(Ht)}canReplaceTenant(t){return t.PathSegments.length===1&&!r.reservedTenantDomains.has(t.PathSegments[0])&&this.getAuthorityType(t)===zt.Default&&this.protocolMode!==st.OIDC}replaceTenant(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(t){let e=t,n=new Ee(this.metadata.canonical_authority).getUrlComponents(),o=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((l,d)=>{let b=o[d];if(d===0&&this.canReplaceTenant(n)){let s=new Ee(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];b!==s&&(this.logger.verbose(`Replacing tenant domain name ${b} with id ${s}`),b=s)}l!==b&&(e=e.replace(`/${b}/`,`/${l}/`))}),this.replaceTenant(e)}get defaultOpenIdConfigurationEndpoint(){let t=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===zt.Adfs||this.protocolMode===st.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(t)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}resolveEndpointsAsync(){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityResolveEndpointsAsync,this.correlationId);let t=this.getCurrentMetadataEntity(),e=yield B(this.updateCloudDiscoveryMetadata.bind(this),k.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network);let i=yield B(this.updateEndpointMetadata.bind(this),k.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(t);this.updateCachedMetadata(t,e,{source:i}),this.performanceClient?.addFields({cloudDiscoverySource:e,authorityEndpointSource:i},this.correlationId)})}getCurrentMetadataEntity(){let t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return t||(t={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ru(),jwks_uri:""}),t}updateCachedMetadata(t,e,i){e!==jt.CACHE&&i?.source!==jt.CACHE&&(t.expiresAt=Ru(),t.canonical_authority=this.canonicalAuthority);let n=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache);this.cacheManager.setAuthorityMetadata(n,t),this.metadata=t}updateEndpointMetadata(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityUpdateEndpointMetadata,this.correlationId);let e=this.updateEndpointMetadataFromLocalSources(t);if(e){if(e.source===jt.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&e.metadata){let n=yield B(this.updateMetadataWithRegionalInformation.bind(this),k.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(e.metadata);xa(t,n,!1),t.canonical_authority=this.canonicalAuthority}return e.source}let i=yield B(this.getEndpointMetadataFromNetwork.bind(this),k.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(i)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(i=yield B(this.updateMetadataWithRegionalInformation.bind(this),k.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(i)),xa(t,i,!0),jt.NETWORK;throw G(ao,this.defaultOpenIdConfigurationEndpoint)})}updateEndpointMetadataFromLocalSources(t){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let e=this.getEndpointMetadataFromConfig();if(e)return this.logger.verbose("Found endpoint metadata in authority configuration"),xa(t,e,!1),{source:jt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let n=this.getEndpointMetadataFromHardcodedValues();if(n)return xa(t,n,!1),{source:jt.HARDCODED_VALUES,metadata:n};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let i=ku(t);return this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!i?(this.logger.verbose("Found endpoint metadata in the cache."),{source:jt.CACHE}):(i&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(t){return new Ee(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Pe(Do)}return null}getEndpointMetadataFromNetwork(){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let t={},e=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${e}`);try{let i=yield this.networkInterface.sendGetRequestAsync(e,t);return o_(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}})}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Bp?Bp[this.hostnameAndPort]:null}updateMetadataWithRegionalInformation(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let e=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(e){if(e!==U.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Eu.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=e,r.replaceWithRegionalInformation(t,e);let i=yield B(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),k.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(i)return this.regionDiscoveryMetadata.region_outcome=Eu.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=i,r.replaceWithRegionalInformation(t,i);this.regionDiscoveryMetadata.region_outcome=Eu.AUTO_DETECTION_REQUESTED_FAILED}return t})}updateCloudDiscoveryMetadata(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let e=this.updateCloudDiscoveryMetadataFromLocalSources(t);if(e)return e;let i=yield B(this.getCloudDiscoveryMetadataFromNetwork.bind(this),k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(i)return dl(t,i,!0),jt.NETWORK;throw Pe(Mo)})}updateCloudDiscoveryMetadataFromLocalSources(t){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||U.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||U.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${t.canonical_authority||U.NOT_APPLICABLE}`);let e=this.getCloudDiscoveryMetadataFromConfig();if(e)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),dl(t,e,!1),jt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{let n=i_(this.hostnameAndPort);if(n)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),dl(t,n,!1),jt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let i=ku(t);return this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!i?(this.logger.verbose("Found cloud discovery metadata in the cache."),jt.CACHE):(i&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===zt.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=yl(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Pe(_n)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}getCloudDiscoveryMetadataFromNetwork(){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let t=`${U.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,e={},i=null;try{let n=yield this.networkInterface.sendGetRequestAsync(t,e),o,a;if(a_(n.body))o=n.body,a=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else if(s_(n.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${n.status}`),o=n.body,o.error===U.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),i=yl(a,this.hostnameAndPort)}catch(n){if(n instanceof Ae)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${n.errorCode}
Error Description: ${n.errorMessage}`);else{let o=n;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${o.name}
Error Description: ${o.message}`)}return null}return i||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),i=r.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),i})}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&Ee.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(t,e){let i;if(e&&e.azureCloudInstance!==yn.None){let n=e.tenant?e.tenant:U.DEFAULT_COMMON_TENANT;i=`${e.azureCloudInstance}/${n}/`}return i||t}static createCloudDiscoveryMetadataFromHost(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}}getPreferredCache(){if(this.managedIdentity)return U.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw G(Ht)}isAlias(t){return this.metadata.aliases.indexOf(t)>-1}isAliasOfKnownMicrosoftAuthority(t){return jp.has(t)}static isPublicCloudAuthority(t){return U.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0}static buildRegionalAuthorityString(t,e,i){let n=new Ee(t);n.validateAsUri();let o=n.getUrlComponents(),a=`${e}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${e}.${U.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let l=Ee.constructAuthorityUriFromObject(oe(x({},n.getUrlComponents()),{HostNameAndPort:a})).urlString;return i?`${l}?${i}`:l}static replaceWithRegionalInformation(t,e){let i=x({},t);return i.authorization_endpoint=r.buildRegionalAuthorityString(i.authorization_endpoint,e),i.token_endpoint=r.buildRegionalAuthorityString(i.token_endpoint,e),i.end_session_endpoint&&(i.end_session_endpoint=r.buildRegionalAuthorityString(i.end_session_endpoint,e)),i}static transformCIAMAuthority(t){let e=t,n=new Ee(t).getUrlComponents();if(n.PathSegments.length===0&&n.HostNameAndPort.endsWith(U.CIAM_AUTH_URL)){let o=n.HostNameAndPort.split(".")[0];e=`${e}${o}${U.AAD_TENANT_DOMAIN_SUFFIX}`}return e}};Ei.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Ni.COMMON,Ni.CONSUMERS,Ni.ORGANIZATIONS]);function l_(r){let i=new Ee(r).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(i){case Ni.COMMON:case Ni.ORGANIZATIONS:case Ni.CONSUMERS:return;default:return i}}function Uu(r){return r.endsWith(U.FORWARD_SLASH)?r:`${r}${U.FORWARD_SLASH}`}function Bf(r){let t=r.cloudDiscoveryMetadata,e;if(t)try{e=JSON.parse(t)}catch{throw Pe(_n)}return{canonicalAuthority:r.authority?Uu(r.authority):void 0,knownAuthorities:r.knownAuthorities,cloudDiscoveryMetadata:e}}function Uf(r,t,e,i,n,o,a){return O(this,null,function*(){a?.addQueueMeasurement(k.AuthorityFactoryCreateDiscoveredInstance,o);let l=Ei.transformCIAMAuthority(Uu(r)),d=new Ei(l,t,e,i,n,o,a);try{return yield B(d.resolveEndpointsAsync.bind(d),k.AuthorityResolveEndpointsAsync,n,a,o)(),d}catch{throw G(Ht)}})}var ii=class r extends Ae{constructor(t,e,i,n,o){super(t,e,i),this.name="ServerError",this.errorNo=n,this.status=o,Object.setPrototypeOf(this,r.prototype)}};function jr(r,t,e){return{clientId:r,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:e,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}var Hr=class r{static generateThrottlingStorageKey(t){return`${Rr.THROTTLING_PREFIX}.${JSON.stringify(t)}`}static preProcess(t,e){let i=r.generateThrottlingStorageKey(e),n=t.getThrottlingCache(i);if(n){if(n.throttleTime<Date.now()){t.removeItem(i);return}throw new ii(n.errorCodes?.join(" ")||U.EMPTY_STRING,n.errorMessage,n.subError)}}static postProcess(t,e,i){if(r.checkResponseStatus(i)||r.checkResponseForRetryAfter(i)){let n={throttleTime:r.calculateThrottleTime(parseInt(i.headers[wt.RETRY_AFTER])),error:i.body.error,errorCodes:i.body.error_codes,errorMessage:i.body.error_description,subError:i.body.suberror};t.setThrottlingCache(r.generateThrottlingStorageKey(e),n)}}static checkResponseStatus(t){return t.status===429||t.status>=500&&t.status<600}static checkResponseForRetryAfter(t){return t.headers?t.headers.hasOwnProperty(wt.RETRY_AFTER)&&(t.status<200||t.status>=300):!1}static calculateThrottleTime(t){let e=t<=0?0:t,i=Date.now()/1e3;return Math.floor(Math.min(i+(e||Rr.DEFAULT_THROTTLE_TIME_SECONDS),i+Rr.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(t,e,i,n){let o=jr(e,i,n),a=this.generateThrottlingStorageKey(o);t.removeItem(a)}};var Ba=class r extends Ae{constructor(t,e,i){super(t.errorCode,t.errorMessage,t.subError),Object.setPrototypeOf(this,r.prototype),this.name="NetworkError",this.error=t,this.httpStatus=e,this.responseHeaders=i}};function jo(r,t,e,i){return r.errorMessage=`${r.errorMessage}, additionalErrorInfo: error.name:${i?.name}, error.message:${i?.message}`,new Ba(r,t,e)}var En=class{constructor(t,e){this.config=r_(t),this.logger=new ei(this.config.loggerOptions,Iu,Ma),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=e}createTokenRequestHeaders(t){let e={};if(e[wt.CONTENT_TYPE]=U.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case Lt.HOME_ACCOUNT_ID:try{let i=rr(t.credential);e[wt.CCS_HEADER]=`Oid:${i.uid}@${i.utid}`}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Lt.UPN:e[wt.CCS_HEADER]=`UPN: ${t.credential}`;break}return e}executePostToTokenEndpoint(t,e,i,n,o,a){return O(this,null,function*(){a&&this.performanceClient?.addQueueMeasurement(a,o);let l=yield this.sendPostRequest(n,t,{body:e,headers:i},o);return this.config.serverTelemetryManager&&l.status<500&&l.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),l})}sendPostRequest(t,e,i,n){return O(this,null,function*(){Hr.preProcess(this.cacheManager,t);let o;try{o=yield B(this.networkClient.sendPostRequestAsync.bind(this.networkClient),k.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,n)(e,i);let a=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:a[wt.X_MS_HTTP_VERSION]||"",requestId:a[wt.X_MS_REQUEST_ID]||""},n)}catch(a){if(a instanceof Ba){let l=a.responseHeaders;throw l&&this.performanceClient?.addFields({httpVerToken:l[wt.X_MS_HTTP_VERSION]||"",requestId:l[wt.X_MS_REQUEST_ID]||"",contentTypeHeader:l[wt.CONTENT_TYPE]||void 0,contentLengthHeader:l[wt.CONTENT_LENGTH]||void 0,httpStatus:a.httpStatus},n),a.error}throw a instanceof Ae?a:G(oo)}return Hr.postProcess(this.cacheManager,t,o),o})}updateAuthority(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.UpdateTokenEndpointAuthority,e);let i=`https://${t}/${this.authority.tenant}/`,n=yield Uf(i,this.networkClient,this.cacheManager,this.authority.options,this.logger,e,this.performanceClient);this.authority=n})}createTokenQueryParameters(t){let e=new Map;return t.embeddedClientId&&Ur(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenQueryParameters&&Br(e,t.tokenQueryParameters),Bo(e,t.correlationId),xo(e,t.correlationId,this.performanceClient),nr(e)}};var zr={};oi(zr,{badToken:()=>An,consentRequired:()=>Hf,interactionRequired:()=>jf,loginRequired:()=>zf,nativeAccountUnavailable:()=>Fl,noTokensFound:()=>Sn,refreshTokenExpired:()=>Nl});var Sn="no_tokens_found",Fl="native_account_unavailable",Nl="refresh_token_expired",jf="interaction_required",Hf="consent_required",zf="login_required",An="bad_token";var d_=[jf,Hf,zf,An],II=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Hu={[Sn]:"No refresh token found in the cache. Please sign-in.",[Fl]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Nl]:"Refresh token has expired.",[An]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."},u_={noTokensFoundError:{code:Sn,desc:Hu[Sn]},native_account_unavailable:{code:Fl,desc:Hu[Fl]},bad_token:{code:An,desc:Hu[An]}},At=class r extends Ae{constructor(t,e,i,n,o,a,l,d){super(t,e,i),Object.setPrototypeOf(this,r.prototype),this.timestamp=n||U.EMPTY_STRING,this.traceId=o||U.EMPTY_STRING,this.correlationId=a||U.EMPTY_STRING,this.claims=l||U.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=d}};function zu(r,t,e){let i=!!r&&d_.indexOf(r)>-1,n=!!e&&II.indexOf(e)>-1,o=!!t&&d_.some(a=>t.indexOf(a)>-1);return i||o||n}function Ua(r){return new At(r,Hu[r])}var Li=class r{static setRequestState(t,e,i){let n=r.generateLibraryState(t,i);return e?`${n}${U.RESOURCE_DELIM}${e}`:n}static generateLibraryState(t,e){if(!t)throw G(vn);let i={id:t.createNewGuid()};e&&(i.meta=e);let n=JSON.stringify(i);return t.base64Encode(n)}static parseRequestState(t,e){if(!t)throw G(vn);if(!e)throw G(Vi);try{let i=e.split(U.RESOURCE_DELIM),n=i[0],o=i.length>1?i.slice(1).join(U.RESOURCE_DELIM):U.EMPTY_STRING,a=t.base64Decode(n),l=JSON.parse(a);return{userRequestState:o||U.EMPTY_STRING,libraryState:l}}catch{throw G(Vi)}}};var TI={SW:"sw",UHW:"uhw"},ri=class{constructor(t,e){this.cryptoUtils=t,this.performanceClient=e}generateCnf(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.PopTokenGenerateCnf,t.correlationId);let i=yield B(this.generateKid.bind(this),k.PopTokenGenerateCnf,e,this.performanceClient,t.correlationId)(t),n=this.cryptoUtils.base64UrlEncode(JSON.stringify(i));return{kid:i.kid,reqCnfString:n}})}generateKid(t){return O(this,null,function*(){return this.performanceClient?.addQueueMeasurement(k.PopTokenGenerateKid,t.correlationId),{kid:yield this.cryptoUtils.getPublicKeyThumbprint(t),xms_ksl:TI.SW}})}signPopToken(t,e,i){return O(this,null,function*(){return this.signPayload(t,e,i)})}signPayload(t,e,i,n){return O(this,null,function*(){let{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:l,shrNonce:d,shrOptions:b}=i,E=(a?new Ee(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt(x({at:t,ts:fi(),m:o?.toUpperCase(),u:E?.HostNameAndPort,nonce:d||this.cryptoUtils.createNewGuid(),p:E?.AbsolutePath,q:E?.QueryString?[[],E.QueryString]:void 0,client_claims:l||void 0},n),e,b,i.correlationId)})}};var $u=class{constructor(t,e){this.cache=t,this.hasChanged=e}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}};var Bi=class r{constructor(t,e,i,n,o,a,l){this.clientId=t,this.cacheStorage=e,this.cryptoObj=i,this.logger=n,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=l}validateTokenResponse(t,e){if(t.error||t.error_description||t.suberror){let i=`Error(s): ${t.error_codes||U.NOT_AVAILABLE} - Timestamp: ${t.timestamp||U.NOT_AVAILABLE} - Description: ${t.error_description||U.NOT_AVAILABLE} - Correlation ID: ${t.correlation_id||U.NOT_AVAILABLE} - Trace ID: ${t.trace_id||U.NOT_AVAILABLE}`,n=t.error_codes?.length?t.error_codes[0]:void 0,o=new ii(t.error,i,t.suberror,n,t.status);if(e&&t.status&&t.status>=Ta.SERVER_ERROR_RANGE_START&&t.status<=Ta.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${o}`);return}else if(e&&t.status&&t.status>=Ta.CLIENT_ERROR_RANGE_START&&t.status<=Ta.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${o}`);return}throw zu(t.error,t.error_description,t.suberror)?new At(t.error,t.error_description,t.suberror,t.timestamp||U.EMPTY_STRING,t.trace_id||U.EMPTY_STRING,t.correlation_id||U.EMPTY_STRING,t.claims||U.EMPTY_STRING,n):o}}handleServerTokenResponse(t,e,i,n,o,a,l,d,b){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.HandleServerTokenResponse,t.correlation_id);let s;if(t.id_token){if(s=Pr(t.id_token||U.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&s.nonce!==o.nonce)throw G(lo);if(n.maxAge||n.maxAge===0){let _=s.auth_time;if(!_)throw G(kr);sl(_,n.maxAge)}}this.homeAccountIdentifier=ft.generateHomeAccountId(t.client_info||U.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,s);let E;o&&o.state&&(E=Li.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||n.sshKid||void 0;let w=this.generateCacheRecord(t,e,i,n,s,a,o),v;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),v=new $u(this.serializableCache,!0),yield this.persistencePlugin.beforeCacheAccess(v)),l&&!d&&w.account){let _=w.account.generateAccountKey();if(!this.cacheStorage.getAccount(_))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),yield r.generateAuthenticationResult(this.cryptoObj,e,w,!1,n,s,E,void 0,b)}yield this.cacheStorage.saveCacheRecord(w,n.correlationId,n.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&v&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),yield this.persistencePlugin.afterCacheAccess(v))}return r.generateAuthenticationResult(this.cryptoObj,e,w,!1,n,s,E,t,b)})}generateCacheRecord(t,e,i,n,o,a,l){let d=e.getPreferredCache();if(!d)throw G(Mr);let b=Du(o),s,E;t.id_token&&o&&(s=xp(this.homeAccountIdentifier,d,t.id_token,this.clientId,b||""),E=ja(this.cacheStorage,e,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,t.client_info,d,b,l,void 0,this.logger));let w=null;if(t.access_token){let c=t.scope?Xe.fromString(t.scope):new Xe(n.scopes||[]),f=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,C=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,y=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,h=i+f,u=h+C,g=y&&y>0?i+y:void 0;w=Fp(this.homeAccountIdentifier,d,t.access_token,this.clientId,b||e.tenant||"",c.printScopes(),h,u,this.cryptoObj.base64Decode,g,t.token_type,a,t.key_id,n.claims,n.requestedClaimsHash)}let v=null;if(t.refresh_token){let c;if(t.refresh_token_expires_in){let f=typeof t.refresh_token_expires_in=="string"?parseInt(t.refresh_token_expires_in,10):t.refresh_token_expires_in;c=i+f}v=Np(this.homeAccountIdentifier,d,t.refresh_token,this.clientId,t.foci,a,c)}let _=null;return t.foci&&(_={clientId:this.clientId,environment:d,familyId:t.foci}),{account:E,idToken:s,accessToken:w,refreshToken:v,appMetadata:_}}static generateAuthenticationResult(t,e,i,n,o,a,l,d,b){return O(this,null,function*(){let s=U.EMPTY_STRING,E=[],w=null,v,_,c=U.EMPTY_STRING;if(i.accessToken){if(i.accessToken.tokenType===Fe.POP&&!o.popKid){let h=new ri(t),{secret:u,keyId:g}=i.accessToken;if(!g)throw G(wo);s=yield h.signPopToken(u,g,o)}else s=i.accessToken.secret;E=Xe.fromString(i.accessToken.target).asArray(),w=cl(i.accessToken.expiresOn),v=cl(i.accessToken.extendedExpiresOn),i.accessToken.refreshOn&&(_=cl(i.accessToken.refreshOn))}i.appMetadata&&(c=i.appMetadata.familyId===hn?hn:"");let f=a?.oid||a?.sub||"",C=a?.tid||"";d?.spa_accountid&&i.account&&(i.account.nativeAccountId=d?.spa_accountid);let y=i.account?Oo(i.account.getAccountInfo(),void 0,a,i.idToken?.secret):null;return{authority:e.canonicalAuthority,uniqueId:f,tenantId:C,scopes:E,account:y,idToken:i?.idToken?.secret||"",idTokenClaims:a||{},accessToken:s,fromCache:n,expiresOn:w,extExpiresOn:v,refreshOn:_,correlationId:o.correlationId,requestId:b||U.EMPTY_STRING,familyId:c,tokenType:i.accessToken?.tokenType||U.EMPTY_STRING,state:l?l.userRequestState:U.EMPTY_STRING,cloudGraphHostName:i.account?.cloudGraphHostName||U.EMPTY_STRING,msGraphHost:i.account?.msGraphHost||U.EMPTY_STRING,code:d?.spa_code,fromNativeBroker:!1}})}};function ja(r,t,e,i,n,o,a,l,d,b,s){s?.verbose("setCachedAccount called");let w=r.getAccountKeys().find(C=>C.startsWith(e)),v=null;w&&(v=r.getAccount(w));let _=v||ft.createAccount({homeAccountId:e,idTokenClaims:n,clientInfo:o,environment:a,cloudGraphHostName:d?.cloud_graph_host_name,msGraphHost:d?.msgraph_host,nativeAccountId:b},t,i),c=_.tenantProfiles||[],f=l||_.realm;if(f&&!c.find(C=>C.tenantId===f)){let C=Na(e,_.localAccountId,f,n);c.push(C)}return _.tenantProfiles=c,_}var Gu=class{static validateRedirectUri(t){if(!t)throw Pe(Co)}static validatePrompt(t){let e=[];for(let i in it)e.push(it[i]);if(e.indexOf(t)<0)throw Pe(Io)}static validateClaims(t){try{JSON.parse(t)}catch{throw Pe(ir)}}static validateCodeChallengeParams(t,e){if(!t||!e)throw Pe(xr);this.validateCodeChallengeMethod(e)}static validateCodeChallengeMethod(t){if([yu.PLAIN,yu.S256].indexOf(t)<0)throw Pe(ko)}};function qu(r,t,e){return O(this,null,function*(){return typeof r=="string"?r:r({clientId:t,tokenEndpoint:e})})}var Ho=class extends En{constructor(t,e){super(t,e),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}acquireToken(t,e){return O(this,null,function*(){if(this.performanceClient?.addQueueMeasurement(k.AuthClientAcquireToken,t.correlationId),!t.code)throw G(mo);let i=fi(),n=yield B(this.executeTokenRequest.bind(this),k.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(this.authority,t),o=n.headers?.[wt.X_MS_REQUEST_ID],a=new Bi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(n.body),B(a.handleServerTokenResponse.bind(a),k.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(n.body,this.authority,i,t,e,void 0,void 0,void 0,o)})}getLogoutUri(t){if(!t)throw Pe(Ro);let e=this.createLogoutUrlQueryString(t);return Ee.appendQueryString(this.authority.endSessionEndpoint,e)}executeTokenRequest(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthClientExecuteTokenRequest,e.correlationId);let i=this.createTokenQueryParameters(e),n=Ee.appendQueryString(t.tokenEndpoint,i),o=yield B(this.createTokenRequestBody.bind(this),k.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a;if(e.clientInfo)try{let b=Fa(e.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${b.uid}${pt.CLIENT_INFO_SEPARATOR}${b.utid}`,type:Lt.HOME_ACCOUNT_ID}}catch(b){this.logger.verbose("Could not parse client info for CCS Header: "+b)}let l=this.createTokenRequestHeaders(a||e.ccsCredential),d=jr(this.config.authOptions.clientId,e);return B(this.executePostToTokenEndpoint.bind(this),k.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(n,o,l,d,e.correlationId,k.AuthorizationCodeClientExecutePostToTokenEndpoint)})}createTokenRequestBody(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.AuthClientCreateTokenRequestBody,t.correlationId);let e=new Map;if(No(e,t.embeddedClientId||t.tokenBodyParameters?.[or]||this.config.authOptions.clientId),this.includeRedirectUri?Vo(e,t.redirectUri):Gu.validateRedirectUri(t.redirectUri),Fo(e,t.scopes,!0,this.oidcDefaultScopes),xf(e,t.code),El(e,this.config.libraryInfo),Sl(e,this.config.telemetry.application),xl(e),this.serverTelemetryManager&&!Pu(this.config)&&Pl(e,this.serverTelemetryManager),t.codeVerifier&&Nf(e,t.codeVerifier),this.config.clientCredentials.clientSecret&&Il(e,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let n=this.config.clientCredentials.clientAssertion;Tl(e,yield qu(n.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Rl(e,n.assertionType)}if(kl(e,Uc.AUTHORIZATION_CODE_GRANT),Uo(e),t.authenticationScheme===Fe.POP){let n=new ri(this.cryptoUtils,this.performanceClient),o;t.popKid?o=this.cryptoUtils.encodeKid(t.popKid):o=(yield B(n.generateCnf.bind(n),k.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ml(e,o)}else if(t.authenticationScheme===Fe.SSH)if(t.sshJwk)Ol(e,t.sshJwk);else throw Pe(Fr);(!at.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Lo(e,t.claims,this.config.authOptions.clientCapabilities);let i;if(t.clientInfo)try{let n=Fa(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${n.uid}${pt.CLIENT_INFO_SEPARATOR}${n.utid}`,type:Lt.HOME_ACCOUNT_ID}}catch(n){this.logger.verbose("Could not parse client info for CCS Header: "+n)}else i=t.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Lt.HOME_ACCOUNT_ID:try{let n=rr(i.credential);Lr(e,n)}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Lt.UPN:Cn(e,i.credential);break}return t.embeddedClientId&&Ur(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&Br(e,t.tokenBodyParameters),t.enableSpaAuthorizationCode&&(!t.tokenBodyParameters||!t.tokenBodyParameters[Vu])&&Br(e,{[Vu]:"1"}),xo(e,t.correlationId,this.performanceClient),nr(e)})}createLogoutUrlQueryString(t){let e=new Map;return t.postLogoutRedirectUri&&kf(e,t.postLogoutRedirectUri),t.correlationId&&Bo(e,t.correlationId),t.idTokenHint&&Df(e,t.idTokenHint),t.state&&Al(e,t.state),t.logoutHint&&Vf(e,t.logoutHint),t.extraQueryParameters&&Br(e,t.extraQueryParameters),this.config.authOptions.instanceAware&&Dl(e),nr(e,this.config.authOptions.encodeExtraQueryParams,t.extraQueryParameters)}};var RI=300,Vl=class extends En{constructor(t,e){super(t,e)}acquireToken(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RefreshTokenClientAcquireToken,t.correlationId);let e=fi(),i=yield B(this.executeTokenRequest.bind(this),k.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,t.correlationId)(t,this.authority),n=i.headers?.[wt.X_MS_REQUEST_ID],o=new Bi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(i.body),B(o.handleServerTokenResponse.bind(o),k.HandleServerTokenResponse,this.logger,this.performanceClient,t.correlationId)(i.body,this.authority,e,t,void 0,void 0,!0,t.forceCache,n)})}acquireTokenByRefreshToken(t){return O(this,null,function*(){if(!t)throw Pe(To);if(this.performanceClient?.addQueueMeasurement(k.RefreshTokenClientAcquireTokenByRefreshToken,t.correlationId),!t.account)throw G(Dr);if(this.cacheManager.isAppMetadataFOCI(t.account.environment))try{return yield B(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!0)}catch(i){let n=i instanceof At&&i.errorCode===Sn,o=i instanceof ii&&i.errorCode===wu.INVALID_GRANT_ERROR&&i.subError===wu.CLIENT_MISMATCH_ERROR;if(n||o)return B(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1);throw i}return B(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,!1)})}acquireTokenWithCachedRefreshToken(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,t.correlationId);let i=St(this.cacheManager.getRefreshToken.bind(this.cacheManager),k.CacheManagerGetRefreshToken,this.logger,this.performanceClient,t.correlationId)(t.account,e,void 0,this.performanceClient,t.correlationId);if(!i)throw Ua(Sn);if(i.expiresOn&&Pa(i.expiresOn,t.refreshTokenExpirationOffsetSeconds||RI))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},t.correlationId),Ua(Nl);let n=oe(x({},t),{refreshToken:i.secret,authenticationScheme:t.authenticationScheme||Fe.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:Lt.HOME_ACCOUNT_ID}});try{return yield B(this.acquireToken.bind(this),k.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(n)}catch(o){if(o instanceof At&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(i.expiresOn)},t.correlationId),o.subError===An)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let a=ll(i);this.cacheManager.removeRefreshToken(a)}throw o}})}executeTokenRequest(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RefreshTokenClientExecuteTokenRequest,t.correlationId);let i=this.createTokenQueryParameters(t),n=Ee.appendQueryString(e.tokenEndpoint,i),o=yield B(this.createTokenRequestBody.bind(this),k.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t),a=this.createTokenRequestHeaders(t.ccsCredential),l=jr(this.config.authOptions.clientId,t);return B(this.executePostToTokenEndpoint.bind(this),k.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(n,o,a,l,t.correlationId,k.RefreshTokenClientExecutePostToTokenEndpoint)})}createTokenRequestBody(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.RefreshTokenClientCreateTokenRequestBody,t.correlationId);let e=new Map;if(No(e,t.embeddedClientId||t.tokenBodyParameters?.[or]||this.config.authOptions.clientId),t.redirectUri&&Vo(e,t.redirectUri),Fo(e,t.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),kl(e,Uc.REFRESH_TOKEN_GRANT),Uo(e),El(e,this.config.libraryInfo),Sl(e,this.config.telemetry.application),xl(e),this.serverTelemetryManager&&!Pu(this.config)&&Pl(e,this.serverTelemetryManager),Ff(e,t.refreshToken),this.config.clientCredentials.clientSecret&&Il(e,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let i=this.config.clientCredentials.clientAssertion;Tl(e,yield qu(i.assertion,this.config.authOptions.clientId,t.resourceRequestUri)),Rl(e,i.assertionType)}if(t.authenticationScheme===Fe.POP){let i=new ri(this.cryptoUtils,this.performanceClient),n;t.popKid?n=this.cryptoUtils.encodeKid(t.popKid):n=(yield B(i.generateCnf.bind(i),k.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(t,this.logger)).reqCnfString,Ml(e,n)}else if(t.authenticationScheme===Fe.SSH)if(t.sshJwk)Ol(e,t.sshJwk);else throw Pe(Fr);if((!at.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Lo(e,t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.ccsCredential)switch(t.ccsCredential.type){case Lt.HOME_ACCOUNT_ID:try{let i=rr(t.ccsCredential.credential);Lr(e,i)}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case Lt.UPN:Cn(e,t.ccsCredential.credential);break}return t.embeddedClientId&&Ur(e,this.config.authOptions.clientId,this.config.authOptions.redirectUri),t.tokenBodyParameters&&Br(e,t.tokenBodyParameters),xo(e,t.correlationId,this.performanceClient),nr(e)})}};var Ll=class extends En{constructor(t,e){super(t,e)}acquireCachedToken(t){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.SilentFlowClientAcquireCachedToken,t.correlationId);let e=er.NOT_APPLICABLE;if(t.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!at.isEmptyObj(t.claims))throw this.setCacheOutcome(er.FORCE_REFRESH_OR_CLAIMS,t.correlationId),G(Or);if(!t.account)throw G(Dr);let i=t.account.tenantId||l_(t.authority),n=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(t.account,t,n,i,this.performanceClient,t.correlationId);if(o){if(Pp(o.cachedAt)||Pa(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(er.CACHED_ACCESS_TOKEN_EXPIRED,t.correlationId),G(Or);o.refreshOn&&Pa(o.refreshOn,0)&&(e=er.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(er.NO_CACHED_ACCESS_TOKEN,t.correlationId),G(Or);let a=t.authority||this.authority.getPreferredCache(),l={account:this.cacheManager.readAccountFromCache(t.account),accessToken:o,idToken:this.cacheManager.getIdToken(t.account,n,i,this.performanceClient,t.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(e,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[yield B(this.generateResultFromCacheRecord.bind(this),k.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,t.correlationId)(l,t),e]})}setCacheOutcome(t,e){this.serverTelemetryManager?.setCacheOutcome(t),this.performanceClient?.addFields({cacheOutcome:t},e),t!==er.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${t}`)}generateResultFromCacheRecord(t,e){return O(this,null,function*(){this.performanceClient?.addQueueMeasurement(k.SilentFlowClientGenerateResultFromCacheRecord,e.correlationId);let i;if(t.idToken&&(i=Pr(t.idToken.secret,this.config.cryptoInterface.base64Decode)),e.maxAge||e.maxAge===0){let n=i?.auth_time;if(!n)throw G(kr);sl(n,e.maxAge)}return Bi.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,e,i)})}};var $f={sendGetRequestAsync:()=>Promise.reject(G(ke)),sendPostRequestAsync:()=>Promise.reject(G(ke))};var $r={};oi($r,{getAuthorizationCodePayload:()=>MI,getAuthorizeUrl:()=>DI,getStandardAuthorizeRequestParameters:()=>kI,validateAuthorizationResponse:()=>h_});function kI(r,t,e,i){let n=t.correlationId,o=new Map;No(o,t.embeddedClientId||t.extraQueryParameters?.[or]||r.clientId);let a=[...t.scopes||[],...t.extraScopesToConsent||[]];if(Fo(o,a,!0,r.authority.options.OIDCOptions?.defaultScopes),Vo(o,t.redirectUri),Bo(o,n),Rf(o,t.responseMode),Uo(o),t.prompt&&(Of(o,t.prompt),i?.addFields({prompt:t.prompt},n)),t.domainHint&&(Mf(o,t.domainHint),i?.addFields({domainHintFromRequest:!0},n)),t.prompt!==it.SELECT_ACCOUNT)if(t.sid&&t.prompt===it.NONE)e.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Bu(o,t.sid),i?.addFields({sidFromRequest:!0},n);else if(t.account){let l=PI(t.account),d=xI(t.account);if(d&&t.domainHint&&(e.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),d=null),d){e.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),La(o,d),i?.addFields({loginHintFromClaim:!0},n);try{let b=rr(t.account.homeAccountId);Lr(o,b)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(l&&t.prompt===it.NONE){e.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Bu(o,l),i?.addFields({sidFromClaim:!0},n);try{let b=rr(t.account.homeAccountId);Lr(o,b)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)e.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),La(o,t.loginHint),Cn(o,t.loginHint),i?.addFields({loginHintFromRequest:!0},n);else if(t.account.username){e.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),La(o,t.account.username),i?.addFields({loginHintFromUpn:!0},n);try{let b=rr(t.account.homeAccountId);Lr(o,b)}catch{e.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(e.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),La(o,t.loginHint),Cn(o,t.loginHint),i?.addFields({loginHintFromRequest:!0},n));else e.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return t.nonce&&Pf(o,t.nonce),t.state&&Al(o,t.state),(t.claims||r.clientCapabilities&&r.clientCapabilities.length>0)&&Lo(o,t.claims,r.clientCapabilities),t.embeddedClientId&&Ur(o,r.clientId,r.redirectUri),r.instanceAware&&(!t.extraQueryParameters||!Object.keys(t.extraQueryParameters).includes(Va))&&Dl(o),o}function DI(r,t,e,i){let n=nr(t,e,i);return Ee.appendQueryString(r.authorizationEndpoint,n)}function MI(r,t){if(h_(r,t),!r.code)throw G(bo);return r}function h_(r,t){if(!r.state||!t)throw r.state?G(fn,"Cached State"):G(fn,"Server State");let e,i;try{e=decodeURIComponent(r.state)}catch{throw G(Vi,r.state)}try{i=decodeURIComponent(t)}catch{throw G(Vi,r.state)}if(e!==i)throw G(co);if(r.error||r.error_description||r.suberror){let n=OI(r);throw zu(r.error,r.error_description,r.suberror)?new At(r.error||"",r.error_description,r.suberror,r.timestamp||"",r.trace_id||"",r.correlation_id||"",r.claims||"",n):new ii(r.error||"",r.error_description,r.suberror,n)}}function OI(r){let t="code=",e=r.error_uri?.lastIndexOf(t);return e&&e>=0?r.error_uri?.substring(e+t.length):void 0}function PI(r){return r.idTokenClaims?.sid||null}function xI(r){return r.idTokenClaims?.login_hint||null}var m_=",",p_="|";function FI(r){let{skus:t,libraryName:e,libraryVersion:i,extensionName:n,extensionVersion:o}=r,a=new Map([[0,[e,i]],[2,[n,o]]]),l=[];if(t?.length){if(l=t.split(m_),l.length<4)return t}else l=Array.from({length:4},()=>p_);return a.forEach((d,b)=>{d.length===2&&d[0]?.length&&d[1]?.length&&NI({skuArr:l,index:b,skuName:d[0],skuVersion:d[1]})}),l.join(m_)}function NI(r){let{skuArr:t,index:e,skuName:i,skuVersion:n}=r;e>=t.length||(t[e]=[i,n].join(p_))}var zo=class r{constructor(t,e){this.cacheOutcome=er.NOT_APPLICABLE,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||U.EMPTY_STRING,this.wrapperVer=t.wrapperVer||U.EMPTY_STRING,this.telemetryCacheKey=It.CACHE_KEY+pt.CACHE_KEY_SEPARATOR+t.clientId}generateCurrentRequestHeaderValue(){let t=`${this.apiId}${It.VALUE_SEPARATOR}${this.cacheOutcome}`,e=[this.wrapperSKU,this.wrapperVer],i=this.getNativeBrokerErrorCode();i?.length&&e.push(`broker_error=${i}`);let n=e.join(It.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),a=[t,o].join(It.VALUE_SEPARATOR);return[It.SCHEMA_VERSION,a,n].join(It.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let t=this.getLastRequests(),e=r.maxErrorsToSend(t),i=t.failedRequests.slice(0,2*e).join(It.VALUE_SEPARATOR),n=t.errors.slice(0,e).join(It.VALUE_SEPARATOR),o=t.errors.length,a=e<o?It.OVERFLOW_TRUE:It.OVERFLOW_FALSE,l=[o,a].join(It.VALUE_SEPARATOR);return[It.SCHEMA_VERSION,t.cacheHits,i,n,l].join(It.CATEGORY_SEPARATOR)}cacheFailedRequest(t){let e=this.getLastRequests();e.errors.length>=It.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),t instanceof Error&&t&&t.toString()?t instanceof Ae?t.subError?e.errors.push(t.subError):t.errorCode?e.errors.push(t.errorCode):e.errors.push(t.toString()):e.errors.push(t.toString()):e.errors.push(It.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}incrementCacheHits(){let t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits}getLastRequests(){let t={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t}clearTelemetryCache(){let t=this.getLastRequests(),e=r.maxErrorsToSend(t),i=t.errors.length;if(e===i)this.cacheManager.removeItem(this.telemetryCacheKey);else{let n={failedRequests:t.failedRequests.slice(e*2),errors:t.errors.slice(e),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(t){let e,i=0,n=0,o=t.errors.length;for(e=0;e<o;e++){let a=t.failedRequests[2*e]||U.EMPTY_STRING,l=t.failedRequests[2*e+1]||U.EMPTY_STRING,d=t.errors[e]||U.EMPTY_STRING;if(n+=a.toString().length+l.toString().length+d.length+3,n<It.MAX_LAST_HEADER_BYTES)i+=1;else break}return i}getRegionDiscoveryFields(){let t=[];return t.push(this.regionUsed||U.EMPTY_STRING),t.push(this.regionSource||U.EMPTY_STRING),t.push(this.regionOutcome||U.EMPTY_STRING),t.join(",")}updateRegionDiscoveryMetadata(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome}setCacheOutcome(t){this.cacheOutcome=t}setNativeBrokerErrorCode(t){let e=this.getLastRequests();e.nativeBrokerErrorCode=t,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let t=this.getLastRequests();delete t.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}static makeExtraSkuString(t){return FI(t)}};var Ku="missing_kid_error",Wu="missing_alg_error";var VI={[Ku]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Wu]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."},Gf=class r extends Ae{constructor(t,e){super(t,e),this.name="JoseHeaderError",Object.setPrototypeOf(this,r.prototype)}};function qf(r){return new Gf(r,VI[r])}var Bl=class r{constructor(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}static getShrHeaderString(t){if(!t.kid)throw qf(Ku);if(!t.alg)throw qf(Wu);let e=new r({typ:t.typ||Su.Pop,kid:t.kid,alg:t.alg});return JSON.stringify(e)}};var Yu=class{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}},Ha=class{generateId(){return"callback-id"}startMeasurement(t,e){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Lf.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:t,startTimeMs:Date.now(),correlationId:e||""},measurement:new Yu}}startPerformanceMeasurement(){return new Yu}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}};var $o="pkce_not_created",Ul="ear_jwk_empty",Qu="ear_jwe_empty",Go="crypto_nonexistent",ar="empty_navigate_uri",za="hash_empty_error",In="no_state_in_hash",$a="hash_does_not_contain_known_properties",Ga="unable_to_parse_state",qa="state_interaction_type_mismatch",Ka="interaction_in_progress",Wa="popup_window_error",Ya="empty_window_error",Ui="user_cancelled",Ju="monitor_popup_timeout",Qa="monitor_window_timeout",Ja="redirect_in_iframe",Xa="block_iframe_reload",Za="block_nested_popups",Xu="iframe_closed_prematurely",sr="silent_logout_unsupported",es="no_account_error",Zu="silent_prompt_value_error",ts="no_token_request_cache_error",is="unable_to_parse_token_request_cache_error",eh="auth_request_not_set_error",th="invalid_cache_type",cr="non_browser_environment",lr="database_not_open",Gr="no_network_connectivity",rs="post_request_failed",ns="get_request_failed",qo="failed_to_parse_response",os="unable_to_load_token",Tn="crypto_key_not_found",as="auth_code_required",ss="auth_code_or_nativeAccountId_required",cs="spa_code_and_nativeAccountId_present",Rn="database_unavailable",ls="unable_to_acquire_token_from_native_platform",ds="native_handshake_timeout",us="native_extension_not_installed",kn="native_connection_not_established",qr="uninitialized_public_client_application",hs="native_prompt_not_supported",ms="invalid_base64_string",ps="invalid_pop_token_request",ih="failed_to_build_headers",rh="failed_to_parse_headers",fs="failed_to_decrypt_ear_response";var Kr="For more visit: aka.ms/msaljs/browser-errors",Se={[$o]:"The PKCE code challenge and verifier could not be generated.",[Ul]:"No EAR encryption key provided. This is unexpected.",[Qu]:"Server response does not contain ear_jwe property. This is unexpected.",[Go]:"The crypto object or function is not available.",[ar]:"Navigation URI is empty. Please check stack trace for more info.",[za]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Kr}`,[In]:"Hash does not contain state. Please verify that the request originated from msal.",[$a]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Kr}`,[Ga]:"Unable to parse state. Please verify that the request originated from msal.",[qa]:"Hash contains state but the interaction type does not match the caller.",[Ka]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Kr}`,[Wa]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Ya]:"window.open returned null or undefined window object.",[Ui]:"User cancelled the flow.",[Ju]:`Token acquisition in popup failed due to timeout.  ${Kr}`,[Qa]:`Token acquisition in iframe failed due to timeout.  ${Kr}`,[Ja]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Xa]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Kr}`,[Za]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Xu]:"The iframe being monitored was closed prematurely.",[sr]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[es]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Zu]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ts]:"No token request found in cache.",[is]:"The cached token request could not be parsed.",[eh]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[th]:"Invalid cache type",[cr]:"Login and token requests are not supported in non-browser environments.",[lr]:"Database is not open!",[Gr]:"No network connectivity. Check your internet connection.",[rs]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[ns]:"Network request failed. Please check the network trace to determine root cause.",[qo]:"Failed to parse network response. Check network trace.",[os]:"Error loading token to cache.",[Tn]:"Cryptographic Key or Keypair not found in browser storage.",[as]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ss]:"An authorization code or nativeAccountId must be provided to this flow.",[cs]:"Request cannot contain both spa code and native account id.",[Rn]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ls]:`Unable to acquire token from native platform.  ${Kr}`,[ds]:"Timed out while attempting to establish connection to browser extension",[us]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[kn]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Kr}`,[qr]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Kr}`,[hs]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[ms]:"Invalid base64 encoded string.",[ps]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[ih]:"Failed to build request headers object.",[rh]:"Failed to parse response headers",[fs]:"Failed to decrypt ear response"},wU={pkceNotGenerated:{code:$o,desc:Se[$o]},cryptoDoesNotExist:{code:Go,desc:Se[Go]},emptyNavigateUriError:{code:ar,desc:Se[ar]},hashEmptyError:{code:za,desc:Se[za]},hashDoesNotContainStateError:{code:In,desc:Se[In]},hashDoesNotContainKnownPropertiesError:{code:$a,desc:Se[$a]},unableToParseStateError:{code:Ga,desc:Se[Ga]},stateInteractionTypeMismatchError:{code:qa,desc:Se[qa]},interactionInProgress:{code:Ka,desc:Se[Ka]},popupWindowError:{code:Wa,desc:Se[Wa]},emptyWindowError:{code:Ya,desc:Se[Ya]},userCancelledError:{code:Ui,desc:Se[Ui]},monitorPopupTimeoutError:{code:Ju,desc:Se[Ju]},monitorIframeTimeoutError:{code:Qa,desc:Se[Qa]},redirectInIframeError:{code:Ja,desc:Se[Ja]},blockTokenRequestsInHiddenIframeError:{code:Xa,desc:Se[Xa]},blockAcquireTokenInPopupsError:{code:Za,desc:Se[Za]},iframeClosedPrematurelyError:{code:Xu,desc:Se[Xu]},silentLogoutUnsupportedError:{code:sr,desc:Se[sr]},noAccountError:{code:es,desc:Se[es]},silentPromptValueError:{code:Zu,desc:Se[Zu]},noTokenRequestCacheError:{code:ts,desc:Se[ts]},unableToParseTokenRequestCacheError:{code:is,desc:Se[is]},authRequestNotSet:{code:eh,desc:Se[eh]},invalidCacheType:{code:th,desc:Se[th]},notInBrowserEnvironment:{code:cr,desc:Se[cr]},databaseNotOpen:{code:lr,desc:Se[lr]},noNetworkConnectivity:{code:Gr,desc:Se[Gr]},postRequestFailed:{code:rs,desc:Se[rs]},getRequestFailed:{code:ns,desc:Se[ns]},failedToParseNetworkResponse:{code:qo,desc:Se[qo]},unableToLoadTokenError:{code:os,desc:Se[os]},signingKeyNotFoundInStorage:{code:Tn,desc:Se[Tn]},authCodeRequired:{code:as,desc:Se[as]},authCodeOrNativeAccountRequired:{code:ss,desc:Se[ss]},spaCodeAndNativeAccountPresent:{code:cs,desc:Se[cs]},databaseUnavailable:{code:Rn,desc:Se[Rn]},unableToAcquireTokenFromNativePlatform:{code:ls,desc:Se[ls]},nativeHandshakeTimeout:{code:ds,desc:Se[ds]},nativeExtensionNotInstalled:{code:us,desc:Se[us]},nativeConnectionNotEstablished:{code:kn,desc:Se[kn]},uninitializedPublicClientApplication:{code:qr,desc:Se[qr]},nativePromptNotSupported:{code:hs,desc:Se[hs]},invalidBase64StringError:{code:ms,desc:Se[ms]},invalidPopTokenRequest:{code:ps,desc:Se[ps]}},Ko=class r extends Ae{constructor(t,e){super(t,Se[t],e),Object.setPrototypeOf(this,r.prototype),this.name="BrowserAuthError"}};function ee(r,t){return new Ko(r,t)}var ct={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Dn={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Wr={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ze={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Kf={GET:"GET",POST:"POST"},ji={SIGNIN:"signin",SIGNOUT:"signout"},lt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Hi={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},jl={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},je={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962},se=function(r){return r.Redirect="redirect",r.Popup="popup",r.Silent="silent",r.None="none",r}(se||{}),et={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Wf={scopes:Fi},Yf="jwk",Qf={React:"@azure/msal-react",Angular:"@azure/msal-angular"},nh="msal.db",f_=1,g_=`${nh}.keys`,Pt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},v_=[Pt.Default,Pt.Skip,Pt.RefreshTokenAndNetwork],b_="msal.browser.log.level",y_="msal.browser.log.pii";function Hl(r){return encodeURIComponent(Mn(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Si(r){return __(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Mn(r){return __(new TextEncoder().encode(r))}function __(r){let t=Array.from(r,e=>String.fromCodePoint(e)).join("");return btoa(t)}function Bt(r){return new TextDecoder().decode(dr(r))}function dr(r){let t=r.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw ee(ms)}let e=atob(t);return Uint8Array.from(e,i=>i.codePointAt(0)||0)}var LI="RSASSA-PKCS1-v1_5",gs="AES-GCM",E_="HKDF",Xf="SHA-256",BI=2048,UI=new Uint8Array([1,0,1]),w_="0123456789abcdef",C_=new Uint32Array(1),Zf="raw",S_="encrypt",eg="decrypt",jI="deriveKey",HI="crypto_subtle_undefined",tg={name:LI,hash:Xf,modulusLength:BI,publicExponent:UI};function A_(r){if(!window)throw ee(cr);if(!window.crypto)throw ee(Go);if(!r&&!window.crypto.subtle)throw ee(Go,HI)}function ig(r,t,e){return O(this,null,function*(){t?.addQueueMeasurement(k.Sha256Digest,e);let n=new TextEncoder().encode(r);return window.crypto.subtle.digest(Xf,n)})}function I_(r){return window.crypto.getRandomValues(r)}function Jf(){return window.crypto.getRandomValues(C_),C_[0]}function Tt(){let r=Date.now(),t=Jf()*1024+(Jf()&1023),e=new Uint8Array(16),i=Math.trunc(t/2**30),n=t&2**30-1,o=Jf();e[0]=r/2**40,e[1]=r/2**32,e[2]=r/2**24,e[3]=r/2**16,e[4]=r/2**8,e[5]=r,e[6]=112|i>>>8,e[7]=i,e[8]=128|n>>>24,e[9]=n>>>16,e[10]=n>>>8,e[11]=n,e[12]=o>>>24,e[13]=o>>>16,e[14]=o>>>8,e[15]=o;let a="";for(let l=0;l<e.length;l++)a+=w_.charAt(e[l]>>>4),a+=w_.charAt(e[l]&15),(l===3||l===5||l===7||l===9)&&(a+="-");return a}function T_(r,t){return O(this,null,function*(){return window.crypto.subtle.generateKey(tg,r,t)})}function oh(r){return O(this,null,function*(){return window.crypto.subtle.exportKey(Yf,r)})}function R_(r,t,e){return O(this,null,function*(){return window.crypto.subtle.importKey(Yf,r,tg,t,e)})}function k_(r,t){return O(this,null,function*(){return window.crypto.subtle.sign(tg,r,t)})}function vs(){return O(this,null,function*(){let r=yield rg(),e={alg:"dir",kty:"oct",k:Si(new Uint8Array(r))};return Mn(JSON.stringify(e))})}function zI(r){return O(this,null,function*(){let t=Bt(r),i=JSON.parse(t).k,n=dr(i);return window.crypto.subtle.importKey(Zf,n,gs,!1,[eg])})}function D_(r,t){return O(this,null,function*(){let e=t.split(".");if(e.length!==5)throw ee(fs,"jwe_length");let i=yield zI(r).catch(()=>{throw ee(fs,"import_key")});try{let n=new TextEncoder().encode(e[0]),o=dr(e[2]),a=dr(e[3]),l=dr(e[4]),d=l.byteLength*8,b=new Uint8Array(a.length+l.length);b.set(a),b.set(l,a.length);let s=yield window.crypto.subtle.decrypt({name:gs,iv:o,tagLength:d,additionalData:n},i,b);return new TextDecoder().decode(s)}catch{throw ee(fs,"decrypt")}})}function rg(){return O(this,null,function*(){let r=yield window.crypto.subtle.generateKey({name:gs,length:256},!0,[S_,eg]);return window.crypto.subtle.exportKey(Zf,r)})}function ng(r){return O(this,null,function*(){return window.crypto.subtle.importKey(Zf,r,E_,!1,[jI])})}function M_(r,t,e){return O(this,null,function*(){return window.crypto.subtle.deriveKey({name:E_,salt:t,hash:Xf,info:new TextEncoder().encode(e)},r,{name:gs,length:256},!1,[S_,eg])})}function O_(r,t,e){return O(this,null,function*(){let i=new TextEncoder().encode(t),n=window.crypto.getRandomValues(new Uint8Array(16)),o=yield M_(r,n,e),a=yield window.crypto.subtle.encrypt({name:gs,iv:new Uint8Array(12)},o,i);return{data:Si(new Uint8Array(a)),nonce:Si(n)}})}function P_(r,t,e,i){return O(this,null,function*(){let n=dr(i),o=yield M_(r,dr(t),e),a=yield window.crypto.subtle.decrypt({name:gs,iv:new Uint8Array(12)},o,n);return new TextDecoder().decode(a)})}function ah(r){return O(this,null,function*(){let t=yield ig(r),e=new Uint8Array(t);return Si(e)})}var On="storage_not_supported",sh="stubbed_public_client_application_called",bs="in_mem_redirect_unavailable";var ch={[On]:"Given storage configuration option was not supported.",[sh]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[bs]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},$I={storageNotSupportedError:{code:On,desc:ch[On]},stubPcaInstanceCalled:{code:sh,desc:ch[sh]},inMemRedirectUnavailable:{code:bs,desc:ch[bs]}},Wo=class r extends Ae{constructor(t,e){super(t,e),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,r.prototype)}};function ys(r){return new Wo(r,ch[r])}function og(r){r.location.hash="",typeof r.history.replaceState=="function"&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`)}function ag(r){let t=r.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}function zl(){return window.parent!==window}function x_(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${ct.POPUP_NAME_PREFIX}.`)===0}function $t(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function sg(){let t=new Ee(window.location.href).getUrlComponents();return`${t.Protocol}//${t.HostNameAndPort}/`}function F_(){if(Ee.hashContainsKnownProperties(window.location.hash)&&zl())throw ee(Xa)}function N_(r){if(zl()&&!r)throw ee(Ja)}function V_(){if(x_())throw ee(Za)}function lh(){if(typeof window>"u")throw ee(cr)}function dh(r){if(!r)throw ee(qr)}function $l(r){lh(),F_(),V_(),dh(r)}function uh(r,t){if($l(r),N_(t.system.allowRedirectInIframe),t.cache.cacheLocation===Ze.MemoryStorage&&!t.cache.storeAuthStateInCookie)throw ys(bs)}function Gl(r){let t=document.createElement("link");t.rel="preconnect",t.href=new URL(r).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout(()=>{try{document.head.removeChild(t)}catch{}},1e4)}function cg(){return Tt()}var ql=class r{navigateInternal(t,e){return r.defaultNavigateWindow(t,e)}navigateExternal(t,e){return r.defaultNavigateWindow(t,e)}static defaultNavigateWindow(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(i=>{setTimeout(()=>{i(!0)},e.timeout)})}};var mh=class{sendGetRequestAsync(t,e){return O(this,null,function*(){let i,n={},o=0,a=L_(e);try{i=yield fetch(t,{method:Kf.GET,headers:a})}catch(l){throw jo(ee(window.navigator.onLine?ns:Gr),void 0,void 0,l)}n=B_(i.headers);try{return o=i.status,{headers:n,body:yield i.json(),status:o}}catch(l){throw jo(ee(qo),o,n,l)}})}sendPostRequestAsync(t,e){return O(this,null,function*(){let i=e&&e.body||"",n=L_(e),o,a=0,l={};try{o=yield fetch(t,{method:Kf.POST,headers:n,body:i})}catch(d){throw jo(ee(window.navigator.onLine?rs:Gr),void 0,void 0,d)}l=B_(o.headers);try{return a=o.status,{headers:l,body:yield o.json(),status:a}}catch(d){throw jo(ee(qo),a,l,d)}})}};function L_(r){try{let t=new Headers;if(!(r&&r.headers))return t;let e=r.headers;return Object.entries(e).forEach(([i,n])=>{t.append(i,n)}),t}catch(t){throw jo(ee(ih),void 0,void 0,t)}}function B_(r){try{let t={};return r.forEach((e,i)=>{t[i]=e}),t}catch{throw ee(rh)}}var GI=6e4,ph=1e4,qI=3e4,KI=2e3;function U_({auth:r,cache:t,system:e,telemetry:i},n){let o={clientId:U.EMPTY_STRING,authority:`${U.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:U.EMPTY_STRING,authorityMetadata:U.EMPTY_STRING,redirectUri:typeof window<"u"?$t():"",postLogoutRedirectUri:U.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:st.AAD,OIDCOptions:{serverResponseType:Zi.FRAGMENT,defaultScopes:[U.OPENID_SCOPE,U.PROFILE_SCOPE,U.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:yn.None,tenant:U.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:Ze.SessionStorage,temporaryCacheLocation:Ze.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(t&&t.cacheLocation===Ze.LocalStorage),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:qe.Info,piiLoggingEnabled:!1},d=oe(x({},Ou),{loggerOptions:l,networkClient:n?new mh:$f,navigationClient:new ql,loadFrameTimeout:0,windowHashTimeout:e?.loadFrameTimeout||GI,iframeHashTimeout:e?.loadFrameTimeout||ph,navigateFrameWait:0,redirectNavigationTimeout:qI,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:e?.nativeBrokerHandshakeTimeout||KI,pollIntervalMilliseconds:ct.DEFAULT_POLL_INTERVAL_MS}),b=oe(x(x({},d),e),{loggerOptions:e?.loggerOptions||l}),s={application:{appName:U.EMPTY_STRING,appVersion:U.EMPTY_STRING},client:new Ha};if(r?.protocolMode!==st.OIDC&&r?.OIDCOptions&&new ei(b.loggerOptions).warning(JSON.stringify(Pe(gi.cannotSetOIDCOptions))),r?.protocolMode&&r.protocolMode===st.OIDC&&b?.allowPlatformBroker)throw Pe(gi.cannotAllowPlatformBroker);return{auth:oe(x(x({},o),r),{OIDCOptions:x(x({},o.OIDCOptions),r?.OIDCOptions)}),cache:x(x({},a),t),system:b,telemetry:x(x({},s),i)}}var j_="@azure/msal-browser",ur="4.11.1";var fh=class r{static loggerCallback(t,e){switch(t){case qe.Error:console.error(e);return;case qe.Info:console.info(e);return;case qe.Verbose:console.debug(e);return;case qe.Warning:console.warn(e);return;default:console.log(e);return}}constructor(t){this.browserEnvironment=typeof window<"u",this.config=U_(t,this.browserEnvironment);let e;try{e=window[Ze.SessionStorage]}catch{}let i=e?.getItem(b_),n=e?.getItem(y_)?.toLowerCase(),o=n==="true"?!0:n==="false"?!1:void 0,a=x({},this.config.system.loggerOptions),l=i&&Object.keys(qe).includes(i)?qe[i]:void 0;l&&(a.loggerCallback=r.loggerCallback,a.logLevel=l),o!==void 0&&(a.piiLoggingEnabled=o),this.logger=new ei(a,j_,ur),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}};var gh=(()=>{class r extends fh{getModuleName(){return r.MODULE_NAME}getId(){return r.ID}initialize(){return O(this,null,function*(){return this.available=typeof window<"u",this.available})}}return r.MODULE_NAME="",r.ID="StandardOperatingContext",r})();var vh=class{constructor(){this.dbName=nh,this.version=f_,this.tableName=g_,this.dbOpen=!1}open(){return O(this,null,function*(){return new Promise((t,e)=>{let i=window.indexedDB.open(this.dbName,this.version);i.addEventListener("upgradeneeded",n=>{n.target.result.createObjectStore(this.tableName)}),i.addEventListener("success",n=>{let o=n;this.db=o.target.result,this.dbOpen=!0,t()}),i.addEventListener("error",()=>e(ee(Rn)))})})}closeConnection(){let t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)}validateDbIsOpen(){return O(this,null,function*(){if(!this.dbOpen)return this.open()})}getItem(t){return O(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,i)=>{if(!this.db)return i(ee(lr));let a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(t);a.addEventListener("success",l=>{let d=l;this.closeConnection(),e(d.target.result)}),a.addEventListener("error",l=>{this.closeConnection(),i(l)})})})}setItem(t,e){return O(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((i,n)=>{if(!this.db)return n(ee(lr));let l=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(e,t);l.addEventListener("success",()=>{this.closeConnection(),i()}),l.addEventListener("error",d=>{this.closeConnection(),n(d)})})})}removeItem(t){return O(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,i)=>{if(!this.db)return i(ee(lr));let a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(t);a.addEventListener("success",()=>{this.closeConnection(),e()}),a.addEventListener("error",l=>{this.closeConnection(),i(l)})})})}getKeys(){return O(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((t,e)=>{if(!this.db)return e(ee(lr));let o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",a=>{let l=a;this.closeConnection(),t(l.target.result)}),o.addEventListener("error",a=>{this.closeConnection(),e(a)})})})}containsKey(t){return O(this,null,function*(){return yield this.validateDbIsOpen(),new Promise((e,i)=>{if(!this.db)return i(ee(lr));let a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(t);a.addEventListener("success",l=>{let d=l;this.closeConnection(),e(d.target.result===1)}),a.addEventListener("error",l=>{this.closeConnection(),i(l)})})})}deleteDatabase(){return O(this,null,function*(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((t,e)=>{let i=window.indexedDB.deleteDatabase(nh),n=setTimeout(()=>e(!1),200);i.addEventListener("success",()=>(clearTimeout(n),t(!0))),i.addEventListener("blocked",()=>(clearTimeout(n),t(!0))),i.addEventListener("error",()=>(clearTimeout(n),e(!1)))})})}};var Yr=class{constructor(){this.cache=new Map}initialize(){return O(this,null,function*(){})}getItem(t){return this.cache.get(t)||null}getUserData(t){return this.getItem(t)}setItem(t,e){this.cache.set(t,e)}setUserData(t,e){return O(this,null,function*(){this.setItem(t,e)})}removeItem(t){this.cache.delete(t)}getKeys(){let t=[];return this.cache.forEach((e,i)=>{t.push(i)}),t}containsKey(t){return this.cache.has(t)}clear(){this.cache.clear()}};var bh=class{constructor(t){this.inMemoryCache=new Yr,this.indexedDBCache=new vh,this.logger=t}handleDatabaseAccessError(t){if(t instanceof Ko&&t.errorCode===Rn)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t}getItem(t){return O(this,null,function*(){let e=this.inMemoryCache.getItem(t);if(!e)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.getItem(t)}catch(i){this.handleDatabaseAccessError(i)}return e})}setItem(t,e){return O(this,null,function*(){this.inMemoryCache.setItem(t,e);try{yield this.indexedDBCache.setItem(t,e)}catch(i){this.handleDatabaseAccessError(i)}})}removeItem(t){return O(this,null,function*(){this.inMemoryCache.removeItem(t);try{yield this.indexedDBCache.removeItem(t)}catch(e){this.handleDatabaseAccessError(e)}})}getKeys(){return O(this,null,function*(){let t=this.inMemoryCache.getKeys();if(t.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),yield this.indexedDBCache.getKeys()}catch(e){this.handleDatabaseAccessError(e)}return t})}containsKey(t){return O(this,null,function*(){let e=this.inMemoryCache.containsKey(t);if(!e)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),yield this.indexedDBCache.containsKey(t)}catch(i){this.handleDatabaseAccessError(i)}return e})}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}clearPersistent(){return O(this,null,function*(){try{this.logger.verbose("Deleting persistent keystore");let t=yield this.indexedDBCache.deleteDatabase();return t&&this.logger.verbose("Persistent keystore deleted"),t}catch(t){return this.handleDatabaseAccessError(t),!1}})}};var _s=(()=>{class r{constructor(e,i,n){this.logger=e,A_(n??!1),this.cache=new bh(this.logger),this.performanceClient=i}createNewGuid(){return Tt()}base64Encode(e){return Mn(e)}base64Decode(e){return Bt(e)}base64UrlEncode(e){return Hl(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}getPublicKeyThumbprint(e){return O(this,null,function*(){let i=this.performanceClient?.startMeasurement(k.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=yield T_(r.EXTRACTABLE,r.POP_KEY_USAGES),o=yield oh(n.publicKey),a={e:o.e,kty:o.kty,n:o.n},l=H_(a),d=yield this.hashString(l),b=yield oh(n.privateKey),s=yield R_(b,!1,["sign"]);return yield this.cache.setItem(d,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),i&&i.end({success:!0}),d})}removeTokenBindingKey(e){return O(this,null,function*(){return yield this.cache.removeItem(e),!(yield this.cache.containsKey(e))})}clearKeystore(){return O(this,null,function*(){this.cache.clearInMemory();try{return yield this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}})}signJwt(e,i,n,o){return O(this,null,function*(){let a=this.performanceClient?.startMeasurement(k.CryptoOptsSignJwt,o),l=yield this.cache.getItem(i);if(!l)throw ee(Tn);let d=yield oh(l.publicKey),b=H_(d),s=Hl(JSON.stringify({kid:i})),E=Bl.getShrHeaderString(oe(x({},n?.header),{alg:d.alg,kid:s})),w=Hl(E);e.cnf={jwk:JSON.parse(b)};let v=Hl(JSON.stringify(e)),_=`${w}.${v}`,f=new TextEncoder().encode(_),C=yield k_(l.privateKey,f),y=Si(new Uint8Array(C)),h=`${_}.${y}`;return a&&a.end({success:!0}),h})}hashString(e){return O(this,null,function*(){return ah(e)})}}return r.POP_KEY_USAGES=["sign","verify"],r.EXTRACTABLE=!0,r})();function H_(r){return JSON.stringify(r,Object.keys(r).sort())}var WI=24*60*60*1e3,yh={Lax:"Lax",None:"None"},ws=class{initialize(){return Promise.resolve()}getItem(t){let e=`${encodeURIComponent(t)}`,i=document.cookie.split(";");for(let n=0;n<i.length;n++){let o=i[n],[a,...l]=decodeURIComponent(o).trim().split("="),d=l.join("=");if(a===e)return d}return""}getUserData(){throw G(Et.methodNotImplemented)}setItem(t,e,i,n=!0,o=yh.Lax){let a=`${encodeURIComponent(t)}=${encodeURIComponent(e)};path=/;SameSite=${o};`;if(i){let l=YI(i);a+=`expires=${l};`}(n||o===yh.None)&&(a+="Secure;"),document.cookie=a}setUserData(){return O(this,null,function*(){return Promise.reject(G(Et.methodNotImplemented))})}removeItem(t){this.setItem(t,"",-1)}getKeys(){let t=document.cookie.split(";"),e=[];return t.forEach(i=>{let n=decodeURIComponent(i).trim().split("=");e.push(n[0])}),e}containsKey(t){return this.getKeys().includes(t)}};function YI(r){let t=new Date;return new Date(t.getTime()+r*WI).toUTCString()}function Kl(r){let t=r.getItem(Hi.ACCOUNT_KEYS);return t?JSON.parse(t):[]}function Wl(r,t){let e=t.getItem(`${Hi.TOKEN_KEYS}.${r}`);if(e){let i=JSON.parse(e);if(i&&i.hasOwnProperty("idToken")&&i.hasOwnProperty("accessToken")&&i.hasOwnProperty("refreshToken"))return i}return{idToken:[],accessToken:[],refreshToken:[]}}var z_="msal.cache.encryption",QI="msal.broadcast.cache",_h=class{constructor(t,e,i){if(!window.localStorage)throw ys(On);this.memoryStorage=new Yr,this.initialized=!1,this.clientId=t,this.logger=e,this.performanceClient=i,this.broadcast=new BroadcastChannel(QI)}initialize(t){return O(this,null,function*(){let e=new ws,i=e.getItem(z_),n={key:"",id:""};if(i)try{n=JSON.parse(i)}catch{}if(n.key&&n.id){let o=St(dr,k.Base64Decode,this.logger,this.performanceClient,t)(n.key);this.encryptionCookie={id:n.id,key:yield B(ng,k.GenerateHKDF,this.logger,this.performanceClient,t)(o)},yield B(this.importExistingCache.bind(this),k.ImportExistingCache,this.logger,this.performanceClient,t)(t)}else{this.clear();let o=Tt(),a=yield B(rg,k.GenerateBaseKey,this.logger,this.performanceClient,t)(),l=St(Si,k.UrlEncodeArr,this.logger,this.performanceClient,t)(new Uint8Array(a));this.encryptionCookie={id:o,key:yield B(ng,k.GenerateHKDF,this.logger,this.performanceClient,t)(a)};let d={id:o,key:l};e.setItem(z_,JSON.stringify(d),0,!0,yh.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0})}getItem(t){return window.localStorage.getItem(t)}getUserData(t){if(!this.initialized)throw ee(qr);return this.memoryStorage.getItem(t)}setItem(t,e){window.localStorage.setItem(t,e)}setUserData(t,e,i){return O(this,null,function*(){if(!this.initialized||!this.encryptionCookie)throw ee(qr);let{data:n,nonce:o}=yield B(O_,k.Encrypt,this.logger,this.performanceClient,i)(this.encryptionCookie.key,e,this.getContext(t)),a={id:this.encryptionCookie.id,nonce:o,data:n};this.memoryStorage.setItem(t,e),this.setItem(t,JSON.stringify(a)),this.broadcast.postMessage({key:t,value:e,context:this.getContext(t)})})}removeItem(t){this.memoryStorage.containsKey(t)&&(this.memoryStorage.removeItem(t),this.broadcast.postMessage({key:t,value:null,context:this.getContext(t)})),window.localStorage.removeItem(t)}getKeys(){return Object.keys(window.localStorage)}containsKey(t){return window.localStorage.hasOwnProperty(t)}clear(){this.memoryStorage.clear(),Kl(this).forEach(i=>this.removeItem(i));let e=Wl(this.clientId,this);e.idToken.forEach(i=>this.removeItem(i)),e.accessToken.forEach(i=>this.removeItem(i)),e.refreshToken.forEach(i=>this.removeItem(i)),this.getKeys().forEach(i=>{(i.startsWith(U.CACHE_PREFIX)||i.indexOf(this.clientId)!==-1)&&this.removeItem(i)})}importExistingCache(t){return O(this,null,function*(){if(!this.encryptionCookie)return;let e=Kl(this);e=yield this.importArray(e,t),this.setItem(Hi.ACCOUNT_KEYS,JSON.stringify(e));let i=Wl(this.clientId,this);i.idToken=yield this.importArray(i.idToken,t),i.accessToken=yield this.importArray(i.accessToken,t),i.refreshToken=yield this.importArray(i.refreshToken,t),this.setItem(`${Hi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(i))})}getItemFromEncryptedCache(t,e){return O(this,null,function*(){if(!this.encryptionCookie)return null;let i=this.getItem(t);if(!i)return null;let n;try{n=JSON.parse(i)}catch{return null}return!n.id||!n.nonce||!n.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},e),null):n.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},e),null):B(P_,k.Decrypt,this.logger,this.performanceClient,e)(this.encryptionCookie.key,n.nonce,this.getContext(t),n.data)})}importArray(t,e){return O(this,null,function*(){let i=[],n=[];return t.forEach(o=>{let a=this.getItemFromEncryptedCache(o,e).then(l=>{l?(this.memoryStorage.setItem(o,l),i.push(o)):this.removeItem(o)});n.push(a)}),yield Promise.all(n),i})}getContext(t){let e="";return t.includes(this.clientId)&&(e=this.clientId),e}updateCache(t){this.logger.trace("Updating internal cache from broadcast event");let e=this.performanceClient.startMeasurement(k.LocalStorageUpdated);e.add({isBackground:!0});let{key:i,value:n,context:o}=t.data;if(!i){this.logger.error("Broadcast event missing key"),e.end({success:!1,errorCode:"noKey"});return}if(o&&o!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),e.end({success:!1,errorCode:"contextMismatch"});return}n?(this.memoryStorage.setItem(i,n),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(i),this.logger.verbose("Removed item from internal cache")),e.end({success:!0})}};var wh=class{constructor(){if(!window.sessionStorage)throw ys(On)}initialize(){return O(this,null,function*(){})}getItem(t){return window.sessionStorage.getItem(t)}getUserData(t){return this.getItem(t)}setItem(t,e){window.sessionStorage.setItem(t,e)}setUserData(t,e){return O(this,null,function*(){this.setItem(t,e)})}removeItem(t){window.sessionStorage.removeItem(t)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(t){return window.sessionStorage.hasOwnProperty(t)}};var ne={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};var Cs=class r extends Po{constructor(t,e,i,n,o,a,l){super(t,i,n,l),this.cacheConfig=e,this.logger=n,this.internalStorage=new Yr,this.browserStorage=$_(t,e.cacheLocation,n,o),this.temporaryCacheStorage=$_(t,e.temporaryCacheLocation,n,o),this.cookieStorage=new ws,this.performanceClient=o,this.eventHandler=a}initialize(t){return O(this,null,function*(){yield this.browserStorage.initialize(t)})}validateAndParseJson(t){try{let e=JSON.parse(t);return e&&typeof e=="object"?e:null}catch{return null}}getAccount(t){this.logger.trace("BrowserCacheManager.getAccount called");let e=this.browserStorage.getUserData(t);if(!e)return this.removeAccountKeyFromMap(t),null;let i=this.validateAndParseJson(e);return!i||!ft.isAccountEntity(i)?(this.removeAccountKeyFromMap(t),null):Po.toObject(new ft,i)}setAccount(t,e){return O(this,null,function*(){this.logger.trace("BrowserCacheManager.setAccount called");let i=t.generateAccountKey();yield B(this.browserStorage.setUserData.bind(this.browserStorage),k.SetUserData,this.logger,this.performanceClient)(i,JSON.stringify(t),e);let n=this.addAccountKeyToMap(i);this.cacheConfig.cacheLocation===Ze.LocalStorage&&n&&this.eventHandler.emitEvent(ne.ACCOUNT_ADDED,void 0,t.getAccountInfo())})}getAccountKeys(){return Kl(this.browserStorage)}addAccountKeyToMap(t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${t}`);let e=this.getAccountKeys();return e.indexOf(t)===-1?(e.push(t),this.browserStorage.setItem(Hi.ACCOUNT_KEYS,JSON.stringify(e)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${t}`);let e=this.getAccountKeys(),i=e.indexOf(t);i>-1?(e.splice(i,1),this.browserStorage.setItem(Hi.ACCOUNT_KEYS,JSON.stringify(e)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(t){return O(this,null,function*(){Xo(r.prototype,this,"removeAccount").call(this,t),this.removeAccountKeyFromMap(t)})}removeAccountContext(t){return O(this,null,function*(){yield Xo(r.prototype,this,"removeAccountContext").call(this,t),this.cacheConfig.cacheLocation===Ze.LocalStorage&&this.eventHandler.emitEvent(ne.ACCOUNT_REMOVED,void 0,t.getAccountInfo())})}removeIdToken(t){super.removeIdToken(t),this.removeTokenKey(t,Ce.ID_TOKEN)}removeAccessToken(t){return O(this,null,function*(){Xo(r.prototype,this,"removeAccessToken").call(this,t),this.removeTokenKey(t,Ce.ACCESS_TOKEN)})}removeRefreshToken(t){super.removeRefreshToken(t),this.removeTokenKey(t,Ce.REFRESH_TOKEN)}getTokenKeys(){return Wl(this.clientId,this.browserStorage)}addTokenKey(t,e){this.logger.trace("BrowserCacheManager addTokenKey called");let i=this.getTokenKeys();switch(e){case Ce.ID_TOKEN:i.idToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(t));break;case Ce.ACCESS_TOKEN:i.accessToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),i.accessToken.push(t));break;case Ce.REFRESH_TOKEN:i.refreshToken.indexOf(t)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(t));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${e}`),G(Et.unexpectedCredentialType)}this.browserStorage.setItem(`${Hi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(i))}removeTokenKey(t,e){this.logger.trace("BrowserCacheManager removeTokenKey called");let i=this.getTokenKeys();switch(e){case Ce.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${t} from map`);let n=i.idToken.indexOf(t);n>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),i.idToken.splice(n,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Ce.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${t} from map`);let o=i.accessToken.indexOf(t);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),i.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Ce.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${t} from map`);let a=i.refreshToken.indexOf(t);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),i.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${e}`),G(Et.unexpectedCredentialType)}this.browserStorage.setItem(`${Hi.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(i))}getIdTokenCredential(t){let e=this.browserStorage.getUserData(t);if(!e)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.ID_TOKEN),null;let i=this.validateAndParseJson(e);return!i||!nt.isIdTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}setIdTokenCredential(t,e){return O(this,null,function*(){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");let i=nt.generateCredentialKey(t);yield B(this.browserStorage.setUserData.bind(this.browserStorage),k.SetUserData,this.logger,this.performanceClient)(i,JSON.stringify(t),e),this.addTokenKey(i,Ce.ID_TOKEN)})}getAccessTokenCredential(t){let e=this.browserStorage.getUserData(t);if(!e)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.ACCESS_TOKEN),null;let i=this.validateAndParseJson(e);return!i||!nt.isAccessTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}setAccessTokenCredential(t,e){return O(this,null,function*(){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");let i=nt.generateCredentialKey(t);yield B(this.browserStorage.setUserData.bind(this.browserStorage),k.SetUserData,this.logger,this.performanceClient)(i,JSON.stringify(t),e),this.addTokenKey(i,Ce.ACCESS_TOKEN)})}getRefreshTokenCredential(t){let e=this.browserStorage.getUserData(t);if(!e)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.REFRESH_TOKEN),null;let i=this.validateAndParseJson(e);return!i||!nt.isRefreshTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(t,Ce.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}setRefreshTokenCredential(t,e){return O(this,null,function*(){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");let i=nt.generateCredentialKey(t);yield B(this.browserStorage.setUserData.bind(this.browserStorage),k.SetUserData,this.logger,this.performanceClient)(i,JSON.stringify(t),e),this.addTokenKey(i,Ce.REFRESH_TOKEN)})}getAppMetadata(t){let e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;let i=this.validateAndParseJson(e);return!i||!nt.isAppMetadataEntity(t,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),i)}setAppMetadata(t){this.logger.trace("BrowserCacheManager.setAppMetadata called");let e=nt.generateAppMetadataKey(t);this.browserStorage.setItem(e,JSON.stringify(t))}getServerTelemetry(t){let e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;let i=this.validateAndParseJson(e);return!i||!nt.isServerTelemetryEntity(t,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),i)}setServerTelemetry(t,e){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(t,JSON.stringify(e))}getAuthorityMetadata(t){let e=this.internalStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;let i=this.validateAndParseJson(e);return i&&nt.isAuthorityMetadataEntity(t,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),i):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(e=>this.isAuthorityMetadata(e))}setWrapperMetadata(t,e){this.internalStorage.setItem(jl.WRAPPER_SKU,t),this.internalStorage.setItem(jl.WRAPPER_VER,e)}getWrapperMetadata(){let t=this.internalStorage.getItem(jl.WRAPPER_SKU)||U.EMPTY_STRING,e=this.internalStorage.getItem(jl.WRAPPER_VER)||U.EMPTY_STRING;return[t,e]}setAuthorityMetadata(t,e){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(t,JSON.stringify(e))}getActiveAccount(){let t=this.generateCacheKey(bu.ACTIVE_ACCOUNT_FILTERS),e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;let i=this.validateAndParseJson(e);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(t){let e=this.generateCacheKey(bu.ACTIVE_ACCOUNT_FILTERS);if(t){this.logger.verbose("setActiveAccount: Active account set");let i={homeAccountId:t.homeAccountId,localAccountId:t.localAccountId,tenantId:t.tenantId};this.browserStorage.setItem(e,JSON.stringify(i))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(e);this.eventHandler.emitEvent(ne.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(t){let e=this.browserStorage.getItem(t);if(!e)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;let i=this.validateAndParseJson(e);return!i||!nt.isThrottlingEntity(t,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),i)}setThrottlingCache(t,e){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(t,JSON.stringify(e))}getTemporaryCache(t,e){let i=e?this.generateCacheKey(t):t;if(this.cacheConfig.storeAuthStateInCookie){let o=this.cookieStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}let n=this.temporaryCacheStorage.getItem(i);if(!n){if(this.cacheConfig.cacheLocation===Ze.LocalStorage){let o=this.browserStorage.getItem(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),n}setTemporaryCache(t,e,i){let n=i?this.generateCacheKey(t):t;this.temporaryCacheStorage.setItem(n,e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(n,e,void 0,this.cacheConfig.secureCookies))}removeItem(t){this.browserStorage.removeItem(t)}removeTemporaryItem(t){this.temporaryCacheStorage.removeItem(t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(t))}getKeys(){return this.browserStorage.getKeys()}clear(){return O(this,null,function*(){yield this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(U.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(U.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()})}clearTokensAndKeysWithClaims(t,e){return O(this,null,function*(){t.addQueueMeasurement(k.ClearTokensAndKeysWithClaims,e);let i=this.getTokenKeys(),n=[];i.accessToken.forEach(o=>{let a=this.getAccessTokenCredential(o);a?.requestedClaimsHash&&o.includes(a.requestedClaimsHash.toLowerCase())&&n.push(this.removeAccessToken(o))}),yield Promise.all(n),n.length>0&&this.logger.warning(`${n.length} access tokens with claims in the cache keys have been removed from the cache.`)})}generateCacheKey(t){return this.validateAndParseJson(t)?JSON.stringify(t):at.startsWith(t,U.CACHE_PREFIX)?t:`${U.CACHE_PREFIX}.${this.clientId}.${t}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(lt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(lt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(lt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(lt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(lt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(t,e){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");let i=Mn(JSON.stringify(t));if(this.setTemporaryCache(lt.REQUEST_PARAMS,i,!0),e){let n=Mn(e);this.setTemporaryCache(lt.VERIFIER,n,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");let t=this.getTemporaryCache(lt.REQUEST_PARAMS,!0);if(!t)throw ee(ts);let e=this.getTemporaryCache(lt.VERIFIER,!0),i,n="";try{i=JSON.parse(Bt(t)),e&&(n=Bt(e))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),ee(is)}return[i,n]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");let t=this.getTemporaryCache(lt.NATIVE_REQUEST,!0);if(!t)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;let e=this.validateAndParseJson(t);return e||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(t){let e=this.getInteractionInProgress()?.clientId;return t?e===this.clientId:!!e}getInteractionInProgress(){let t=`${U.CACHE_PREFIX}.${lt.INTERACTION_STATUS_KEY}`,e=this.getTemporaryCache(t,!1);return e?JSON.parse(e):null}setInteractionInProgress(t,e=ji.SIGNIN){let i=`${U.CACHE_PREFIX}.${lt.INTERACTION_STATUS_KEY}`;if(t){if(this.getInteractionInProgress())throw ee(Ka);this.setTemporaryCache(i,JSON.stringify({clientId:this.clientId,type:e}),!1)}else!t&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(i)}hydrateCache(t,e){return O(this,null,function*(){let i=nt.createIdTokenEntity(t.account?.homeAccountId,t.account?.environment,t.idToken,this.clientId,t.tenantId),n;e.claims&&(n=yield this.cryptoImpl.hashString(e.claims));let o=nt.createAccessTokenEntity(t.account?.homeAccountId,t.account.environment,t.accessToken,this.clientId,t.tenantId,t.scopes.join(" "),t.expiresOn?Vt.toSecondsFromDate(t.expiresOn):0,t.extExpiresOn?Vt.toSecondsFromDate(t.extExpiresOn):0,Bt,void 0,t.tokenType,void 0,e.sshKid,e.claims,n),a={idToken:i,accessToken:o};return this.saveCacheRecord(a,t.correlationId)})}saveCacheRecord(t,e,i){return O(this,null,function*(){try{yield Xo(r.prototype,this,"saveCacheRecord").call(this,t,e,i)}catch(n){if(n instanceof Nr&&this.performanceClient&&e)try{let o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},e)}catch{}throw n}})}};function $_(r,t,e,i){try{switch(t){case Ze.LocalStorage:return new _h(r,e,i);case Ze.SessionStorage:return new wh;case Ze.MemoryStorage:default:break}}catch(n){e.error(n)}return new Yr}var G_=(r,t,e,i)=>{let n={cacheLocation:Ze.MemoryStorage,temporaryCacheLocation:Ze.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Cs(r,n,bn,t,e,i)};function q_(r,t,e,i){return r.verbose("getAllAccounts called"),e?t.getAllAccounts(i):[]}function K_(r,t,e){if(t.trace("getAccount called"),Object.keys(r).length===0)return t.warning("getAccount: No accountFilter provided"),null;let i=e.getAccountInfoFilteredBy(r);return i?(t.verbose("getAccount: Account matching provided filter found, returning"),i):(t.verbose("getAccount: No matching account found, returning null"),null)}function W_(r,t,e){if(t.trace("getAccountByUsername called"),!r)return t.warning("getAccountByUsername: No username provided"),null;let i=e.getAccountInfoFilteredBy({username:r});return i?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${r}`),i):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}function Y_(r,t,e){if(t.trace("getAccountByHomeId called"),!r)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;let i=e.getAccountInfoFilteredBy({homeAccountId:r});return i?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${r}`),i):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function Q_(r,t,e){if(t.trace("getAccountByLocalId called"),!r)return t.warning("getAccountByLocalId: No localAccountId provided"),null;let i=e.getAccountInfoFilteredBy({localAccountId:r});return i?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${r}`),i):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function J_(r,t){t.setActiveAccount(r)}function X_(r){return r.getActiveAccount()}var JI="msal.broadcast.event",Ch=class{constructor(t){this.eventCallbacks=new Map,this.logger=t||new ei({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(JI)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(t,e,i){if(typeof window<"u"){let n=i||cg();return this.eventCallbacks.has(n)?(this.logger.error(`Event callback with id: ${n} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(n,[t,e||[]]),this.logger.verbose(`Event callback registered with id: ${n}`),n)}return null}removeEventCallback(t){this.eventCallbacks.delete(t),this.logger.verbose(`Event callback ${t} removed.`)}emitEvent(t,e,i,n){let o={eventType:t,interactionType:e||null,payload:i||null,error:n||null,timestamp:Date.now()};switch(t){case ne.ACCOUNT_ADDED:case ne.ACCOUNT_REMOVED:case ne.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o);break}}invokeCallbacks(t){this.eventCallbacks.forEach(([e,i],n)=>{(i.length===0||i.includes(t.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${t.eventType}`),e.apply(null,[t]))})}invokeCrossTabCallbacks(t){let e=t.data;this.invokeCallbacks(e)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}};var Es=class{constructor(t,e,i,n,o,a,l,d,b){this.config=t,this.browserStorage=e,this.browserCrypto=i,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=d,this.correlationId=b||Tt(),this.logger=n.clone(ct.MSAL_SKU,ur,this.correlationId),this.performanceClient=l}clearCacheOnLogout(t){return O(this,null,function*(){if(t){ft.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{yield this.browserStorage.removeAccount(ft.generateAccountCacheKey(t)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),yield this.browserStorage.clear(),yield this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}})}getRedirectUri(t){this.logger.verbose("getRedirectUri called");let e=t||this.config.auth.redirectUri;return Ee.getAbsoluteUrl(e,$t())}initializeServerTelemetryManager(t,e){this.logger.verbose("initializeServerTelemetryManager called");let i={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new zo(i,this.browserStorage)}getDiscoveredAuthority(t){return O(this,null,function*(){let{account:e}=t,i=t.requestExtraQueryParameters&&t.requestExtraQueryParameters.hasOwnProperty("instance_aware")?t.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);let n={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=t.requestAuthority||this.config.auth.authority,a=i?.length?i==="true":this.config.auth.instanceAware,l=e&&a?this.config.auth.authority.replace(Ee.getDomainFromUrl(o),e.environment):o,d=Ei.generateAuthority(l,t.requestAzureCloudOptions||this.config.auth.azureCloudOptions),b=yield B(ju.createDiscoveredInstance,k.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(d,this.config.system.networkClient,this.browserStorage,n,this.logger,this.correlationId,this.performanceClient);if(e&&!b.isAlias(e.environment))throw Pe(gi.authorityMismatch);return b})}};function Yl(r,t,e,i){return O(this,null,function*(){e.addQueueMeasurement(k.InitializeBaseRequest,r.correlationId);let n=r.authority||t.auth.authority,o=[...r&&r.scopes||[]],a=oe(x({},r),{correlationId:r.correlationId,authority:n,scopes:o});if(!a.authenticationScheme)a.authenticationScheme=Fe.BEARER,i.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===Fe.SSH){if(!r.sshJwk)throw Pe(gi.missingSshJwk);if(!r.sshKid)throw Pe(gi.missingSshKid)}i.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return t.cache.claimsBasedCachingEnabled&&r.claims&&!at.isEmptyObj(r.claims)&&(a.requestedClaimsHash=yield ah(r.claims)),a})}function Z_(r,t,e,i,n){return O(this,null,function*(){i.addQueueMeasurement(k.InitializeSilentRequest,r.correlationId);let o=yield B(Yl,k.InitializeBaseRequest,n,i,r.correlationId)(r,e,i,n);return oe(x(x({},r),o),{account:t,forceRefresh:r.forceRefresh||!1})})}var ni=class extends Es{initializeLogoutRequest(t){this.logger.verbose("initializeLogoutRequest called",t?.correlationId);let e=x({correlationId:this.correlationId||Tt()},t);if(t)if(t.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(t.account){let i=this.getLogoutHintFromIdTokenClaims(t.account);i&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),e.logoutHint=i)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!t||t.postLogoutRedirectUri!==null?t&&t.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",e.correlationId),e.postLogoutRedirectUri=Ee.getAbsoluteUrl(t.postLogoutRedirectUri,$t())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",e.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",e.correlationId),e.postLogoutRedirectUri=Ee.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,$t())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",e.correlationId),e.postLogoutRedirectUri=Ee.getAbsoluteUrl($t(),$t())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",e.correlationId),e}getLogoutHintFromIdTokenClaims(t){let e=t.idTokenClaims;if(e){if(e.login_hint)return e.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}createAuthCodeClient(t){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.StandardInteractionClientCreateAuthCodeClient,this.correlationId);let e=yield B(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(t);return new Ho(e,this.performanceClient)})}getClientConfiguration(t){return O(this,null,function*(){let{serverTelemetryManager:e,requestAuthority:i,requestAzureCloudOptions:n,requestExtraQueryParameters:o,account:a}=t;this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetClientConfiguration,this.correlationId);let l=yield B(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:i,requestAzureCloudOptions:n,requestExtraQueryParameters:o,account:a}),d=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:d.loggerCallback,piiLoggingEnabled:d.piiLoggingEnabled,logLevel:d.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:ct.MSAL_SKU,version:ur,cpu:U.EMPTY_STRING,os:U.EMPTY_STRING},telemetry:this.config.telemetry}})}initializeAuthorizationRequest(t,e){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);let i=this.getRedirectUri(t.redirectUri),n={interactionType:e},o=Li.setRequestState(this.browserCrypto,t&&t.state||U.EMPTY_STRING,n),a=yield B(Yl,k.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(oe(x({},t),{correlationId:this.correlationId}),this.config,this.performanceClient,this.logger),l=oe(x({},a),{redirectUri:i,state:o,nonce:t.nonce||Tt(),responseMode:this.config.auth.OIDCOptions.serverResponseType});if(t.loginHint||t.sid)return l;let d=t.account||this.browserStorage.getActiveAccount();return d&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${d.homeAccountId}`,this.correlationId),l.account=d),l})}};var ew="ContentError",Eh="user_switch";var tw="USER_INTERACTION_REQUIRED",iw="USER_CANCEL",rw="NO_NETWORK",nw="PERSISTENT_ERROR",ow="DISABLED",aw="ACCOUNT_UNAVAILABLE";var XI=-2147186943,ZI={[Eh]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},Ai=class r extends Ae{constructor(t,e,i){super(t,e),Object.setPrototypeOf(this,r.prototype),this.name="NativeAuthError",this.ext=i}};function Pn(r){if(r.ext&&r.ext.status&&(r.ext.status===nw||r.ext.status===ow)||r.ext&&r.ext.error&&r.ext.error===XI)return!0;switch(r.errorCode){case ew:return!0;default:return!1}}function Ql(r,t,e){if(e&&e.status)switch(e.status){case aw:return Ua(zr.nativeAccountUnavailable);case tw:return new At(r,t);case iw:return ee(Ui);case rw:return ee(Gr)}return new Ai(r,ZI[r]||t,e)}var vi=class r{constructor(t,e,i,n){this.logger=t,this.handshakeTimeoutMs=e,this.extensionId=n,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=i,this.handshakeEvent=i.startMeasurement(k.NativeMessageHandlerHandshake)}sendMessage(t){return O(this,null,function*(){this.logger.trace("NativeMessageHandler - sendMessage called.");let e={channel:Dn.CHANNEL_ID,extensionId:this.extensionId,responseId:Tt(),body:t};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(e)}`),this.messageChannel.port1.postMessage(e),new Promise((i,n)=>{this.resolvers.set(e.responseId,{resolve:i,reject:n})})})}static createProvider(t,e,i){return O(this,null,function*(){t.trace("NativeMessageHandler - createProvider called.");try{let n=new r(t,e,i,Dn.PREFERRED_EXTENSION_ID);return yield n.sendHandshakeRequest(),n}catch{let o=new r(t,e,i);return yield o.sendHandshakeRequest(),o}})}sendHandshakeRequest(){return O(this,null,function*(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);let t={channel:Dn.CHANNEL_ID,extensionId:this.extensionId,responseId:Tt(),body:{method:Wr.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(t,window.origin,[this.messageChannel.port2]),new Promise((e,i)=>{this.handshakeResolvers.set(t.responseId,{resolve:e,reject:i}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),i(ee(ds)),this.handshakeResolvers.delete(t.responseId)},this.handshakeTimeoutMs)})})}onWindowMessage(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source!==window)return;let e=t.data;if(!(!e.channel||e.channel!==Dn.CHANNEL_ID)&&!(e.extensionId&&e.extensionId!==this.extensionId)&&e.body.method===Wr.HandshakeRequest){let i=this.handshakeResolvers.get(e.responseId);if(!i){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${e.responseId}`);return}this.logger.verbose(e.extensionId?`Extension with id: ${e.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),i.reject(ee(us))}}onChannelMessage(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");let e=t.data,i=this.resolvers.get(e.responseId),n=this.handshakeResolvers.get(e.responseId);try{let o=e.body.method;if(o===Wr.Response){if(!i)return;let a=e.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")i.reject(Ql(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?i.reject(Ql(a.result.code,a.result.description,a.result.ext)):i.resolve(a.result);else throw Gc(io.unexpectedError,"Event does not contain result.");this.resolvers.delete(e.responseId)}else if(o===Wr.HandshakeResponse){if(!n){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${e.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=e.extensionId,this.extensionVersion=e.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),n.resolve(),this.handshakeResolvers.delete(e.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${t}`),i?i.reject(o):n&&n.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(t,e,i,n){if(e.trace("isPlatformBrokerAvailable called"),!t.system.allowPlatformBroker)return e.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!i)return e.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(n)switch(n){case Fe.BEARER:case Fe.POP:return e.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}};function sw(r,t){if(!t)return null;try{return Li.parseRequestState(r,t).libraryState.meta}catch{throw G(Et.invalidState)}}function Ss(r,t,e){let i=wn.getDeserializedResponse(r);if(!i)throw wn.stripLeadingHashOrQuery(r)?(e.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),e.errorPii(`The ${t} detected is: ${r}`),ee($a)):(e.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),ee(za));return i}function cw(r,t,e){if(!r.state)throw ee(In);let i=sw(t,r.state);if(!i)throw ee(Ga);if(i.interactionType!==e)throw ee(qa)}var As=class{constructor(t,e,i,n,o){this.authModule=t,this.browserStorage=e,this.authCodeRequest=i,this.logger=n,this.performanceClient=o}handleCodeResponse(t,e){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.HandleCodeResponse,e.correlationId);let i;try{i=$r.getAuthorizationCodePayload(t,e.state)}catch(n){throw n instanceof ii&&n.subError===Ui?ee(Ui):n}return B(this.handleCodeResponseFromServer.bind(this),k.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)(i,e)})}handleCodeResponseFromServer(t,e,i=!0){return O(this,null,function*(){if(this.performanceClient.addQueueMeasurement(k.HandleCodeResponseFromServer,e.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=t.code,t.cloud_instance_host_name&&(yield B(this.authModule.updateAuthority.bind(this.authModule),k.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,e.correlationId)(t.cloud_instance_host_name,e.correlationId)),i&&(t.nonce=e.nonce||void 0),t.state=e.state,t.client_info)this.authCodeRequest.clientInfo=t.client_info;else{let o=this.createCcsCredentials(e);o&&(this.authCodeRequest.ccsCredential=o)}return yield B(this.authModule.acquireToken.bind(this.authModule),k.AuthClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(this.authCodeRequest,t)})}createCcsCredentials(t){return t.account?{credential:t.account.homeAccountId,type:Lt.HOME_ACCOUNT_ID}:t.loginHint?{credential:t.loginHint,type:Lt.UPN}:null}};var Is=class extends ni{acquireToken(t){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.SilentCacheClientAcquireToken,t.correlationId);let e=this.initializeServerTelemetryManager(je.acquireTokenSilent_silentFlow),i=yield B(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}),n=new Ll(i,this.performanceClient);this.logger.verbose("Silent auth client created");try{let a=(yield B(n.acquireCachedToken.bind(n),k.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,t.correlationId)(t))[0];return this.performanceClient.addFields({fromCache:!0},t.correlationId),a}catch(o){throw o instanceof Ko&&o.errorCode===Tn&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}})}logout(t){this.logger.verbose("logoutRedirect called");let e=this.initializeLogoutRequest(t);return this.clearCacheOnLogout(e?.account)}};var xn=class extends Es{constructor(t,e,i,n,o,a,l,d,b,s,E,w){super(t,e,i,n,o,a,d,b,w),this.apiId=l,this.accountId=s,this.nativeMessageHandler=b,this.nativeStorageManager=E,this.silentCacheClient=new Is(t,this.nativeStorageManager,i,n,o,a,d,b,w);let v=this.nativeMessageHandler.getExtensionId()===Dn.PREFERRED_EXTENSION_ID?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=zo.makeExtraSkuString({libraryName:ct.MSAL_SKU,libraryVersion:ur,extensionName:v,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(t){t.extraParameters=oe(x({},t.extraParameters),{[Vr.X_CLIENT_EXTRA_SKU]:this.skus})}acquireToken(t,e){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.NativeInteractionClientAcquireToken,t.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");let i=this.performanceClient.startMeasurement(k.NativeInteractionClientAcquireToken,t.correlationId),n=Vt.nowSeconds(),o=this.initializeServerTelemetryManager(this.apiId);try{let a=yield this.initializeNativeRequest(t);try{let E=yield this.acquireTokensFromCache(this.accountId,a);return i.end({success:!0,isNativeBroker:!1,fromCache:!0}),E}catch(E){if(e===Pt.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),E;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}let l=pr(a,[]),d={method:Wr.GetToken,request:l},b=yield this.nativeMessageHandler.sendMessage(d),s=this.validateNativeResponse(b);return yield this.handleNativeResponse(s,a,n).then(E=>(i.end({success:!0,isNativeBroker:!0,requestId:E.requestId}),o.clearNativeBrokerErrorCode(),E)).catch(E=>{throw i.end({success:!1,errorCode:E.errorCode,subErrorCode:E.subError,isNativeBroker:!0}),E})}catch(a){throw a instanceof Ai&&o.setNativeBrokerErrorCode(a.errorCode),a}})}createSilentCacheRequest(t,e){return{authority:t.authority,correlationId:this.correlationId,scopes:Xe.fromString(t.scope).asArray(),account:e,forceRefresh:!1}}acquireTokensFromCache(t,e){return O(this,null,function*(){if(!t)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),G(Et.noAccountFound);let i=this.browserStorage.getBaseAccountInfo({nativeAccountId:t});if(!i)throw G(Et.noAccountFound);try{let n=this.createSilentCacheRequest(e,i),o=yield this.silentCacheClient.acquireToken(n),a=oe(x({},i),{idTokenClaims:o?.idTokenClaims,idToken:o?.idToken});return oe(x({},o),{account:a})}catch(n){throw n}})}acquireTokenRedirect(t,e){return O(this,null,function*(){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");let i=pr(t,[]);delete i.onRedirectNavigate;let n=yield this.initializeNativeRequest(i),o={method:Wr.GetToken,request:n};try{let d=yield this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(d)}catch(d){if(d instanceof Ai&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(d.errorCode),Pn(d)))throw d}this.browserStorage.setTemporaryCache(lt.NATIVE_REQUEST,JSON.stringify(n),!0);let a={apiId:je.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(t.redirectUri);e.end({success:!0}),yield this.navigationClient.navigateExternal(l,a)})}handleRedirectPromise(t,e){return O(this,null,function*(){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;let i=this.browserStorage.getCachedNativeRequest();if(!i)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),t&&e&&t?.addFields({errorCode:"no_cached_request"},e),null;let d=i,{prompt:n}=d,o=pr(d,["prompt"]);n&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(lt.NATIVE_REQUEST));let a={method:Wr.GetToken,request:o},l=Vt.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");let b=yield this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(b);let E=yield this.handleNativeResponse(b,o,l);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),E}catch(b){throw b}})}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}handleNativeResponse(t,e,i){return O(this,null,function*(){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");let n=Oa.extractTokenClaims(t.id_token,Bt),o=this.createHomeAccountIdentifier(t,n),a=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:e.accountId})?.homeAccountId;if(e.extraParameters?.child_client_id&&t.account.id!==e.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==a&&t.account.id!==e.accountId)throw Ql(Eh);let l=yield this.getDiscoveredAuthority({requestAuthority:e.authority}),d=ja(this.browserStorage,l,o,Bt,n,t.client_info,void 0,n.tid,void 0,t.account.id,this.logger);t.expires_in=Number(t.expires_in);let b=yield this.generateAuthenticationResult(t,e,n,d,l.canonicalAuthority,i);return yield this.cacheAccount(d),yield this.cacheNativeTokens(t,e,o,n,t.access_token,b.tenantId,i),b})}createHomeAccountIdentifier(t,e){return ft.generateHomeAccountId(t.client_info||U.EMPTY_STRING,zt.Default,this.logger,this.browserCrypto,e)}generateScopes(t,e){return t.scope?Xe.fromString(t.scope):Xe.fromString(e.scope)}generatePopAccessToken(t,e){return O(this,null,function*(){if(e.tokenType===Fe.POP&&e.signPopToken){if(t.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),t.shr;let i=new ri(this.browserCrypto),n={resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,shrNonce:e.shrNonce};if(!e.keyId)throw G(Et.keyIdMissing);return i.signPopToken(t.access_token,e.keyId,n)}else return t.access_token})}generateAuthenticationResult(t,e,i,n,o,a){return O(this,null,function*(){let l=this.addTelemetryFromNativeResponse(t),d=t.scope?Xe.fromString(t.scope):Xe.fromString(e.scope),b=t.account.properties||{},s=b.UID||i.oid||i.sub||U.EMPTY_STRING,E=b.TenantId||i.tid||U.EMPTY_STRING,w=Oo(n.getAccountInfo(),void 0,i,t.id_token);w.nativeAccountId!==t.account.id&&(w.nativeAccountId=t.account.id);let v=yield this.generatePopAccessToken(t,e),_=e.tokenType===Fe.POP?Fe.POP:Fe.BEARER;return{authority:o,uniqueId:s,tenantId:E,scopes:d.asArray(),account:w,idToken:t.id_token,idTokenClaims:i,accessToken:v,fromCache:l?this.isResponseFromCache(l):!1,expiresOn:Vt.toDateFromSeconds(a+t.expires_in),tokenType:_,correlationId:this.correlationId,state:t.state,fromNativeBroker:!0}})}cacheAccount(t){return O(this,null,function*(){yield this.browserStorage.setAccount(t,this.correlationId),this.browserStorage.removeAccountContext(t).catch(e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)})})}cacheNativeTokens(t,e,i,n,o,a,l){let d=nt.createIdTokenEntity(i,e.authority,t.id_token||"",e.clientId,n.tid||""),b=e.tokenType===Fe.POP?U.SHR_NONCE_VALIDITY:(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,s=l+b,E=this.generateScopes(t,e),w=nt.createAccessTokenEntity(i,e.authority,o,e.clientId,n.tid||a,E.printScopes(),s,0,Bt,void 0,e.tokenType,void 0,e.keyId),v={idToken:d,accessToken:w};return this.nativeStorageManager.saveCacheRecord(v,this.correlationId,e.storeInCache)}addTelemetryFromNativeResponse(t){let e=this.getMATSFromResponse(t);return e?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:e.broker_version,matsAccountJoinOnStart:e.account_join_on_start,matsAccountJoinOnEnd:e.account_join_on_end,matsDeviceJoin:e.device_join,matsPromptBehavior:e.prompt_behavior,matsApiErrorCode:e.api_error_code,matsUiVisible:e.ui_visible,matsSilentCode:e.silent_code,matsSilentBiSubCode:e.silent_bi_sub_code,matsSilentMessage:e.silent_message,matsSilentStatus:e.silent_status,matsHttpStatus:e.http_status,matsHttpEventCount:e.http_event_count},this.correlationId),e):null}validateNativeResponse(t){if(t.hasOwnProperty("access_token")&&t.hasOwnProperty("id_token")&&t.hasOwnProperty("client_info")&&t.hasOwnProperty("account")&&t.hasOwnProperty("scope")&&t.hasOwnProperty("expires_in"))return t;throw Gc(io.unexpectedError,"Response missing expected properties.")}getMATSFromResponse(t){if(t.properties.MATS)try{return JSON.parse(t.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(t){return typeof t.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!t.is_cached}initializeNativeRequest(t){return O(this,null,function*(){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");let e=t.authority||this.config.auth.authority;t.account&&(yield this.getDiscoveredAuthority({requestAuthority:e,requestAzureCloudOptions:t.azureCloudOptions,account:t.account}));let i=new Ee(e);i.validateAsUri();let b=t,{scopes:n}=b,o=pr(b,["scopes"]),a=new Xe(n||[]);a.appendScopes(Fi);let l=()=>{switch(this.apiId){case je.ssoSilent:case je.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),it.NONE}if(!t.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(t.prompt){case it.NONE:case it.CONSENT:case it.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),t.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${t.prompt} is not compatible with native flow`),ee(hs)}},d=oe(x({},o),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:i.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(t.redirectUri),prompt:l(),correlationId:this.correlationId,tokenType:t.authenticationScheme,windowTitleSubstring:document.title,extraParameters:x(x({},t.extraQueryParameters),t.tokenQueryParameters),extendedExpiryToken:!1,keyId:t.popKid});if(d.signPopToken&&t.popKid)throw ee(ps);if(this.handleExtraBrokerParams(d),d.extraParameters=d.extraParameters||{},d.extraParameters.telemetry=Dn.MATS_TELEMETRY,t.authenticationScheme===Fe.POP){let s={resourceRequestUri:t.resourceRequestUri,resourceRequestMethod:t.resourceRequestMethod,shrClaims:t.shrClaims,shrNonce:t.shrNonce},E=new ri(this.browserCrypto),w;if(d.keyId)w=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:d.keyId})),d.signPopToken=!1;else{let v=yield B(E.generateCnf.bind(E),k.PopTokenGenerateCnf,this.logger,this.performanceClient,t.correlationId)(s,this.logger);w=v.reqCnfString,d.keyId=v.kid,d.signPopToken=!0}d.reqCnf=w}return this.addRequestSKUs(d),d})}handleExtraBrokerParams(t){let e=t.extraParameters&&t.extraParameters.hasOwnProperty(Vr.BROKER_CLIENT_ID)&&t.extraParameters.hasOwnProperty(Vr.BROKER_REDIRECT_URI)&&t.extraParameters.hasOwnProperty(Vr.CLIENT_ID);if(!t.embeddedClientId&&!e)return;let i="",n=t.redirectUri;t.embeddedClientId?(t.redirectUri=this.config.auth.redirectUri,i=t.embeddedClientId):t.extraParameters&&(t.redirectUri=t.extraParameters[Vr.BROKER_REDIRECT_URI],i=t.extraParameters[Vr.CLIENT_ID]),t.extraParameters={child_client_id:i,child_redirect_uri:n},this.performanceClient?.addFields({embeddedClientId:i,embeddedRedirectUri:n},t.correlationId)}};function lw(r,t,e,i,n){return O(this,null,function*(){let o=$r.getStandardAuthorizeRequestParameters(oe(x({},r.auth),{authority:t}),e,i,n);if(ti.addLibraryInfo(o,{sku:ct.MSAL_SKU,version:ur,os:"",cpu:""}),r.auth.protocolMode!==st.OIDC&&ti.addApplicationTelemetry(o,r.telemetry.application),e.platformBroker&&(ti.addNativeBroker(o),e.authenticationScheme===Fe.POP)){let a=new _s(i,n),l=new ri(a),d;e.popKid?d=a.encodeKid(e.popKid):d=(yield B(l.generateCnf.bind(l),k.PopTokenGenerateCnf,i,n,e.correlationId)(e,i)).reqCnfString,ti.addPopToken(o,d)}return ti.instrumentBrokerParams(o,e.correlationId,n),o})}function Ts(r,t,e,i,n){return O(this,null,function*(){if(!e.codeChallenge)throw Pe(gi.pkceParamsMissing);let o=yield B(lw,k.GetStandardParams,i,n,e.correlationId)(r,t,e,i,n);return ti.addResponseType(o,_u.CODE),ti.addCodeChallengeParams(o,e.codeChallenge,U.S256_CODE_CHALLENGE_METHOD),ti.addExtraQueryParameters(o,e.extraQueryParameters||{}),$r.getAuthorizeUrl(t,o,r.auth.encodeExtraQueryParams,e.extraQueryParameters)})}function Rs(r,t,e,i,n,o){return O(this,null,function*(){if(!i.earJwk)throw ee(Ul);let a=yield lw(t,e,i,n,o);ti.addResponseType(a,_u.IDTOKEN_TOKEN_REFRESHTOKEN),ti.addEARParameters(a,i.earJwk);let l=new Map;ti.addExtraQueryParameters(l,i.extraQueryParameters||{});let d=$r.getAuthorizeUrl(e,l,t.auth.encodeExtraQueryParams,i.extraQueryParameters);return eT(r,d,a)})}function eT(r,t,e){let i=r.createElement("form");return i.method="post",i.action=t,e.forEach((n,o)=>{let a=r.createElement("input");a.hidden=!0,a.name=o,a.value=n,i.appendChild(a)}),r.body.appendChild(i),i}function dw(r,t,e,i,n,o,a,l,d,b){return O(this,null,function*(){if(!b)throw ee(kn);let s=new _s(l,d),E=new xn(i,n,s,l,a,i.system.navigationClient,e,d,b,t,o,r.correlationId),{userRequestState:w}=Li.parseRequestState(s,r.state);return B(E.acquireToken.bind(E),k.NativeInteractionClientAcquireToken,l,d,r.correlationId)(oe(x({},r),{state:w,prompt:void 0}))})}function ks(r,t,e,i,n,o,a,l,d,b,s,E){return O(this,null,function*(){if(Hr.removeThrottle(a,n.auth.clientId,r),t.accountId)return B(dw,k.HandleResponsePlatformBroker,b,s,r.correlationId)(r,t.accountId,i,n,a,l,d,b,s,E);let w=oe(x({},r),{code:t.code||"",codeVerifier:e}),v=new As(o,a,w,b,s);return yield B(v.handleCodeResponse.bind(v),k.HandleCodeResponse,b,s,r.correlationId)(t,r)})}function Ds(r,t,e,i,n,o,a,l,d,b,s){return O(this,null,function*(){if(Hr.removeThrottle(o,i.auth.clientId,r),$r.validateAuthorizationResponse(t,r.state),!t.ear_jwe)throw ee(Qu);if(!r.earJwk)throw ee(Ul);let E=JSON.parse(yield B(D_,k.DecryptEarResponse,d,b,r.correlationId)(r.earJwk,t.ear_jwe));if(E.accountId)return B(dw,k.HandleResponsePlatformBroker,d,b,r.correlationId)(r,E.accountId,e,i,o,a,l,d,b,s);let w=new Bi(i.auth.clientId,o,new _s(d,b),d,null,null,b);w.validateTokenResponse(E);let v={code:"",state:r.state,nonce:r.nonce,client_info:E.client_info,cloud_graph_host_name:E.cloud_graph_host_name,cloud_instance_host_name:E.cloud_instance_host_name,cloud_instance_name:E.cloud_instance_name,msgraph_host:E.msgraph_host};return yield B(w.handleServerTokenResponse.bind(w),k.HandleServerTokenResponse,d,b,r.correlationId)(E,n,Vt.nowSeconds(),r,v,void 0,void 0,void 0,void 0)})}var tT=32;function Fn(r,t,e){return O(this,null,function*(){r.addQueueMeasurement(k.GeneratePkceCodes,e);let i=St(iT,k.GenerateCodeVerifier,t,r,e)(r,t,e),n=yield B(rT,k.GenerateCodeChallengeFromVerifier,t,r,e)(i,r,t,e);return{verifier:i,challenge:n}})}function iT(r,t,e){try{let i=new Uint8Array(tT);return St(I_,k.GetRandomValues,t,r,e)(i),Si(i)}catch{throw ee($o)}}function rT(r,t,e,i){return O(this,null,function*(){t.addQueueMeasurement(k.GenerateCodeChallengeFromVerifier,i);try{let n=yield B(ig,k.Sha256Digest,e,t,i)(r,t,i);return Si(new Uint8Array(n))}catch{throw ee($o)}})}var Sh=class extends ni{constructor(t,e,i,n,o,a,l,d,b,s){super(t,e,i,n,o,a,l,b,s),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=d,this.eventHandler=o}acquireToken(t,e){try{let n={popupName:this.generatePopupName(t.scopes||Fi,t.authority||this.config.auth.authority),popupWindowAttributes:t.popupWindowAttributes||{},popupWindowParent:t.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(t,n,e)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(t,n,e))}catch(i){return Promise.reject(i)}}logout(t){try{this.logger.verbose("logoutPopup called");let e=this.initializeLogoutRequest(t),i={popupName:this.generateLogoutPopupName(e),popupWindowAttributes:t?.popupWindowAttributes||{},popupWindowParent:t?.popupWindowParent??window},n=t&&t.authority,o=t&&t.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(e,i,n,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),i.popup=this.openSizedPopup("about:blank",i),this.logoutPopupAsync(e,i,n,o))}catch(e){return Promise.reject(e)}}acquireTokenPopupAsync(t,e,i){return O(this,null,function*(){this.logger.verbose("acquireTokenPopupAsync called");let n=yield B(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,se.Popup);e.popup&&Gl(n.authority);let o=vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme);return n.platformBroker=o,this.config.auth.protocolMode===st.EAR?this.executeEarFlow(n,e):this.executeCodeFlow(n,e,i)})}executeCodeFlow(t,e,i){return O(this,null,function*(){let n=t.correlationId,o=this.initializeServerTelemetryManager(je.acquireTokenPopup),a=i||(yield B(Fn,k.GeneratePkceCodes,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n)),l=oe(x({},t),{codeChallenge:a.challenge});try{let d=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,n)({serverTelemetryManager:o,requestAuthority:l.authority,requestAzureCloudOptions:l.azureCloudOptions,requestExtraQueryParameters:l.extraQueryParameters,account:l.account}),b=yield B(Ts,k.GetAuthCodeUrl,this.logger,this.performanceClient,n)(this.config,d.authority,l,this.logger,this.performanceClient),s=this.initiateAuthRequest(b,e);this.eventHandler.emitEvent(ne.POPUP_OPENED,se.Popup,{popupWindow:s},null);let E=yield this.monitorPopupForHash(s,e.popupWindowParent),w=St(Ss,k.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(E,this.config.auth.OIDCOptions.serverResponseType,this.logger);return yield B(ks,k.HandleResponseCode,this.logger,this.performanceClient,n)(t,w,a.verifier,je.acquireTokenPopup,this.config,d,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(d){throw e.popup?.close(),d instanceof Ae&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),d}})}executeEarFlow(t,e){return O(this,null,function*(){let i=t.correlationId,n=yield B(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),o=yield B(vs,k.GenerateEarKey,this.logger,this.performanceClient,i)(),a=oe(x({},t),{earJwk:o}),l=e.popup||this.openPopup("about:blank",e);(yield Rs(l.document,this.config,n,a,this.logger,this.performanceClient)).submit();let b=yield B(this.monitorPopupForHash.bind(this),k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(l,e.popupWindowParent),s=St(Ss,k.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(b,this.config.auth.OIDCOptions.serverResponseType,this.logger);return B(Ds,k.HandleResponseEar,this.logger,this.performanceClient,i)(a,s,je.acquireTokenPopup,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)})}logoutPopupAsync(t,e,i,n){return O(this,null,function*(){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ne.LOGOUT_START,se.Popup,t);let o=this.initializeServerTelemetryManager(je.logoutPopup);try{yield this.clearCacheOnLogout(t.account);let a=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:i,account:t.account||void 0});try{a.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId&&t.postLogoutRedirectUri&&a.authority.protocolMode===st.OIDC){if(this.browserStorage.removeAccount(t.account?.homeAccountId),this.eventHandler.emitEvent(ne.LOGOUT_SUCCESS,se.Popup,t),n){let b={apiId:je.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=Ee.getAbsoluteUrl(n,$t());yield this.navigationClient.navigateInternal(s,b)}e.popup?.close();return}}let l=a.getLogoutUri(t);this.eventHandler.emitEvent(ne.LOGOUT_SUCCESS,se.Popup,t);let d=this.openPopup(l,e);if(this.eventHandler.emitEvent(ne.POPUP_OPENED,se.Popup,{popupWindow:d},null),yield this.monitorPopupForHash(d,e.popupWindowParent).catch(()=>{}),n){let b={apiId:je.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=Ee.getAbsoluteUrl(n,$t());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${s}`),yield this.navigationClient.navigateInternal(s,b)}else this.logger.verbose("No main window navigation requested")}catch(a){throw e.popup?.close(),a instanceof Ae&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),this.eventHandler.emitEvent(ne.LOGOUT_FAILURE,se.Popup,null,a),this.eventHandler.emitEvent(ne.LOGOUT_END,se.Popup),a}this.eventHandler.emitEvent(ne.LOGOUT_END,se.Popup)})}initiateAuthRequest(t,e){if(t)return this.logger.infoPii(`Navigate to: ${t}`),this.openPopup(t,e);throw this.logger.error("Navigate url is empty"),ee(ar)}monitorPopupForHash(t,e){return new Promise((i,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");let o=setInterval(()=>{if(t.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),n(ee(Ui));return}let a="";try{a=t.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(o);let l="",d=this.config.auth.OIDCOptions.serverResponseType;t&&(d===Zi.QUERY?l=t.location.search:l=t.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),i(l)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(t,e)})}openPopup(t,e){try{let i;if(e.popup?(i=e.popup,this.logger.verbosePii(`Navigating popup window to: ${t}`),i.location.assign(t)):typeof e.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${t}`),i=this.openSizedPopup(t,e)),!i)throw ee(Ya);return i.focus&&i.focus(),this.currentWindow=i,e.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),i}catch(i){throw this.logger.error("error opening popup "+i.message),ee(Wa)}}openSizedPopup(t,{popupName:e,popupWindowAttributes:i,popupWindowParent:n}){let o=n.screenLeft?n.screenLeft:n.screenX,a=n.screenTop?n.screenTop:n.screenY,l=n.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=n.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,b=i.popupSize?.width,s=i.popupSize?.height,E=i.popupPosition?.top,w=i.popupPosition?.left;return(!b||b<0||b>l)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),b=ct.POPUP_WIDTH),(!s||s<0||s>d)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),s=ct.POPUP_HEIGHT),(!E||E<0||E>d)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),E=Math.max(0,d/2-ct.POPUP_HEIGHT/2+a)),(!w||w<0||w>l)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),w=Math.max(0,l/2-ct.POPUP_WIDTH/2+o)),n.open(t,e,`width=${b}, height=${s}, top=${E}, left=${w}, scrollbars=yes`)}unloadWindow(t){this.currentWindow&&this.currentWindow.close(),t.preventDefault()}cleanPopup(t,e){t.close(),e.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(t,e){return`${ct.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t.join("-")}.${e}.${this.correlationId}`}generateLogoutPopupName(t){let e=t.account&&t.account.homeAccountId;return`${ct.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e}.${this.correlationId}`}};function nT(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;let r=window.performance.getEntriesByType("navigation");return(r.length?r[0]:void 0)?.type}var Ah=class extends ni{constructor(t,e,i,n,o,a,l,d,b,s){super(t,e,i,n,o,a,l,b,s),this.nativeStorage=d}acquireToken(t){return O(this,null,function*(){let e=yield B(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(t,se.Redirect);e.platformBroker=vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme);let i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ne.RESTORE_FROM_BFCACHE,se.Redirect))},n=this.getRedirectStartPage(t.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${n}`),this.browserStorage.setTemporaryCache(lt.ORIGIN_URI,n,!0),window.addEventListener("pageshow",i);try{this.config.auth.protocolMode===st.EAR?yield this.executeEarFlow(e):yield this.executeCodeFlow(e,t.onRedirectNavigate)}catch(o){throw o instanceof Ae&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",i),o}})}executeCodeFlow(t,e){return O(this,null,function*(){let i=t.correlationId,n=this.initializeServerTelemetryManager(je.acquireTokenRedirect),o=yield B(Fn,k.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),a=oe(x({},t),{codeChallenge:o.challenge});this.browserStorage.cacheAuthorizeRequest(a,o.verifier);try{let l=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),d=yield B(Ts,k.GetAuthCodeUrl,this.logger,this.performanceClient,t.correlationId)(this.config,l.authority,a,this.logger,this.performanceClient);return yield this.initiateAuthRequest(d,e)}catch(l){throw l instanceof Ae&&(l.setCorrelationId(this.correlationId),n.cacheFailedRequest(l)),l}})}executeEarFlow(t){return O(this,null,function*(){let e=t.correlationId,i=yield B(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),n=yield B(vs,k.GenerateEarKey,this.logger,this.performanceClient,e)(),o=oe(x({},t),{earJwk:n});this.browserStorage.cacheAuthorizeRequest(o),(yield Rs(document,this.config,i,o,this.logger,this.performanceClient)).submit()})}handleRedirectPromise(t="",e,i,n){return O(this,null,function*(){let o=this.initializeServerTelemetryManager(je.handleRedirectPromise);try{let[a,l]=this.getRedirectResponse(t||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),nT()!=="back_forward"?n.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;let d=this.browserStorage.getTemporaryCache(lt.ORIGIN_URI,!0)||U.EMPTY_STRING,b=Ee.removeHashFromUrl(d),s=Ee.removeHashFromUrl(window.location.href);if(b===s&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),d.indexOf("#")>-1&&ag(d),yield this.handleResponse(a,e,i,o);if(this.config.auth.navigateToLoginRequestUrl){if(!zl()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(lt.URL_HASH,l,!0);let E={apiId:je.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},w=!0;if(!d||d==="null"){let v=sg();this.browserStorage.setTemporaryCache(lt.ORIGIN_URI,v,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),w=yield this.navigationClient.navigateInternal(v,E)}else this.logger.verbose(`Navigating to loginRequestUrl: ${d}`),w=yield this.navigationClient.navigateInternal(d,E);if(!w)return yield this.handleResponse(a,e,i,o)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),yield this.handleResponse(a,e,i,o);return null}catch(a){throw a instanceof Ae&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}})}getRedirectResponse(t){this.logger.verbose("getRedirectResponseHash called");let e=t;e||(this.config.auth.OIDCOptions.serverResponseType===Zi.QUERY?e=window.location.search:e=window.location.hash);let i=wn.getDeserializedResponse(e);if(i){try{cw(i,this.browserCrypto,se.Redirect)}catch(o){return o instanceof Ae&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return og(window),this.logger.verbose("Hash contains known properties, returning response hash"),[i,e]}let n=this.browserStorage.getTemporaryCache(lt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(lt.URL_HASH)),n&&(i=wn.getDeserializedResponse(n),i)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[i,n]):[null,""]}handleResponse(t,e,i,n){return O(this,null,function*(){if(!t.state)throw ee(In);if(t.ear_jwe){let l=yield B(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e.correlationId)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return B(Ds,k.HandleResponseEar,this.logger,this.performanceClient,e.correlationId)(e,t,je.acquireTokenRedirect,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}let a=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority});return B(ks,k.HandleResponseCode,this.logger,this.performanceClient,e.correlationId)(e,t,i,je.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)})}initiateAuthRequest(t,e){return O(this,null,function*(){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),t){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${t}`);let i={apiId:je.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},n=e||this.config.auth.onRedirectNavigate;if(typeof n=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),n(t)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),yield this.navigationClient.navigateExternal(t,i);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),yield this.navigationClient.navigateExternal(t,i);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ee(ar)})}logout(t){return O(this,null,function*(){this.logger.verbose("logoutRedirect called");let e=this.initializeLogoutRequest(t),i=this.initializeServerTelemetryManager(je.logout);try{this.eventHandler.emitEvent(ne.LOGOUT_START,se.Redirect,t),yield this.clearCacheOnLogout(e.account);let n={apiId:je.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:t&&t.authority,requestExtraQueryParameters:t?.extraQueryParameters,account:t&&t.account||void 0});if(o.authority.protocolMode===st.OIDC)try{o.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId){this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(ne.LOGOUT_SUCCESS,se.Redirect,e);return}}let a=o.getLogoutUri(e);if(this.eventHandler.emitEvent(ne.LOGOUT_SUCCESS,se.Redirect,e),t&&typeof t.onRedirectNavigate=="function")if(t.onRedirectNavigate(a)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ji.SIGNOUT),yield this.navigationClient.navigateExternal(a,n);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,ji.SIGNOUT),yield this.navigationClient.navigateExternal(a,n);return}}catch(n){throw n instanceof Ae&&(n.setCorrelationId(this.correlationId),i.cacheFailedRequest(n)),this.eventHandler.emitEvent(ne.LOGOUT_FAILURE,se.Redirect,null,n),this.eventHandler.emitEvent(ne.LOGOUT_END,se.Redirect),n}this.eventHandler.emitEvent(ne.LOGOUT_END,se.Redirect)})}getRedirectStartPage(t){let e=t||window.location.href;return Ee.getAbsoluteUrl(e,$t())}};function uw(r,t,e,i,n){return O(this,null,function*(){if(t.addQueueMeasurement(k.SilentHandlerInitiateAuthRequest,i),!r)throw e.info("Navigate url is empty"),ee(ar);return n?B(oT,k.SilentHandlerLoadFrame,e,t,i)(r,n,t,i):St(aT,k.SilentHandlerLoadFrameSync,e,t,i)(r)})}function hw(r,t,e,i,n){return O(this,null,function*(){let o=dg();if(!o.contentDocument)throw"No document associated with iframe!";return(yield Rs(o.contentDocument,r,t,e,i,n)).submit(),o})}function lg(r,t,e,i,n,o,a){return O(this,null,function*(){return i.addQueueMeasurement(k.SilentHandlerMonitorIframeForHash,o),new Promise((l,d)=>{t<ph&&n.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${ph}ms). This may result in timeouts.`);let b=window.setTimeout(()=>{window.clearInterval(s),d(ee(Qa))},t),s=window.setInterval(()=>{let E="",w=r.contentWindow;try{E=w?w.location.href:""}catch{}if(!E||E==="about:blank")return;let v="";w&&(a===Zi.QUERY?v=w.location.search:v=w.location.hash),window.clearTimeout(b),window.clearInterval(s),l(v)},e)}).finally(()=>{St(sT,k.RemoveHiddenIframe,n,i,o)(r)})})}function oT(r,t,e,i){return e.addQueueMeasurement(k.SilentHandlerLoadFrame,i),new Promise((n,o)=>{let a=dg();window.setTimeout(()=>{if(!a){o("Unable to load iframe");return}a.src=r,n(a)},t)})}function aT(r){let t=dg();return t.src=r,t}function dg(){let r=document.createElement("iframe");return r.className="msalSilentIframe",r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(r),r}function sT(r){document.body===r.parentNode&&document.body.removeChild(r)}var Ih=class extends ni{constructor(t,e,i,n,o,a,l,d,b,s,E){super(t,e,i,n,o,a,d,s,E),this.apiId=l,this.nativeStorage=b}acquireToken(t){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.SilentIframeClientAcquireToken,t.correlationId),!t.loginHint&&!t.sid&&(!t.account||!t.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");let e=x({},t);e.prompt?e.prompt!==it.NONE&&e.prompt!==it.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${e.prompt} with ${it.NONE}`),e.prompt=it.NONE):e.prompt=it.NONE;let i=yield B(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(e,se.Silent);return i.platformBroker=vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,i.authenticationScheme),Gl(i.authority),this.config.auth.protocolMode===st.EAR?this.executeEarFlow(i):this.executeCodeFlow(i)})}executeCodeFlow(t){return O(this,null,function*(){let e,i=this.initializeServerTelemetryManager(this.apiId);try{return e=yield B(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:i,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),yield B(this.silentTokenHelper.bind(this),k.SilentIframeClientTokenHelper,this.logger,this.performanceClient,t.correlationId)(e,t)}catch(n){if(n instanceof Ae&&(n.setCorrelationId(this.correlationId),i.cacheFailedRequest(n)),!e||!(n instanceof Ae)||n.errorCode!==ct.INVALID_GRANT_ERROR)throw n;return this.performanceClient.addFields({retryError:n.errorCode},this.correlationId),yield B(this.silentTokenHelper.bind(this),k.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(e,t)}})}executeEarFlow(t){return O(this,null,function*(){let e=t.correlationId,i=yield B(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,e)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),n=yield B(vs,k.GenerateEarKey,this.logger,this.performanceClient,e)(),o=oe(x({},t),{earJwk:n}),a=yield B(hw,k.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,e)(this.config,i,o,this.logger,this.performanceClient),l=this.config.auth.OIDCOptions.serverResponseType,d=yield B(lg,k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,e)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,e,l),b=St(Ss,k.DeserializeResponse,this.logger,this.performanceClient,e)(d,l,this.logger);return B(Ds,k.HandleResponseEar,this.logger,this.performanceClient,e)(o,b,this.apiId,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)})}logout(){return Promise.reject(ee(sr))}silentTokenHelper(t,e){return O(this,null,function*(){let i=e.correlationId;this.performanceClient.addQueueMeasurement(k.SilentIframeClientTokenHelper,i);let n=yield B(Fn,k.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),o=oe(x({},e),{codeChallenge:n.challenge}),a=yield B(Ts,k.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,t.authority,o,this.logger,this.performanceClient),l=yield B(uw,k.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,i)(a,this.performanceClient,this.logger,i,this.config.system.navigateFrameWait),d=this.config.auth.OIDCOptions.serverResponseType,b=yield B(lg,k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(l,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,i,d),s=St(Ss,k.DeserializeResponse,this.logger,this.performanceClient,i)(b,d,this.logger);return B(ks,k.HandleResponseCode,this.logger,this.performanceClient,i)(e,s,n.verifier,this.apiId,this.config,t,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)})}};var Th=class extends ni{acquireToken(t){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.SilentRefreshClientAcquireToken,t.correlationId);let e=yield B(Yl,k.InitializeBaseRequest,this.logger,this.performanceClient,t.correlationId)(t,this.config,this.performanceClient,this.logger),i=x(x({},t),e);t.redirectUri&&(i.redirectUri=this.getRedirectUri(t.redirectUri));let n=this.initializeServerTelemetryManager(je.acquireTokenSilent_silentFlow),o=yield this.createRefreshTokenClient({serverTelemetryManager:n,authorityUrl:i.authority,azureCloudOptions:i.azureCloudOptions,account:i.account});return B(o.acquireTokenByRefreshToken.bind(o),k.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(i).catch(a=>{throw a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a),a})})}logout(){return Promise.reject(ee(sr))}createRefreshTokenClient(t){return O(this,null,function*(){let e=yield B(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t.serverTelemetryManager,requestAuthority:t.authorityUrl,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return new Vl(e,this.performanceClient)})}};var Rh=class{constructor(t,e,i,n){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=e,this.logger=i,this.cryptoObj=n}loadExternalTokens(t,e,i){return O(this,null,function*(){if(!this.isBrowserEnvironment)throw ee(cr);let n=t.correlationId||Tt(),o=e.id_token?Oa.extractTokenClaims(e.id_token,Bt):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=t.authority?new Ei(Ei.generateAuthority(t.authority,t.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,t.correlationId||Tt()):void 0,d=yield this.loadAccount(t,i.clientInfo||e.client_info||"",n,o,l),b=yield this.loadIdToken(e,d.homeAccountId,d.environment,d.realm,n),s=yield this.loadAccessToken(t,e,d.homeAccountId,d.environment,d.realm,i,n),E=yield this.loadRefreshToken(e,d.homeAccountId,d.environment,n);return this.generateAuthenticationResult(t,{account:d,idToken:b,accessToken:s,refreshToken:E},o,l)})}loadAccount(t,e,i,n,o){return O(this,null,function*(){if(this.logger.verbose("TokenCache - loading account"),t.account){let b=ft.createFromAccountInfo(t.account);return yield this.storage.setAccount(b,i),b}else if(!o||!e&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ee(os);let a=ft.generateHomeAccountId(e,o.authorityType,this.logger,this.cryptoObj,n),l=n?.tid,d=ja(this.storage,o,a,Bt,n,e,o.hostnameAndPort,l,void 0,void 0,this.logger);return yield this.storage.setAccount(d,i),d})}loadIdToken(t,e,i,n,o){return O(this,null,function*(){if(!t.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");let a=nt.createIdTokenEntity(e,i,t.id_token,this.config.auth.clientId,n);return yield this.storage.setIdTokenCredential(a,o),a})}loadAccessToken(t,e,i,n,o,a,l){return O(this,null,function*(){if(e.access_token)if(e.expires_in){if(!e.scope&&(!t.scopes||!t.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");let d=e.scope?Xe.fromString(e.scope):new Xe(t.scopes),b=a.expiresOn||e.expires_in+Vt.nowSeconds(),s=a.extendedExpiresOn||(e.ext_expires_in||e.expires_in)+Vt.nowSeconds(),E=nt.createAccessTokenEntity(i,n,e.access_token,this.config.auth.clientId,o,d.printScopes(),b,s,Bt);return yield this.storage.setAccessTokenCredential(E,l),E})}loadRefreshToken(t,e,i,n){return O(this,null,function*(){if(!t.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");let o=nt.createRefreshTokenEntity(e,i,t.refresh_token,this.config.auth.clientId,t.foci,void 0,t.refresh_token_expires_in);return yield this.storage.setRefreshTokenCredential(o,n),o})}generateAuthenticationResult(t,e,i,n){let o="",a=[],l=null,d;e?.accessToken&&(o=e.accessToken.secret,a=Xe.fromString(e.accessToken.target).asArray(),l=Vt.toDateFromSeconds(e.accessToken.expiresOn),d=Vt.toDateFromSeconds(e.accessToken.extendedExpiresOn));let b=e.account;return{authority:n?n.canonicalAuthority:"",uniqueId:e.account.localAccountId,tenantId:e.account.realm,scopes:a,account:b.getAccountInfo(),idToken:e.idToken?.secret||"",idTokenClaims:i||{},accessToken:o,fromCache:!0,expiresOn:l,correlationId:t.correlationId||"",requestId:"",extExpiresOn:d,familyId:e.refreshToken?.familyId||"",tokenType:e?.accessToken?.tokenType||"",state:t.state||"",cloudGraphHostName:b.cloudGraphHostName||"",msGraphHost:b.msGraphHost||"",fromNativeBroker:!1}}};var kh=class extends Ho{constructor(t){super(t),this.includeRedirectUri=!1}};var Dh=class extends ni{constructor(t,e,i,n,o,a,l,d,b,s){super(t,e,i,n,o,a,d,b,s),this.apiId=l}acquireToken(t){return O(this,null,function*(){if(!t.code)throw ee(as);let e=yield B(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,t.correlationId)(t,se.Silent),i=this.initializeServerTelemetryManager(this.apiId);try{let n=oe(x({},e),{code:t.code}),o=yield B(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,t.correlationId)({serverTelemetryManager:i,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=new kh(o);this.logger.verbose("Auth code client created");let l=new As(a,this.browserStorage,n,this.logger,this.performanceClient);return yield B(l.handleCodeResponseFromServer.bind(l),k.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)({code:t.code,msgraph_host:t.msGraphHost,cloud_graph_host_name:t.cloudGraphHostName,cloud_instance_host_name:t.cloudInstanceHostName},e,!1)}catch(n){throw n instanceof Ae&&(n.setCorrelationId(this.correlationId),i.cacheFailedRequest(n)),n}})}logout(){return Promise.reject(ee(sr))}};function hr(r){let t=r?.idTokenClaims;if(t?.tfp||t?.acr)return"B2C";if(t?.tid){if(t?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Mh(r,t){try{$l(r)}catch(e){throw t.end({success:!1},e),e}}var Ms=class r{constructor(t){this.operatingContext=t,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=t.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new _s(this.logger,this.performanceClient):bn,this.eventHandler=new Ch(this.logger),this.browserStorage=this.isBrowserEnvironment?new Cs(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,Bf(this.config.auth)):G_(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);let e={cacheLocation:Ze.MemoryStorage,temporaryCacheLocation:Ze.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Cs(this.config.auth.clientId,e,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Rh(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static createController(t,e){return O(this,null,function*(){let i=new r(t);return yield i.initialize(e),i})}trackPageVisibility(t){t&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},t))}initialize(t){return O(this,null,function*(){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ne.INITIALIZE_END);return}let e=t?.correlationId||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,n=this.performanceClient.startMeasurement(k.InitializeClientApplication,e);if(this.eventHandler.emitEvent(ne.INITIALIZE_START),yield B(this.browserStorage.initialize.bind(this.browserStorage),k.InitializeCache,this.logger,this.performanceClient,e)(e),i)try{this.nativeExtensionProvider=yield vi.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),yield B(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),k.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,e)(this.performanceClient,e)),this.config.system.asyncPopups&&(yield this.preGeneratePkceCodes(e)),this.initialized=!0,this.eventHandler.emitEvent(ne.INITIALIZE_END),n.end({allowPlatformBroker:i,success:!0})})}handleRedirectPromise(t){return O(this,null,function*(){if(this.logger.verbose("handleRedirectPromise called"),dh(this.initialized),this.isBrowserEnvironment){let e=t||"",i=this.redirectResponse.get(e);return typeof i>"u"?(i=this.handleRedirectPromiseInternal(t),this.redirectResponse.set(e,i),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),i}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null})}handleRedirectPromiseInternal(t){return O(this,null,function*(){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===ji.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);let i=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),o=n&&vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t,a;this.eventHandler.emitEvent(ne.HANDLE_REDIRECT_START,se.Redirect);let l;try{if(o&&this.nativeExtensionProvider){a=this.performanceClient.startMeasurement(k.AcquireTokenRedirect,n?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");let d=new xn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);l=B(d.handleRedirectPromise.bind(d),k.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{let[d,b]=this.browserStorage.getCachedRequest(),s=d.correlationId;a=this.performanceClient.startMeasurement(k.AcquireTokenRedirect,s),this.logger.trace("handleRedirectPromise - acquiring token from web flow");let E=this.createRedirectClient(s);l=B(E.handleRedirectPromise.bind(E),k.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(t,d,b,a)}}catch(d){throw this.browserStorage.resetRequestCache(),d}return l.then(d=>(d?(this.browserStorage.resetRequestCache(),i.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ne.LOGIN_SUCCESS,se.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_SUCCESS,se.Redirect,d),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:hr(d.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(ne.HANDLE_REDIRECT_END,se.Redirect),d)).catch(d=>{this.browserStorage.resetRequestCache();let b=d;throw i.length>0?this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,b):this.eventHandler.emitEvent(ne.LOGIN_FAILURE,se.Redirect,null,b),this.eventHandler.emitEvent(ne.HANDLE_REDIRECT_END,se.Redirect),a.end({success:!1},b),d})})}acquireTokenRedirect(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t);this.logger.verbose("acquireTokenRedirect called",e);let i=this.performanceClient.startMeasurement(k.AcquireTokenPreRedirect,e);i.add({accountType:hr(t.account),scenarioId:t.scenarioId});let n=t.onRedirectNavigate;if(n)t.onRedirectNavigate=a=>{let l=typeof n=="function"?n(a):void 0;return l!==!1?i.end({success:!0}):i.discard(),l};else{let a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=l=>{let d=typeof a=="function"?a(l):void 0;return d!==!1?i.end({success:!0}):i.discard(),d}}let o=this.getAllAccounts().length>0;try{uh(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ji.SIGNIN),o?this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_START,se.Redirect,t):this.eventHandler.emitEvent(ne.LOGIN_START,se.Redirect,t);let a;return this.nativeExtensionProvider&&this.canUsePlatformBroker(t)?a=new xn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,e).acquireTokenRedirect(t,i).catch(d=>{if(d instanceof Ai&&Pn(d))return this.nativeExtensionProvider=void 0,this.createRedirectClient(e).acquireToken(t);if(d instanceof At)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(e).acquireToken(t);throw d}):a=this.createRedirectClient(e).acquireToken(t),yield a}catch(a){throw this.browserStorage.resetRequestCache(),i.end({success:!1},a),o?this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_FAILURE,se.Redirect,null,a):this.eventHandler.emitEvent(ne.LOGIN_FAILURE,se.Redirect,null,a),a}})}acquireTokenPopup(t){let e=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement(k.AcquireTokenPopup,e);i.add({scenarioId:t.scenarioId,accountType:hr(t.account)});try{this.logger.verbose("acquireTokenPopup called",e),Mh(this.initialized,i),this.browserStorage.setInteractionInProgress(!0,ji.SIGNIN)}catch(l){return Promise.reject(l)}let n=this.getAllAccounts();n.length>0?this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_START,se.Popup,t):this.eventHandler.emitEvent(ne.LOGIN_START,se.Popup,t);let o,a=this.getPreGeneratedPkceCodes(e);return this.canUsePlatformBroker(t)?o=this.acquireTokenNative(oe(x({},t),{correlationId:e}),je.acquireTokenPopup).then(l=>(i.end({success:!0,isNativeBroker:!0,accountType:hr(l.account)}),l)).catch(l=>{if(l instanceof Ai&&Pn(l))return this.nativeExtensionProvider=void 0,this.createPopupClient(e).acquireToken(t,a);if(l instanceof At)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(e).acquireToken(t,a);throw l}):o=this.createPopupClient(e).acquireToken(t,a),o.then(l=>(n.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ne.LOGIN_SUCCESS,se.Popup,l):this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_SUCCESS,se.Popup,l),i.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:hr(l.account)}),l)).catch(l=>(n.length>0?this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_FAILURE,se.Popup,null,l):this.eventHandler.emitEvent(ne.LOGIN_FAILURE,se.Popup,null,l),i.end({success:!1},l),Promise.reject(l))).finally(()=>O(this,null,function*(){this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&(yield this.preGeneratePkceCodes(e))}))}trackPageVisibilityWithMeasurement(){let t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;t&&(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))}ssoSilent(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t),i=oe(x({},t),{prompt:t.prompt,correlationId:e});this.ssoSilentMeasurement=this.performanceClient.startMeasurement(k.SsoSilent,e),this.ssoSilentMeasurement?.add({scenarioId:t.scenarioId,accountType:hr(t.account)}),Mh(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",e),this.eventHandler.emitEvent(ne.SSO_SILENT_START,se.Silent,i);let n;return this.canUsePlatformBroker(i)?n=this.acquireTokenNative(i,je.ssoSilent).catch(o=>{if(o instanceof Ai&&Pn(o))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(i.correlationId).acquireToken(i);throw o}):n=this.createSilentIframeClient(i.correlationId).acquireToken(i),n.then(o=>(this.eventHandler.emitEvent(ne.SSO_SILENT_SUCCESS,se.Silent,o),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:hr(o.account)}),o)).catch(o=>{throw this.eventHandler.emitEvent(ne.SSO_SILENT_FAILURE,se.Silent,null,o),this.ssoSilentMeasurement?.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenByCode(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t);this.logger.trace("acquireTokenByCode called",e);let i=this.performanceClient.startMeasurement(k.AcquireTokenByCode,e);Mh(this.initialized,i),this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_BY_CODE_START,se.Silent,t),i.add({scenarioId:t.scenarioId});try{if(t.code&&t.nativeAccountId)throw ee(cs);if(t.code){let n=t.code,o=this.hybridAuthCodeResponses.get(n);return o?(this.logger.verbose("Existing acquireTokenByCode request found",e),i.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",e),o=this.acquireTokenByCodeAsync(oe(x({},t),{correlationId:e})).then(a=>(this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_BY_CODE_SUCCESS,se.Silent,a),this.hybridAuthCodeResponses.delete(n),i.end({success:!0,isNativeBroker:a.fromNativeBroker,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:hr(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(n),this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_BY_CODE_FAILURE,se.Silent,null,a),i.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(n,o)),yield o}else if(t.nativeAccountId)if(this.canUsePlatformBroker(t,t.nativeAccountId)){let n=yield this.acquireTokenNative(oe(x({},t),{correlationId:e}),je.acquireTokenByCode,t.nativeAccountId).catch(o=>{throw o instanceof Ai&&Pn(o)&&(this.nativeExtensionProvider=void 0),o});return i.end({accountType:hr(n.account),success:!0}),n}else throw ee(ls);else throw ee(ss)}catch(n){throw this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_BY_CODE_FAILURE,se.Silent,null,n),i.end({success:!1},n),n}})}acquireTokenByCodeAsync(t){return O(this,null,function*(){return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(k.AcquireTokenByCodeAsync,t.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),yield this.createSilentAuthCodeClient(t.correlationId).acquireToken(t).then(n=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:n.fromCache,isNativeBroker:n.fromNativeBroker}),n)).catch(n=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},n),n}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})})}acquireTokenFromCache(t,e){return O(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenFromCache,t.correlationId),e){case Pt.Default:case Pt.AccessToken:case Pt.AccessTokenAndRefreshToken:let i=this.createSilentCacheClient(t.correlationId);return B(i.acquireToken.bind(i),k.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw G(Et.tokenRefreshRequired)}})}acquireTokenByRefreshToken(t,e){return O(this,null,function*(){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenByRefreshToken,t.correlationId),e){case Pt.Default:case Pt.AccessTokenAndRefreshToken:case Pt.RefreshToken:case Pt.RefreshTokenAndNetwork:let i=this.createSilentRefreshClient(t.correlationId);return B(i.acquireToken.bind(i),k.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw G(Et.tokenRefreshRequired)}})}acquireTokenBySilentIframe(t){return O(this,null,function*(){this.performanceClient.addQueueMeasurement(k.AcquireTokenBySilentIframe,t.correlationId);let e=this.createSilentIframeClient(t.correlationId);return B(e.acquireToken.bind(e),k.SilentIframeClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t)})}logout(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",e),this.logoutRedirect(x({correlationId:e},t))})}logoutRedirect(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t);return uh(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,ji.SIGNOUT),this.createRedirectClient(e).logout(t)})}logoutPopup(t){try{let e=this.getRequestCorrelationId(t);return $l(this.initialized),this.browserStorage.setInteractionInProgress(!0,ji.SIGNOUT),this.createPopupClient(e).logout(t).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(e){return Promise.reject(e)}}clearCache(t){return O(this,null,function*(){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}let e=this.getRequestCorrelationId(t);return this.createSilentCacheClient(e).logout(t)})}getAllAccounts(t){return q_(this.logger,this.browserStorage,this.isBrowserEnvironment,t)}getAccount(t){return K_(t,this.logger,this.browserStorage)}getAccountByUsername(t){return W_(t,this.logger,this.browserStorage)}getAccountByHomeId(t){return Y_(t,this.logger,this.browserStorage)}getAccountByLocalId(t){return Q_(t,this.logger,this.browserStorage)}setActiveAccount(t){J_(t,this.browserStorage)}getActiveAccount(){return X_(this.browserStorage)}hydrateCache(t,e){return O(this,null,function*(){this.logger.verbose("hydrateCache called");let i=ft.createFromAccountInfo(t.account,t.cloudGraphHostName,t.msGraphHost);return yield this.browserStorage.setAccount(i,t.correlationId),t.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(t,e)):this.browserStorage.hydrateCache(t,e)})}acquireTokenNative(t,e,i,n){return O(this,null,function*(){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw ee(kn);return new xn(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e,this.performanceClient,this.nativeExtensionProvider,i||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId).acquireToken(t,n)})}canUsePlatformBroker(t,e){if(this.logger.trace("canUsePlatformBroker called"),!vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case it.NONE:case it.CONSENT:case it.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${t.prompt} is not compatible with platform broker flow, returning false`),!1}return!e&&!this.getNativeAccountId(t)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(t){let e=t.account||this.getAccount({loginHint:t.loginHint,sid:t.sid})||this.getActiveAccount();return e&&e.nativeAccountId||""}createPopupClient(t){return new Sh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createRedirectClient(t){return new Ah(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentIframeClient(t){return new Ih(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)}createSilentCacheClient(t){return new Is(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentRefreshClient(t){return new Th(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)}createSilentAuthCodeClient(t){return new Dh(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,je.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)}addEventCallback(t,e){return this.eventHandler.addEventCallback(t,e)}removeEventCallback(t){this.eventHandler.removeEventCallback(t)}addPerformanceCallback(t){return lh(),this.performanceClient.addPerformanceCallback(t)}removePerformanceCallback(t){return this.performanceClient.removePerformanceCallback(t)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ze.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ze.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(t){this.logger=t}initializeWrapperLibrary(t,e){this.browserStorage.setWrapperMetadata(t,e)}setNavigationClient(t){this.navigationClient=t}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(t){return t?.correlationId?t.correlationId:this.isBrowserEnvironment?Tt():U.EMPTY_STRING}loginRedirect(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t);return this.logger.verbose("loginRedirect called",e),this.acquireTokenRedirect(x({correlationId:e},t||Wf))})}loginPopup(t){let e=this.getRequestCorrelationId(t);return this.logger.verbose("loginPopup called",e),this.acquireTokenPopup(x({correlationId:e},t||Wf))}acquireTokenSilent(t){return O(this,null,function*(){let e=this.getRequestCorrelationId(t),i=this.performanceClient.startMeasurement(k.AcquireTokenSilent,e);i.add({cacheLookupPolicy:t.cacheLookupPolicy,scenarioId:t.scenarioId}),Mh(this.initialized,i),this.logger.verbose("acquireTokenSilent called",e);let n=t.account||this.getActiveAccount();if(!n)throw ee(es);return i.add({accountType:hr(n)}),this.acquireTokenSilentDeduped(t,n,e).then(o=>(i.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length}),oe(x({},o),{state:t.state,correlationId:e}))).catch(o=>{throw o instanceof Ae&&o.setCorrelationId(e),i.end({success:!1},o),o})})}acquireTokenSilentDeduped(t,e,i){return O(this,null,function*(){let n=jr(this.config.auth.clientId,oe(x({},t),{authority:t.authority||this.config.auth.authority,correlationId:i}),e.homeAccountId),o=JSON.stringify(n),a=this.activeSilentTokenRequests.get(o);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",i),this.performanceClient.addFields({deduped:!1},i);let l=B(this.acquireTokenSilentAsync.bind(this),k.AcquireTokenSilentAsync,this.logger,this.performanceClient,i)(oe(x({},t),{correlationId:i}),e);return this.activeSilentTokenRequests.set(o,l),l.finally(()=>{this.activeSilentTokenRequests.delete(o)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",i),this.performanceClient.addFields({deduped:!0},i),a})}acquireTokenSilentAsync(t,e){return O(this,null,function*(){let i=()=>this.trackPageVisibility(t.correlationId);this.performanceClient.addQueueMeasurement(k.AcquireTokenSilentAsync,t.correlationId),this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_START,se.Silent,t),t.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},t.correlationId),document.addEventListener("visibilitychange",i);let n=yield B(Z_,k.InitializeSilentRequest,this.logger,this.performanceClient,t.correlationId)(t,e,this.config,this.performanceClient,this.logger),o=t.cacheLookupPolicy||Pt.Default;return this.acquireTokenSilentNoIframe(n,o).catch(l=>O(this,null,function*(){if(cT(l,o))if(this.activeIframeRequest)if(o!==Pt.Skip){let[b,s]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${s}`,n.correlationId);let E=this.performanceClient.startMeasurement(k.AwaitConcurrentIframe,n.correlationId);E.add({awaitIframeCorrelationId:s});let w=yield b;if(E.end({success:w}),w)return this.logger.verbose(`Parallel iframe request with correlationId: ${s} succeeded. Retrying cache and/or RT redemption`,n.correlationId),this.acquireTokenSilentNoIframe(n,o);throw this.logger.info(`Iframe request with correlationId: ${s} failed. Interaction is required.`),l}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",n.correlationId),B(this.acquireTokenBySilentIframe.bind(this),k.AcquireTokenBySilentIframe,this.logger,this.performanceClient,n.correlationId)(n);else{let b;return this.activeIframeRequest=[new Promise(s=>{b=s}),n.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",n.correlationId),B(this.acquireTokenBySilentIframe.bind(this),k.AcquireTokenBySilentIframe,this.logger,this.performanceClient,n.correlationId)(n).then(s=>(b(!0),s)).catch(s=>{throw b(!1),s}).finally(()=>{this.activeIframeRequest=void 0})}else throw l})).then(l=>(this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_SUCCESS,se.Silent,l),t.correlationId&&this.performanceClient.addFields({fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker},t.correlationId),l)).catch(l=>{throw this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_FAILURE,se.Silent,null,l),l}).finally(()=>{document.removeEventListener("visibilitychange",i)})})}acquireTokenSilentNoIframe(t,e){return O(this,null,function*(){return vi.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme)&&t.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(t,je.acquireTokenSilent_silentFlow,t.account.nativeAccountId,e).catch(i=>O(this,null,function*(){throw i instanceof Ai&&Pn(i)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,G(Et.tokenRefreshRequired)):i}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),e===Pt.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),B(this.acquireTokenFromCache.bind(this),k.AcquireTokenFromCache,this.logger,this.performanceClient,t.correlationId)(t,e).catch(i=>{if(e===Pt.AccessToken)throw i;return this.eventHandler.emitEvent(ne.ACQUIRE_TOKEN_NETWORK_START,se.Silent,t),B(this.acquireTokenByRefreshToken.bind(this),k.AcquireTokenByRefreshToken,this.logger,this.performanceClient,t.correlationId)(t,e)}))})}preGeneratePkceCodes(t){return O(this,null,function*(){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=yield B(Fn,k.GeneratePkceCodes,this.logger,this.performanceClient,t)(this.performanceClient,this.logger,t),Promise.resolve()})}getPreGeneratedPkceCodes(t){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");let e=this.pkceCode?x({},this.pkceCode):void 0;return this.pkceCode=void 0,this.logger.verbose(`${e?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!e},t),e}};function cT(r,t){let e=!(r instanceof At&&r.subError!==zr.badToken),i=r.errorCode===ct.INVALID_GRANT_ERROR||r.errorCode===Et.tokenRefreshRequired,n=e&&i||r.errorCode===zr.noTokensFound||r.errorCode===zr.refreshTokenExpired,o=v_.includes(t);return n&&o}function mw(r,t){return O(this,null,function*(){let e=new gh(r);return yield e.initialize(),Ms.createController(e,t)})}var Jl=class r{static createPublicClientApplication(t){return O(this,null,function*(){let e=yield mw(t);return new r(t,e)})}constructor(t,e){this.controller=e||new Ms(new gh(t))}initialize(t){return O(this,null,function*(){return this.controller.initialize(t)})}acquireTokenPopup(t){return O(this,null,function*(){return this.controller.acquireTokenPopup(t)})}acquireTokenRedirect(t){return this.controller.acquireTokenRedirect(t)}acquireTokenSilent(t){return this.controller.acquireTokenSilent(t)}acquireTokenByCode(t){return this.controller.acquireTokenByCode(t)}addEventCallback(t,e){return this.controller.addEventCallback(t,e)}removeEventCallback(t){return this.controller.removeEventCallback(t)}addPerformanceCallback(t){return this.controller.addPerformanceCallback(t)}removePerformanceCallback(t){return this.controller.removePerformanceCallback(t)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(t){return this.controller.getAccount(t)}getAccountByHomeId(t){return this.controller.getAccountByHomeId(t)}getAccountByLocalId(t){return this.controller.getAccountByLocalId(t)}getAccountByUsername(t){return this.controller.getAccountByUsername(t)}getAllAccounts(t){return this.controller.getAllAccounts(t)}handleRedirectPromise(t){return this.controller.handleRedirectPromise(t)}loginPopup(t){return this.controller.loginPopup(t)}loginRedirect(t){return this.controller.loginRedirect(t)}logout(t){return this.controller.logout(t)}logoutRedirect(t){return this.controller.logoutRedirect(t)}logoutPopup(t){return this.controller.logoutPopup(t)}ssoSilent(t){return this.controller.ssoSilent(t)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(t){this.controller.setLogger(t)}setActiveAccount(t){this.controller.setActiveAccount(t)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(t,e){return this.controller.initializeWrapperLibrary(t,e)}setNavigationClient(t){this.controller.setNavigationClient(t)}getConfiguration(){return this.controller.getConfiguration()}hydrateCache(t,e){return O(this,null,function*(){return this.controller.hydrateCache(t,e)})}clearCache(t){return this.controller.clearCache(t)}};var Xl=class{static getInteractionStatusFromEvent(t,e){switch(t.eventType){case ne.LOGIN_START:return et.Login;case ne.SSO_SILENT_START:return et.SsoSilent;case ne.ACQUIRE_TOKEN_START:if(t.interactionType===se.Redirect||t.interactionType===se.Popup)return et.AcquireToken;break;case ne.HANDLE_REDIRECT_START:return et.HandleRedirect;case ne.LOGOUT_START:return et.Logout;case ne.SSO_SILENT_SUCCESS:case ne.SSO_SILENT_FAILURE:if(e&&e!==et.SsoSilent)break;return et.None;case ne.LOGOUT_END:if(e&&e!==et.Logout)break;return et.None;case ne.HANDLE_REDIRECT_END:if(e&&e!==et.HandleRedirect)break;return et.None;case ne.LOGIN_SUCCESS:case ne.LOGIN_FAILURE:case ne.ACQUIRE_TOKEN_SUCCESS:case ne.ACQUIRE_TOKEN_FAILURE:case ne.RESTORE_FROM_BFCACHE:if(t.interactionType===se.Redirect||t.interactionType===se.Popup){if(e&&e!==et.Login&&e!==et.AcquireToken)break;return et.None}break}return null}};var Oh="@azure/msal-angular",Zl="4.0.11",ed=new ae("MSAL_INSTANCE"),Os=new ae("MSAL_GUARD_CONFIG"),Ph=new ae("MSAL_INTERCEPTOR_CONFIG"),lT=new ae("MSAL_BROADCAST_CONFIG"),Nn=(()=>{class r{constructor(e,i){this.msalInstance=e,this.msalBroadcastConfig=i,this.msalBroadcastConfig&&this.msalBroadcastConfig.eventsToReplay>0?(this.msalInstance.getLogger().clone(Oh,Zl).verbose(`BroadcastService - eventsToReplay set on BroadcastConfig, replaying the last ${this.msalBroadcastConfig.eventsToReplay} events`),this._msalSubject=new Vg(this.msalBroadcastConfig.eventsToReplay)):this._msalSubject=new Me,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new kt(et.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(n=>{this._msalSubject.next(n);let o=Xl.getInteractionStatusFromEvent(n,this._inProgress.value);o!==null&&(this.msalInstance.getLogger().clone(Oh,Zl).verbose(`BroadcastService - ${n.eventType} results in setting inProgress from ${this._inProgress.value} to ${o}`),this._inProgress.next(o))})}resetInProgressEvent(){this._inProgress.value===et.Startup&&this._inProgress.next(et.None)}}return r.\u0275fac=function(e){return new(e||r)(N(ed),N(lT,8))},r.\u0275prov=X({token:r,factory:r.\u0275fac}),r})(),Gt=(()=>{class r{constructor(e,i,n){this.instance=e,this.location=i,this.injector=n;let o=this.location.path(!0).split("#").pop();o&&(this.redirectHash=`#${o}`),this.instance.initializeWrapperLibrary(Qf.Angular,Zl)}initialize(){return Je(this.instance.initialize())}acquireTokenPopup(e){return Je(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return Je(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return Je(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return Je(this.instance.initialize().then(()=>this.instance.handleRedirectPromise(e||this.redirectHash)).finally(()=>{this.injector.get(Nn).resetInProgressEvent()}))}loginPopup(e){return Je(this.instance.loginPopup(e))}loginRedirect(e){return Je(this.instance.loginRedirect(e))}logout(e){return Je(this.instance.logout(e))}logoutRedirect(e){return Je(this.instance.logoutRedirect(e))}logoutPopup(e){return Je(this.instance.logoutPopup(e))}ssoSilent(e){return Je(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(Oh,Zl)),this.logger}setLogger(e){this.logger=e.clone(Oh,Zl),this.instance.setLogger(e)}}return r.\u0275fac=function(e){return new(e||r)(N(ed),N(Yt),N(Ct))},r.\u0275prov=X({token:r,factory:r.\u0275fac}),r})(),mr=(()=>{class r{constructor(e,i,n,o,a){this.msalGuardConfig=e,this.msalBroadcastService=i,this.authService=n,this.location=o,this.router=a,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");let i=document.getElementsByTagName("base"),n=this.location.normalize(i.length?i[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${n}/${o}`):`${n}${e}`}loginInteractively(e){let i=typeof this.msalGuardConfig.authRequest=="function"?this.msalGuardConfig.authRequest(this.authService,e):x({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===se.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(i).pipe(ve(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");let n=this.getDestinationUrl(e.url);return this.authService.loginRedirect(x({redirectStartPage:n},i)).pipe(ve(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==se.Popup&&this.msalGuardConfig.interactionType!==se.Redirect)throw new Wo("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),typeof window<"u"){if(Ee.hashContainsKnownProperties(window.location.hash)&&hh.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),ce(!1)}else return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),ce(!0);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));let i=this.location.path(!0);return this.authService.initialize().pipe(zi(()=>this.authService.handleRedirectObservable()),zi(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),ce(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){let n=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),a=this.location.prepareExternalUrl(e.url).indexOf("#")===0;if(n&&(o||a))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),i.indexOf("#")>-1?ce(this.parseUrl(this.location.path())):ce(this.parseUrl(""))}return ce(!0)}),Kt(n=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${n.message}`),this.loginFailedRoute&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),ce(this.loginFailedRoute)):ce(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-5||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,i){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(i)}canActivateChild(e,i){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(i)}canMatch(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return r.\u0275fac=function(e){return new(e||r)(N(Os),N(Nn),N(Gt),N(Yt),N(pi))},r.\u0275prov=X({token:r,factory:r.\u0275fac}),r})(),pw=(()=>{class r{constructor(e,i,n,o,a){this.msalInterceptorConfig=e,this.authService=i,this.location=n,this.msalBroadcastService=o,this._document=a}intercept(e,i){if(this.msalInterceptorConfig.interactionType!==se.Popup&&this.msalInterceptorConfig.interactionType!==se.Redirect)throw new Wo("invalid_interaction_type","Invalid interaction type provided to MSAL Interceptor. InteractionType.Popup, InteractionType.Redirect must be provided in the msalInterceptorConfiguration");this.authService.getLogger().verbose("MSAL Interceptor activated");let n=this.getScopesForEndpoint(e.url,e.method);if(!n||n.length===0)return this.authService.getLogger().verbose("Interceptor - no scopes for endpoint"),i.handle(e);let o;this.authService.instance.getActiveAccount()?(this.authService.getLogger().verbose("Interceptor - active account selected"),o=this.authService.instance.getActiveAccount()):(this.authService.getLogger().verbose("Interceptor - no active account, fallback to first account"),o=this.authService.instance.getAllAccounts()[0]);let a=typeof this.msalInterceptorConfig.authRequest=="function"?this.msalInterceptorConfig.authRequest(this.authService,e,{account:o}):oe(x({},this.msalInterceptorConfig.authRequest),{account:o});return this.authService.getLogger().info(`Interceptor - ${n.length} scopes found for endpoint`),this.authService.getLogger().infoPii(`Interceptor - [${n}] scopes found for ${e.url}`),this.acquireToken(a,n,o).pipe(gt(l=>{this.authService.getLogger().verbose("Interceptor - setting authorization headers");let d=e.headers.set("Authorization",`Bearer ${l.accessToken}`),b=e.clone({headers:d});return i.handle(b)}))}acquireToken(e,i,n){return this.authService.acquireTokenSilent(oe(x({},e),{scopes:i,account:n})).pipe(Kt(()=>(this.authService.getLogger().error("Interceptor - acquireTokenSilent rejected with error. Invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(Ut(1),gt(o=>o===et.None?this.acquireTokenInteractively(e,i):this.msalBroadcastService.inProgress$.pipe(dt(a=>a===et.None),Ut(1),gt(()=>this.acquireToken(e,i,n))))))),gt(o=>o.accessToken?ce(o):(this.authService.getLogger().error("Interceptor - acquireTokenSilent resolved with null access token. Known issue with B2C tenants, invoking interaction to resolve."),this.msalBroadcastService.inProgress$.pipe(dt(a=>a===et.None),Ut(1),gt(()=>this.acquireTokenInteractively(e,i))))))}acquireTokenInteractively(e,i){if(this.msalInterceptorConfig.interactionType===se.Popup)return this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by popup"),this.authService.acquireTokenPopup(oe(x({},e),{scopes:i}));this.authService.getLogger().verbose("Interceptor - error acquiring token silently, acquiring by redirect");let n=window.location.href;return this.authService.acquireTokenRedirect(oe(x({},e),{scopes:i,redirectStartPage:n})),Ti}getScopesForEndpoint(e,i){this.authService.getLogger().verbose("Interceptor - getting scopes for endpoint");let n=this.location.normalize(e),o=Array.from(this.msalInterceptorConfig.protectedResourceMap.keys()),a=this.matchResourcesToEndpoint(o,n);return a.length>0?this.matchScopesToEndpoint(this.msalInterceptorConfig.protectedResourceMap,a,i):null}matchResourcesToEndpoint(e,i){let n=[];return e.forEach(o=>{let a=this.location.normalize(o),l=this.getAbsoluteUrl(a),d=new URL(l),b=this.getAbsoluteUrl(i),s=new URL(b);this.checkUrlComponents(d,s)&&n.push(o)}),n}checkUrlComponents(e,i){let n=["protocol","host","pathname","search","hash"];for(let o of n)if(e[o]){let a=decodeURIComponent(e[o]);if(!at.matchPattern(a,i[o]))return!1}return!0}getAbsoluteUrl(e){let i=this._document.createElement("a");return i.href=e,i.href}matchScopesToEndpoint(e,i,n){let o=[];return i.forEach(a=>{let l=[],d=e.get(a);if(d===null){o.push(null);return}d.forEach(b=>{if(typeof b=="string")l.push(b);else{let s=n.toLowerCase();b.httpMethod.toLowerCase()===s&&(b.scopes===null?o.push(null):b.scopes.forEach(w=>{l.push(w)}))}}),l.length>0&&o.push(l)}),o.length>0?(o.length>1&&this.authService.getLogger().warning("Interceptor - More than 1 matching scopes for endpoint found."),o[0]):null}}return r.\u0275fac=function(e){return new(e||r)(N(Ph),N(Gt),N(Yt),N(Nn),N(he))},r.\u0275prov=X({token:r,factory:r.\u0275fac}),r})();var fw=(()=>{class r{static forRoot(e,i,n){return{ngModule:r,providers:[{provide:ed,useValue:e},{provide:Os,useValue:i},{provide:Ph,useValue:n},Gt]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=fe({type:r}),r.\u0275inj=pe({providers:[mr,Nn],imports:[rt]}),r})();var Vn=class r{constructor(t,e){this.http=t;this.authService=e;this.userProfile=void 0}getProfile(){return this.userProfile?ce(this.userProfile):this.http.get(mt.apiConfig.uri).pipe(ve(t=>{let e=this.authService.instance.getAllAccounts()[0],i=e.idTokenClaims?.emails?e.idTokenClaims?.emails[0]:t.mail;return this.userProfile={id:e.username,name:e.name,email:i,idTokenClaims:e.idTokenClaims},this.userProfile}))}static{this.\u0275fac=function(e){return new(e||r)(N(Jt),N(Gt))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}};function dT(r,t){r&1&&(de(0,"div")(1,"p",0),Oe(2,"Welcome to DevOcean demo!"),ue(),de(3,"p"),Oe(4,"Please sign-in to see more actions."),ue()())}function uT(r,t){r&1&&(de(0,"div")(1,"h2"),Oe(2,"Welcome to DevOcean demo"),ue(),de(3,"mat-card",1)(4,"mat-card-content")(5,"a",2),Oe(6," Power BI "),ue()()()())}var xh=class r{constructor(t,e,i,n){this.authService=t;this.profileOAuthSvc=e;this.router=i;this.activatedRoute=n;this.loginDisplay=!1;this.isProdEnv=mt.production;this.inSubPage$=new kt(!1);this.isAdmin=!1;this.isUser=!1}ngOnInit(){this.setLoginDisplay(),this.profileOAuthSvc.getProfile().subscribe(t=>{let i=(t?.idTokenClaims||{})?.groups||[];this.isAdmin=i.indexOf(id.ADMIN)>=0,this.isUser=i.indexOf(id.USER)>=0}),this.inSubPage$.next((this.activatedRoute.children||[]).length>0),this.router.events.subscribe(t=>{if(t instanceof Zt){let e=this.router.url.replace(/^\/|\/$/g,"").split("/");this.inSubPage$.next(e.length>1)}})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}static{this.\u0275fac=function(e){return new(e||r)(Y(Gt),Y(Vn),Y(pi),Y(mi))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-home"]],decls:2,vars:2,consts:[[1,"welcome"],["id","mainButtons"],["mat-fab","","extended","","routerLink","/powerbi"]],template:function(e,i){e&1&&bt(0,dT,5,0,"div")(1,uT,7,0,"div"),e&2&&(Di(i.loginDisplay?-1:0),Ve(),Di(i.loginDisplay?1:-1))},dependencies:[rt,Qi,My,ky,Dy,pu,un,qy,Xi,du],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#000;background-color:#fab40d;padding:20px;border-radius:10px;display:inline-block;font-size:20px}a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(1)}mat-card[_ngcontent-%COMP%]{font-size:22px;margin-bottom:8px;box-shadow:none}#mainButtons[_ngcontent-%COMP%]{width:1400px;margin:0 auto;padding-top:5px}#mainButtons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-width:300px;text-align:center;font-size:26px}  a .mdc-button__label{top:-5px}"]})}};var Ps=class{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};var Fh=new ae("basePath");var qt=class{constructor(t={}){this.apiKeys=t.apiKeys,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.withCredentials=t.withCredentials,this.encoder=t.encoder,t.encodeParam?this.encodeParam=t.encodeParam:this.encodeParam=e=>this.defaultEncodeParam(e),t.credentials?this.credentials=t.credentials:this.credentials={}}selectHeaderContentType(t){if(t.length===0)return;let e=t.find(i=>this.isJsonMime(i));return e===void 0?t[0]:e}selectHeaderAccept(t){if(t.length===0)return;let e=t.find(i=>this.isJsonMime(i));return e===void 0?t[0]:e}isJsonMime(t){let e=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return t!==null&&(e.test(t)||t.toLowerCase()==="application/json-patch+json")}lookupCredential(t){let e=this.credentials[t];return typeof e=="function"?e():e}defaultEncodeParam(t){let e=t.dataFormat==="date-time"&&t.value instanceof Date?t.value.toISOString():t.value;return encodeURIComponent(String(e))}};var Yo=class r{constructor(t,e,i){this.httpClient=t;this.basePath="http://localhost";this.defaultHeaders=new Qt;this.configuration=new qt;if(i&&(this.configuration=i),typeof this.configuration.basePath!="string"){let n=Array.isArray(e)?e[0]:void 0;n!=null&&(e=n),typeof e!="string"&&(e=this.basePath),this.configuration.basePath=e}this.encoder=this.configuration.encoder||new Ps}addToHttpParams(t,e,i){return typeof e=="object"&&!(e instanceof Date)?t=this.addToHttpParamsRecursive(t,e):t=this.addToHttpParamsRecursive(t,e,i),t}addToHttpParamsRecursive(t,e,i){if(e==null)return t;if(typeof e=="object")if(Array.isArray(e))e.forEach(n=>t=this.addToHttpParamsRecursive(t,n,i));else if(e instanceof Date)if(i!=null)t=t.append(i,e.toISOString().substring(0,10));else throw Error("key may not be null if value is Date");else Object.keys(e).forEach(n=>t=this.addToHttpParamsRecursive(t,e[n],i!=null?`${i}.${n}`:n));else if(i!=null)t=t.append(i,e);else throw Error("key may not be null if value is not object or array");return t}addAdminEcho(t="body",e=!1,i){let n=this.defaultHeaders,o=i&&i.httpHeaderAccept;if(o===void 0){let s=[];o=this.configuration.selectHeaderAccept(s)}o!==void 0&&(n=n.set("Accept",o));let a=i&&i.context;a===void 0&&(a=new _i);let l=i&&i.transferCache;l===void 0&&(l=!0);let d="json";return o&&(o.startsWith("text")?d="text":this.configuration.isJsonMime(o)?d="json":d="blob"),this.httpClient.request("post",`${this.configuration.basePath}/api/Echo/echo/admin`,{context:a,responseType:d,withCredentials:this.configuration.withCredentials,headers:n,observe:t,transferCache:l,reportProgress:e})}addUserEcho(t="body",e=!1,i){let n=this.defaultHeaders,o=i&&i.httpHeaderAccept;if(o===void 0){let s=[];o=this.configuration.selectHeaderAccept(s)}o!==void 0&&(n=n.set("Accept",o));let a=i&&i.context;a===void 0&&(a=new _i);let l=i&&i.transferCache;l===void 0&&(l=!0);let d="json";return o&&(o.startsWith("text")?d="text":this.configuration.isJsonMime(o)?d="json":d="blob"),this.httpClient.request("post",`${this.configuration.basePath}/api/Echo/echo/user`,{context:a,responseType:d,withCredentials:this.configuration.withCredentials,headers:n,observe:t,transferCache:l,reportProgress:e})}getAdminEcho(t="body",e=!1,i){let n=this.defaultHeaders,o=i&&i.httpHeaderAccept;if(o===void 0){let s=["text/plain","application/json","text/json"];o=this.configuration.selectHeaderAccept(s)}o!==void 0&&(n=n.set("Accept",o));let a=i&&i.context;a===void 0&&(a=new _i);let l=i&&i.transferCache;l===void 0&&(l=!0);let d="json";return o&&(o.startsWith("text")?d="text":this.configuration.isJsonMime(o)?d="json":d="blob"),this.httpClient.request("get",`${this.configuration.basePath}/api/Echo/echo/admin`,{context:a,responseType:d,withCredentials:this.configuration.withCredentials,headers:n,observe:t,transferCache:l,reportProgress:e})}getEcho(t,e="body",i=!1,n){if(t==null)throw new Error("Required parameter id was null or undefined when calling getEcho.");let o=this.defaultHeaders,a=n&&n.httpHeaderAccept;if(a===void 0){let E=["text/plain","application/json","text/json"];a=this.configuration.selectHeaderAccept(E)}a!==void 0&&(o=o.set("Accept",a));let l=n&&n.context;l===void 0&&(l=new _i);let d=n&&n.transferCache;d===void 0&&(d=!0);let b="json";a&&(a.startsWith("text")?b="text":this.configuration.isJsonMime(a)?b="json":b="blob");let s=`/api/Echo/echo/${this.configuration.encodeParam({name:"id",value:t,in:"path",style:"simple",explode:!1,dataType:"number",dataFormat:"int32"})}`;return this.httpClient.request("get",`${this.configuration.basePath}${s}`,{context:l,responseType:b,withCredentials:this.configuration.withCredentials,headers:o,observe:e,transferCache:d,reportProgress:i})}getUserEcho(t="body",e=!1,i){let n=this.defaultHeaders,o=i&&i.httpHeaderAccept;if(o===void 0){let s=["text/plain","application/json","text/json"];o=this.configuration.selectHeaderAccept(s)}o!==void 0&&(n=n.set("Accept",o));let a=i&&i.context;a===void 0&&(a=new _i);let l=i&&i.transferCache;l===void 0&&(l=!0);let d="json";return o&&(o.startsWith("text")?d="text":this.configuration.isJsonMime(o)?d="json":d="blob"),this.httpClient.request("get",`${this.configuration.basePath}/api/Echo/echo/user`,{context:a,responseType:d,withCredentials:this.configuration.withCredentials,headers:n,observe:t,transferCache:l,reportProgress:e})}static{this.\u0275fac=function(e){return new(e||r)(N(Jt),N(Fh,8),N(qt,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}};var Qo=class r{constructor(t,e,i){this.httpClient=t;this.basePath="http://localhost";this.defaultHeaders=new Qt;this.configuration=new qt;if(i&&(this.configuration=i),typeof this.configuration.basePath!="string"){let n=Array.isArray(e)?e[0]:void 0;n!=null&&(e=n),typeof e!="string"&&(e=this.basePath),this.configuration.basePath=e}this.encoder=this.configuration.encoder||new Ps}addToHttpParams(t,e,i){return typeof e=="object"&&!(e instanceof Date)?t=this.addToHttpParamsRecursive(t,e):t=this.addToHttpParamsRecursive(t,e,i),t}addToHttpParamsRecursive(t,e,i){if(e==null)return t;if(typeof e=="object")if(Array.isArray(e))e.forEach(n=>t=this.addToHttpParamsRecursive(t,n,i));else if(e instanceof Date)if(i!=null)t=t.append(i,e.toISOString().substring(0,10));else throw Error("key may not be null if value is Date");else Object.keys(e).forEach(n=>t=this.addToHttpParamsRecursive(t,e[n],i!=null?`${i}.${n}`:n));else if(i!=null)t=t.append(i,e);else throw Error("key may not be null if value is not object or array");return t}getUser(t="body",e=!1,i){let n=this.defaultHeaders,o=i&&i.httpHeaderAccept;if(o===void 0){let s=["text/plain","application/json","text/json"];o=this.configuration.selectHeaderAccept(s)}o!==void 0&&(n=n.set("Accept",o));let a=i&&i.context;a===void 0&&(a=new _i);let l=i&&i.transferCache;l===void 0&&(l=!0);let d="json";return o&&(o.startsWith("text")?d="text":this.configuration.isJsonMime(o)?d="json":d="blob"),this.httpClient.request("get",`${this.configuration.basePath}/api/Profile`,{context:a,responseType:d,withCredentials:this.configuration.withCredentials,headers:n,observe:t,transferCache:l,reportProgress:e})}static{this.\u0275fac=function(e){return new(e||r)(N(Jt),N(Fh,8),N(qt,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}};var vw=class r{static forRoot(t){return{ngModule:r,providers:[{provide:qt,useFactory:t}]}}constructor(t,e){if(t)throw new Error("ApiModule is already loaded. Import in your base AppModule only.");if(!e)throw new Error(`You need to import the HttpClientModule in your AppModule! 
See also https://github.com/angular/angular/issues/20575`)}static{this.\u0275fac=function(e){return new(e||r)(N(r,12),N(Jt,8))}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({})}};var Vh=class r{constructor(t,e){this.profileOAuthSvc=t;this.profileSvc=e;this.user={}}ngOnInit(){this.getProfile()}getProfile(){this.profileOAuthSvc.getProfile().subscribe(t=>{this.profile=t}),this.profileSvc.getUser().subscribe(t=>{this.user=t})}static{this.\u0275fac=function(e){return new(e||r)(Y(Vn),Y(Qo))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-profile"]],decls:9,vars:2,template:function(e,i){e&1&&(de(0,"div")(1,"p")(2,"strong"),Oe(3,"Name: "),ue(),Oe(4),ue(),de(5,"p")(6,"strong"),Oe(7,"Email: "),ue(),Oe(8),ue()()),e&2&&(Ve(4),Un(" ",i.profile==null?null:i.profile.name,""),Ve(4),Un(" ",i.profile==null?null:i.profile.email,""))},styles:["div[_ngcontent-%COMP%]{padding-top:15px}"]})}};var Lh=class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=_e({type:r,selectors:[["app-page-not-found"]],decls:7,vars:0,consts:[["routerLink",""]],template:function(e,i){e&1&&(de(0,"h3"),Oe(1,"Page Not Found"),ue(),de(2,"h4"),Oe(3,"Go to "),de(4,"a",0),Oe(5,"Home Page "),ue(),Oe(6,"or any other page from the navigation"),ue())},dependencies:[Qi],styles:["a[_ngcontent-%COMP%]{color:unset}"]})}};function hT(r,t){if(r&1&&(de(0,"mat-list-item"),Oe(1),ue()),r&2){let e=t.$implicit;Ve(),Xr(e.name)}}var Bh=class r{constructor(t){this.echoService=t;this.allEchos=[];this.isLoading=!1}loadEchos(){this.isLoading=!0,this.echoService.getAdminEcho().subscribe(t=>{this.allEchos=t,this.isLoading=!1},t=>{this.isLoading=!1})}ngOnInit(){this.loadEchos()}onAddEcho(){this.isLoading=!0,this.echoService.addAdminEcho().subscribe(t=>{this.loadEchos()},t=>{this.isLoading=!1})}static{this.\u0275fac=function(e){return new(e||r)(Y(Yo))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-admin-page"]],decls:7,vars:2,consts:[[3,"click","disabled"],[4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(de(0,"div")(1,"p"),Oe(2,"admin page"),ue(),de(3,"button",0),yi("click",function(){return i.onAddEcho()}),Oe(4," Add echo "),ue(),de(5,"mat-list"),bt(6,hT,2,1,"mat-list-item",1),ue()()),e&2&&(Ve(3),yt("disabled",i.isLoading),Ve(3),yt("ngForOf",i.allEchos))},dependencies:[rt,nn,Xi,gu,vu],styles:["div[_ngcontent-%COMP%]{padding-top:15px}"]})}};function mT(r,t){if(r&1&&(de(0,"mat-list-item"),Oe(1),ue()),r&2){let e=t.$implicit;Ve(),Xr(e.name)}}var Uh=class r{constructor(t){this.echoService=t;this.userEchos=[];this.isLoading=!1}loadEchos(){this.isLoading=!0,this.echoService.getUserEcho().subscribe(t=>{this.userEchos=t,this.isLoading=!1},t=>{this.isLoading=!1})}ngOnInit(){this.loadEchos()}onAddEcho(){this.isLoading=!0,this.echoService.addUserEcho().subscribe(t=>{this.loadEchos()},t=>{this.isLoading=!1})}static{this.\u0275fac=function(e){return new(e||r)(Y(Yo))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-power-user-page"]],decls:7,vars:2,consts:[[3,"click","disabled"],[4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(de(0,"div")(1,"p"),Oe(2,"user page"),ue(),de(3,"button",0),yi("click",function(){return i.onAddEcho()}),Oe(4," Add echo "),ue(),de(5,"mat-list"),bt(6,mT,2,1,"mat-list-item",1),ue()()),e&2&&(Ve(3),yt("disabled",i.isLoading),Ve(3),yt("ngForOf",i.userEchos))},dependencies:[rt,nn,Xi,gu,vu],styles:["div[_ngcontent-%COMP%]{padding-top:15px}"]})}};var xs=class r{constructor(t,e){this.authService=t;this.router=e}canActivate(t,e){let i=this.authService.instance.getActiveAccount();if(!i)return this.router.navigate(["/home"]),!1;let n=t.routeConfig?.permissions||[],a=i.idTokenClaims?.groups||[],l=n.length==0||n.some(d=>a.includes(d));return l||this.router.navigate(["/access-denied"]),l}static{this.\u0275fac=function(e){return new(e||r)(N(Gt),N(pi))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}};var jh=class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=_e({type:r,selectors:[["app-access-denied"]],decls:6,vars:0,consts:[["routerLink",""]],template:function(e,i){e&1&&(de(0,"h3"),Oe(1,"Access denied"),ue(),de(2,"h4"),Oe(3,"You don't have access to this page. Return to "),de(4,"a",0),Oe(5,"Home Page "),ue()())},dependencies:[Qi],styles:["a[_ngcontent-%COMP%]{color:unset}"]})}};var Hh=class r{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}static{this.\u0275fac=function(e){return new(e||r)(Y(uc,16))}}static{this.\u0275pipe=pm({name:"safe",type:r,pure:!0})}};var Fs=Fg(mg(),1),pT=["reportContainer"],fT=["embedConfig",""];var gT=r=>{if(!r)return"";let t=Array.from(r);return JSON.stringify(t.map(e=>[e[0],e[1]?e[1].toString():""]))},vT=(r,t)=>!!r.nativeElement&&!!t.accessToken&&!!t.embedUrl,bT="powerbi-client-angular",yT="5.0.0",_T=(()=>{class r{constructor(){this.prevEventHandlerMapString=""}ngOnInit(){this.service?this.powerbi=this.service:(r._powerbi||(r._powerbi=new Fs.service.Service(Fs.factories.hpmFactory,Fs.factories.wpmpFactory,Fs.factories.routerFactory)),this.powerbi=r._powerbi),this.powerbi.setSdkInfo(bT,yT)}setEventHandlers(e,i){let n=gT(i);this.prevEventHandlerMapString!==n&&(this.prevEventHandlerMapString=n,i.forEach((o,a)=>{e.off(a),o&&e.on(a,l=>{o(l,e)})}))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=_e({type:r,selectors:[["powerbi-embed"]],inputs:{cssClassName:"cssClassName",service:"service"},standalone:!1,decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return r})(),zh=(()=>{class r extends _T{get embed(){return this._embed}set embed(e){this._embed=e}constructor(){super(),this.phasedEmbedding=!1}getReport(){return this._embed}ngOnInit(){super.ngOnInit()}ngOnChanges(e){if(e.embedConfig){if(e.embedConfig.isFirstChange())return;let i=e.embedConfig.previousValue,n=e.embedConfig.currentValue;JSON.stringify(i)!==JSON.stringify(n)&&this.embedReport()}this.eventHandlers&&this.embed&&super.setEventHandlers(this.embed,this.eventHandlers)}ngAfterViewInit(){this.containerRef.nativeElement&&(this.embedConfig.accessToken&&this.embedConfig.embedUrl?this.embedReport():this.embed=this.powerbi.bootstrap(this.containerRef.nativeElement,this.embedConfig)),this.eventHandlers&&this.embed&&super.setEventHandlers(this.embed,this.eventHandlers)}embedReport(){vT(this.containerRef,this.embedConfig)&&(this.phasedEmbedding?this.embed=this.powerbi.load(this.containerRef.nativeElement,this.embedConfig):this.embed=this.powerbi.embed(this.containerRef.nativeElement,this.embedConfig))}static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275cmp=_e({type:r,selectors:[["powerbi-report","embedConfig",""]],viewQuery:function(i,n){if(i&1&&li(pT,5),i&2){let o;ut(o=ht())&&(n.containerRef=o.first)}},inputs:{embedConfig:"embedConfig",phasedEmbedding:"phasedEmbedding",eventHandlers:"eventHandlers"},standalone:!1,features:[Nt,ki],attrs:fT,decls:2,vars:3,consts:[["reportContainer",""]],template:function(i,n){i&1&&Ge(0,"div",null,0),i&2&&ci(n.cssClassName)},encapsulation:2})}}return r})();var bw=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({})}}return r})();var Gh=Fg(mg());function yw(r){let t=new URLSearchParams(URL.parse(r)?.search),e=new Map;return t.forEach((i,n)=>e.set(n.toLocaleLowerCase(),i)),e}var $h=class r{constructor(t){this.http=t;this.powerBiServiceApiRoot="https://api.powerbi.com"}getReport(t){return this.http.get(`${this.powerBiServiceApiRoot}/v1.0/myorg/reports/${t}`).pipe(ve(e=>e),Kt(this.handleError))}getReportEndGenerateToken(t){return this.http.get(`${this.powerBiServiceApiRoot}/v1.0/myorg/reports/${t}`).pipe(gt(e=>this.http.post(`${this.powerBiServiceApiRoot}/v1.0/myorg/GenerateToken`,{datasets:[{id:e.datasetId}],reports:[{id:t}]}).pipe(ve(i=>oe(x({},e),{token:i.token})))),Kt(this.handleError))}handleError(t){let e="An unknown error occurred";return t.error instanceof ErrorEvent?e=t.error.message:(e=`Error Code: ${t.status}
Message: ${t.message}`,t.error&&t.error.message&&(e=t.error.message)),console.error("PowerBI Service Error:",e),gr(()=>new Error(e))}static{this.\u0275fac=function(e){return new(e||r)(N(Jt))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}};function ET(r,t){if(r&1&&(Ge(0,"iframe",2),vv(1,"safe")),r&2){let e=Wt();yt("src",bv(1,1,e.linkReport),cv)}}function ST(r,t){if(r&1&&Ge(0,"powerbi-report",3),r&2){let e=Wt();yt("embedConfig",e.reportConfig)("phasedEmbedding",!1)("cssClassName","report")("eventHandlers",e.eventHandlersMap)}}var qh=class r{constructor(t,e,i){this.route=t;this.powerBiSvc=e;this.msalService=i;this.linkReport="";this.reportId="";this.pageName="";this.reportConfig=null;this.report=null;this.usePowerBiControl=!0;this.eventHandlersMap=new Map([["loaded",()=>O(this,null,function*(){this.initReport()})],["rendered",()=>console.log("Report has rendered")],["error",t=>{t&&console.error(t.detail)}],["visualClicked",()=>console.log("visual clicked")],["pageChanged",t=>console.log(t)]])}ngOnInit(){let t=this;this.route.data.subscribe(e=>{this.linkReport=e.report,this.pageName=e.page;let i=yw(this.linkReport);this.reportId=i.get("reportid")||"",this.powerBiSvc.getReport(this.reportId).subscribe(n=>{this.reportName=n.name;let o=()=>O(this,null,function*(){return yield t.getAccessTokenPowerBI()}),a=l=>{t.reportConfig={type:"report",id:this.reportId,embedUrl:n.embedUrl,accessToken:l,tokenType:Gh.models.TokenType.Aad,settings:{panes:{filters:{expanded:!1,visible:!1}},background:Gh.models.BackgroundType.Transparent,filterPaneEnabled:!1,navContentPaneEnabled:!1,layoutType:Gh.models.LayoutType.Master},eventHooks:{accessTokenProvider:o}}};this.getAccessTokenPowerBI().then(function(l){l?a(l):t.usePowerBiControl=!1}).catch(function(l){console.log(l),t.usePowerBiControl=!1})},n=>{console.log("Failed to embed report with embed token, switch to report embed url"),this.usePowerBiControl=!1})})}ngAfterViewInit(){this.initReport()}getAccessTokenPowerBI(){let t=this,e=this.msalService.instance.getAllAccounts()[0],i={scopes:mt.powerBIConfig.scopes,account:e};return this.msalService.instance.acquireTokenSilent(i).then(function(n){return n.accessToken}).catch(function(n){return n instanceof At?t.msalService.instance.acquireTokenPopup(i).then(function(o){return o.accessToken}).catch(function(o){return console.log(o),null}):(console.log(n),null)})}initReport(){return O(this,null,function*(){if(!this.report&&this.reportObj){this.report=this.reportObj.getReport(),this.pageName?this.report.setComponentTitle(this.pageName):this.report.setComponentTitle(this.reportName);let t=yield this.report.getPages();if(console.log("Report has loaded",t),this.pageName){let e=t.find(i=>i.displayName==this.pageName);e&&this.report.setPage(e.name)}}})}static{this.\u0275fac=function(e){return new(e||r)(Y(mi),Y($h),Y(Gt))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-power-bi-report"]],viewQuery:function(e,i){if(e&1&&li(zh,5),e&2){let n;ut(n=ht())&&(i.reportObj=n.first)}},decls:2,vars:2,consts:[["id","power-bi-frame","allowfullscreen","true",3,"src",4,"ngIf"],[3,"embedConfig","phasedEmbedding","cssClassName","eventHandlers",4,"ngIf"],["id","power-bi-frame","allowfullscreen","true",3,"src"],[3,"embedConfig","phasedEmbedding","cssClassName","eventHandlers"]],template:function(e,i){e&1&&bt(0,ET,2,3,"iframe",0)(1,ST,1,4,"powerbi-report",1),e&2&&(yt("ngIf",!i.usePowerBiControl&&!!i.linkReport&&i.linkReport.length>0),Ve(),yt("ngIf",i.usePowerBiControl&&!!i.linkReport&&i.linkReport.length>0&&!!i.reportConfig))},dependencies:[rt,ic,Hh,bw,zh],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}  .report{width:100%;height:100%;border:none}  .report iframe{width:100%;height:100%;border:none}"]})}};var id=class{static{this.ADMIN=mt.groups.admin}static{this.USER=mt.groups.user}},Kh=[{path:"profile",title:"Profile",icon:"person",order:10,component:Vh,canActivate:[mr],hidden:!0},{path:"home",title:"Home",icon:"home",order:0,component:xh,canActivate:[mr]},{path:"echo/admin",title:"Echo admin",icon:"support_agent",order:1,component:Bh,canActivate:[mr,xs],permissions:[],hidden:!0},{path:"echo/user",title:"Echo user",icon:"person",order:1,component:Uh,canActivate:[mr,xs],permissions:[],hidden:!0},{path:"powerbi",title:"Sales Forecast",order:20,component:qh,canActivate:[mr,xs],permissions:[],data:{report:"https://app.powerbi.com/reportEmbed?reportId=481a5437-be48-4d1b-90e9-b8c8d4fca0c3&autoAuth=true&ctid=3d461195-f3e9-4dd6-b2e8-ea8457c20fc8"},hidden:!0},{path:"access-denied",component:jh,canActivate:[mr],hidden:!0},{path:"login-failed",component:uu,hidden:!0},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",component:Lh}];var AT=(()=>{class r extends fd{constructor(e,i,n){super(e,i,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||r)(N(he),N(ec),N(pd))};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})();function IT(){return new Av}function TT(r,t,e){return new Tv(r,t,e)}var _w=[{provide:pd,useFactory:IT},{provide:fd,useClass:AT},{provide:ia,useFactory:TT,deps:[$n,fd,ye]}],RT=[{provide:ec,useClass:Sv},{provide:Ft,useValue:"NoopAnimations"},..._w],N3=[{provide:ec,useFactory:()=>new Iv},{provide:Ft,useFactory:()=>"BrowserAnimations"},..._w];function ww(){return[...RT]}var nd=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ns=class extends nd{constructor(t,e,i,n,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=n,this.projectableNodes=o}},Vs=class extends nd{constructor(t,e,i,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},pg=class extends nd{constructor(t){super(),this.element=t instanceof Ue?t.nativeElement:t}},Ls=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ns)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Vs)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof pg)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Wh=class extends Ls{constructor(t,e,i,n,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=n,this.attachDomPortal=a=>{this._document;let l=a.element;l.parentNode;let d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>n.destroy())):(n=i.create(t.injector||this._defaultInjector||Ct.NULL),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);n!==-1&&e.remove(n)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var fg=(()=>{class r extends Ls{constructor(e,i,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new xt,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||r)(Y(Xs),Y(Gi),Y(he))}}static{this.\u0275dir=Le({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Nt]})}}return r})();var Yh=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({})}}return r})();var DT=20,Cw=(()=>{class r{constructor(e,i,n){this._ngZone=e,this._platform=i,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=DT){return this._platform.isBrowser?new fr(i=>{this._globalSubscription||this._addGlobalListener();let n=e>0?this._scrolled.pipe(sm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ce()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let n=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(dt(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let n=xi(i),o=e.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ug(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||r)(N(ye),N(Qe),N(he,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var MT=20,gg=(()=>{class r{constructor(e,i,n){this._platform=e,this._change=new Me,this._changeListener=o=>{this._change.next(o)},this._document=n,i.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),n=e.documentElement,o=n.getBoundingClientRect(),a=-o.top||e.body.scrollTop||i.scrollY||n.scrollTop||0,l=-o.left||e.body.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:a,left:l}}change(e=MT){return e>0?this._change.pipe(sm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||r)(N(Qe),N(ye),N(he,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Qh=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({})}}return r})(),vg=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ln,Qh,ln,Qh]})}}return r})();var Ew=Xb(),bg=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_t(-this._previousScrollPosition.left),t.style.top=_t(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,n=e.style,o=i.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ew&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ew&&(i.scrollBehavior=o,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var yg=class{constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(dt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Jh=class{enable(){}disable(){}attach(){}};function _g(r,t){return t.some(e=>{let i=r.bottom<e.top,n=r.top>e.bottom,o=r.right<e.left,a=r.left>e.right;return i||n||o||a})}function Sw(r,t){return t.some(e=>{let i=r.top<e.top,n=r.bottom>e.bottom,o=r.left<e.left,a=r.right>e.right;return i||n||o||a})}var wg=class{constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();_g(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},PT=(()=>{class r{constructor(e,i,n,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=n,this.noop=()=>new Jh,this.close=a=>new yg(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new bg(this._viewportRuler,this._document),this.reposition=a=>new wg(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}static{this.\u0275fac=function(i){return new(i||r)(N(Cw),N(gg),N(ye),N(he))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Bs=class{constructor(t){if(this.scrollStrategy=new Jh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Cg=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var Dw=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||r)(N(he))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),xT=(()=>{class r extends Dw{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=n=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let l=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||r)(N(he),N(ye,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),FT=(()=>{class r extends Dw{constructor(e,i,n){super(e),this._platform=i,this._ngZone=n,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=wi(o)},this._clickListener=o=>{let a=wi(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let b=d.length-1;b>-1;b--){let s=d[b];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(Aw(s.overlayElement,a)||Aw(s.overlayElement,l))break;let E=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(o)):E.next(o)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||r)(N(he),N(Qe),N(ye,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Aw(r,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===r)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Mw=(()=>{class r{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||xc()){let n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove()}let i=this._document.createElement("div");i.classList.add(e),xc()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||r)(N(he),N(Qe))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Eg=class{constructor(t,e,i,n,o,a,l,d,b,s=!1,E){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=a,this._document=l,this._location=d,this._outsideClickDispatcher=b,this._animationsDisabled=s,this._injector=E,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=Ii.EMPTY,this._backdropClickHandler=w=>this._backdropClick.next(w),this._backdropTransitionendHandler=w=>{this._disposeBackdrop(w.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,this._renders=new Me,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=ym(()=>Zg(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Qs(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=x(x({},this._config),t),this._updateElementSize()}setDirection(t){this._config=oe(x({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=_t(this._config.width),t.height=_t(this._config.height),t.minWidth=_t(this._config.minWidth),t.minHeight=_t(this._config.minHeight),t.maxWidth=_t(this._config.maxWidth),t.maxHeight=_t(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let n=Ea(e||[]).filter(o=>!!o);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(ai(cd(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Iw="cdk-overlay-connected-position-bounding-box",NT=/([A-Za-z%]+)$/,Sg=class{get positions(){return this._preferredPositions}constructor(t,e,i,n,o){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=Ii.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Iw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[],a;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,n,l),b=this._getOverlayPoint(d,e,l),s=this._getOverlayFit(b,e,i,l);if(s.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,d);return}if(this._canFitWithFlexibleDimensions(s,b,i)){o.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)});continue}(!a||a.overlayFit.visibleArea<s.visibleArea)&&(a={overlayFit:s,overlayPoint:b,originPoint:d,position:l,overlayRect:e})}if(o.length){let l=null,d=-1;for(let b of o){let s=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);s>d&&(d=s,l=b)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Jo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Iw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let n;if(i.originX=="center")n=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;n=i.originX=="start"?a:l}e.left<0&&(n-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:n,y:o}}_getOverlayPoint(t,e,i){let n;i.overlayX=="center"?n=-e.width/2:i.overlayX==="start"?n=this._isRtl()?-e.width:0:n=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+n,y:t.y+o}}_getOverlayFit(t,e,i,n){let o=Rw(e),{x:a,y:l}=t,d=this._getOffset(n,"x"),b=this._getOffset(n,"y");d&&(a+=d),b&&(l+=b);let s=0-a,E=a+o.width-i.width,w=0-l,v=l+o.height-i.height,_=this._subtractOverflows(o.width,s,E),c=this._subtractOverflows(o.height,w,v),f=_*c;return{visibleArea:f,isCompletelyWithinViewport:o.width*o.height===f,fitsInViewportVertically:c===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let n=i.bottom-e.y,o=i.right-e.x,a=Tw(this._overlayRef.getConfig().minHeight),l=Tw(this._overlayRef.getConfig().minWidth),d=t.fitsInViewportVertically||a!=null&&a<=n,b=t.fitsInViewportHorizontally||l!=null&&l<=o;return d&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=Rw(e),o=this._viewportRect,a=Math.max(t.x+n.width-o.width,0),l=Math.max(t.y+n.height-o.height,0),d=Math.max(o.top-i.top-t.y,0),b=Math.max(o.left-i.left-t.x,0),s=0,E=0;return n.width<=o.width?s=b||-a:s=t.x<this._viewportMargin?o.left-i.left-t.x:0,n.height<=o.height?E=d||-l:E=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:s,y:E},{x:t.x+s,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!VT(this._lastScrollVisibility,i)){let n=new Cg(t,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,n=this._isRtl(),o,a,l;if(e.overlayY==="top")a=t.y,o=i.height-a+this._viewportMargin;else if(e.overlayY==="bottom")l=i.height-t.y+this._viewportMargin*2,o=i.height-l+this._viewportMargin;else{let v=Math.min(i.bottom-t.y+i.top,t.y),_=this._lastBoundingBoxSize.height;o=v*2,a=t.y-v,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-_/2)}let d=e.overlayX==="start"&&!n||e.overlayX==="end"&&n,b=e.overlayX==="end"&&!n||e.overlayX==="start"&&n,s,E,w;if(b)w=i.width-t.x+this._viewportMargin*2,s=t.x-this._viewportMargin;else if(d)E=t.x,s=i.right-t.x;else{let v=Math.min(i.right-t.x+i.left,t.x),_=this._lastBoundingBoxSize.width;s=v*2,E=t.x-v,s>_&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-_/2)}return{top:a,left:E,bottom:l,right:w,width:s,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=_t(i.height),n.top=_t(i.top),n.bottom=_t(i.bottom),n.width=_t(i.width),n.left=_t(i.left),n.right=_t(i.right),e.overlayX==="center"?n.alignItems="center":n.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?n.justifyContent="center":n.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=_t(o)),a&&(n.maxWidth=_t(a))}this._lastBoundingBoxSize=i,Jo(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Jo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Jo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let s=this._viewportRuler.getViewportScrollPosition();Jo(i,this._getExactOverlayY(e,t,s)),Jo(i,this._getExactOverlayX(e,t,s))}else i.position="static";let l="",d=this._getOffset(e,"x"),b=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),b&&(l+=`translateY(${b}px)`),i.transform=l.trim(),a.maxHeight&&(n?i.maxHeight=_t(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(n?i.maxWidth=_t(a.maxWidth):o&&(i.maxWidth="")),Jo(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(o.y+this._overlayRect.height)}px`}else n.top=_t(o.y);return n}_getExactOverlayX(t,e,i){let n={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let l=this._document.documentElement.clientWidth;n.right=`${l-(o.x+this._overlayRect.width)}px`}else n.left=_t(o.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Sw(t,i),isOriginOutsideView:_g(t,i),isOverlayClipped:Sw(e,i),isOverlayOutsideView:_g(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ea(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Ue)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Jo(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function Tw(r){if(typeof r!="number"&&r!=null){let[t,e]=r.split(NT);return!e||e==="px"?parseFloat(t):null}return r||null}function Rw(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function VT(r,t){return r===t?!0:r.isOriginClipped===t.isOriginClipped&&r.isOriginOutsideView===t.isOriginOutsideView&&r.isOverlayClipped===t.isOverlayClipped&&r.isOverlayOutsideView===t.isOverlayOutsideView}var kw="cdk-global-overlay-wrapper",Ag=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:a,maxHeight:l}=i,d=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),b=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),s=this._xPosition,E=this._xOffset,w=this._overlayRef.getConfig().direction==="rtl",v="",_="",c="";d?c="flex-start":s==="center"?(c="center",w?_=E:v=E):w?s==="left"||s==="end"?(c="flex-end",v=E):(s==="right"||s==="start")&&(c="flex-start",_=E):s==="left"||s==="start"?(c="flex-start",v=E):(s==="right"||s==="end")&&(c="flex-end",_=E),t.position=this._cssPosition,t.marginLeft=d?"0":v,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=d?"0":_,e.justifyContent=c,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},LT=(()=>{class r{constructor(e,i,n,o){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=o}global(){return new Ag}flexibleConnectedTo(e){return new Sg(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||r)(N(gg),N(he),N(Qe),N(Mw))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),BT=0,Ln=(()=>{class r{constructor(e,i,n,o,a,l,d,b,s,E,w,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=n,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=b,this._directionality=s,this._location=E,this._outsideClickDispatcher=w,this._animationsModuleType=v}create(e){let i=this._createHostElement(),n=this._createPaneElement(i),o=this._createPortalOutlet(n),a=new Bs(e);return a.direction=a.direction||this._directionality.value,new Eg(o,i,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(_r))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${BT++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(na)),new Wh(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||r)(N(PT),N(Mw),N(Xs),N(LT),N(xT),N(Ct),N(ye),N(he),N(cu),N(Yt),N(FT),N(Ft,8))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var UT=new ae("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let r=ie(Ln);return()=>r.scrollStrategies.reposition()}});function jT(r){return()=>r.scrollStrategies.reposition()}var HT={provide:UT,deps:[Ln],useFactory:jT},Xh=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({providers:[Ln,HT],imports:[ln,Yh,vg,vg]})}}return r})();var Ow={transformMenu:oa("transformMenu",[jn("void",Oi({opacity:0,transform:"scale(0.8)"})),en("void => enter",Zr("120ms cubic-bezier(0, 0, 0.2, 1)",Oi({opacity:1,transform:"scale(1)"}))),en("* => void",Zr("100ms 25ms linear",Oi({opacity:0})))]),fadeInItems:oa("fadeInItems",[jn("showing",Oi({opacity:1})),en("void => *",[Oi({opacity:0}),Zr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Xq=Ow.fadeInItems,Zq=Ow.transformMenu;var $T=new ae("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let r=ie(Ln);return()=>r.scrollStrategies.reposition()}});function GT(r){return()=>r.scrollStrategies.reposition()}var qT={provide:$T,deps:[Ln],useFactory:GT};var Zh=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({providers:[qT],imports:[rt,Ia,ze,Xh,Qh,ze]})}}return r})();var em=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze,ze]})}}return r})();function KT(r,t){if(r&1){let e=Zs();de(0,"div",1)(1,"button",2),yi("click",function(){Gs(e);let n=Wt();return qs(n.action())}),Oe(2),ue()()}if(r&2){let e=Wt();Ve(2),Un(" ",e.data.action," ")}}var WT=["label"];function YT(r,t){}var QT=Math.pow(2,31)-1,od=class{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Me,this._afterOpened=new Me,this._onAction=new Me,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,QT))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Pw=new ae("MatSnackBarData"),Us=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},JT=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return r})(),XT=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return r})(),ZT=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275dir=Le({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return r})(),xw=(()=>{class r{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(i){return new(i||r)(Y(od),Y(Pw))}}static{this.\u0275cmp=_e({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,n){i&1&&(de(0,"div",0),Oe(1),ue(),bt(2,KT,3,1,"div",1)),i&2&&(Ve(),Un(" ",n.data.message,`
`),Ve(),Di(n.hasAction?2:-1))},dependencies:[$y,JT,XT,ZT],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return r})(),eR={snackBarState:oa("state",[jn("void, hidden",Oi({transform:"scale(0.8)",opacity:0})),jn("visible",Oi({transform:"scale(1)",opacity:1})),en("* => visible",Zr("150ms cubic-bezier(0, 0, 0.2, 1)")),en("* => void, * => hidden",Zr("75ms cubic-bezier(0.4, 0.0, 1, 1)",Oi({opacity:0})))])},tR=0,iR=(()=>{class r extends Ls{constructor(e,i,n,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=n,this._platform=o,this.snackBarConfig=a,this._document=ie(he),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Me,this._onExit=new Me,this._onEnter=new Me,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${tR++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){let{fromState:i,toState:n}=e;if((n==="void"&&i!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(a=>e.classList.add(a)):e.classList.add(i)),this._exposeToModals();let n=this._label.nativeElement,o="mdc-snackbar__label";n.classList.toggle(o,!n.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<i.length;n++){let o=i[n],a=o.getAttribute("aria-owns");this._trackedModals.add(o),a?a.indexOf(e)===-1&&o.setAttribute("aria-owns",a+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let n=i.replace(this._liveElementId,"").trim();n.length>0?e.setAttribute("aria-owns",n):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(n=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(i){return new(i||r)(Y(ye),Y(Ue),Y(di),Y(Qe),Y(Us))}}static{this.\u0275cmp=_e({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,n){if(i&1&&(li(fg,7),li(WT,7)),i&2){let o;ut(o=ht())&&(n._portalOutlet=o.first),ut(o=ht())&&(n._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,n){i&1&&pv("@state.done",function(a){return n.onAnimationEnd(a)}),i&2&&mv("@state",n._animationState)},features:[Nt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,n){i&1&&(de(0,"div",1)(1,"div",2,0)(3,"div",3),bt(4,YT,0,0,"ng-template",4),ue(),Ge(5,"div"),ue()()),i&2&&(Ve(5),tt("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[fg],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[eR.snackBarState]}})}}return r})();function rR(){return new Us}var nR=new ae("mat-snack-bar-default-options",{providedIn:"root",factory:rR}),oR=(()=>{class r{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,n,o,a,l){this._overlay=e,this._live=i,this._injector=n,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=xw,this.snackBarContainerComponent=iR,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",n){let o=x(x({},this._defaultConfig),n);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let n=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=Ct.create({parent:n||this._injector,providers:[{provide:Us,useValue:i}]}),a=new Ns(this.snackBarContainerComponent,i.viewContainerRef,o),l=e.attach(a);return l.instance.snackBarConfig=i,l.instance}_attach(e,i){let n=x(x(x({},new Us),this._defaultConfig),i),o=this._createOverlay(n),a=this._attachSnackBarContainer(o,n),l=new od(a,o);if(e instanceof $i){let d=new Vs(e,null,{$implicit:n.data,snackBarRef:l});l.instance=a.attachTemplatePortal(d)}else{let d=this._createInjector(n,l),b=new Ns(e,void 0,d),s=a.attachComponentPortal(b);l.instance=s.instance}return this._breakpointObserver.observe(Fc.HandsetPortrait).pipe(ai(o.detachments())).subscribe(d=>{o.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),n.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(l,n),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){let i=new Bs;i.direction=e.direction;let n=this._overlay.position().global(),o=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,l=!a&&e.horizontalPosition!=="center";return a?n.left("0"):l?n.right("0"):n.centerHorizontally(),e.verticalPosition==="top"?n.top("0"):n.bottom("0"),i.positionStrategy=n,this._overlay.create(i)}_createInjector(e,i){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Ct.create({parent:n||this._injector,providers:[{provide:od,useValue:i},{provide:Pw,useValue:e.data}]})}static{this.\u0275fac=function(i){return new(i||r)(N(Ln),N(ly),N(Ct),N(Sa),N(r,12),N(nR))}}static{this.\u0275prov=X({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Fw=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({providers:[oR],imports:[Xh,Yh,un,ze,xw,ze]})}}return r})();var aR="@",sR=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=ie(Ct);loadingSchedulerFn=ie(cR,{optional:!0});_engine;constructor(e,i,n,o,a){this.doc=e,this.delegate=i,this.zone=n,this.animationType=o,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-QKWT7YMO.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(n=>{throw new Be(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:o})=>{this._engine=n(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let o=new Ig(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(e,i);o.use(l),this.scheduler??=this.injector.get(Wg,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{o.use(n)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){ra()};static \u0275prov=X({token:r,factory:r.\u0275fac})}return r})(),Ig=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,n){this.delegate.insertBefore(t,e,i,n)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,n){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,i,n)),this.delegate.listen(t,e,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(aR)}},cR=new ae("");function Nw(r="animations"){return ud("NgAsyncAnimations"),yr([{provide:ia,useFactory:(t,e,i)=>new sR(t,e,i,r),deps:[he,$n,ye]},{provide:Ft,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}function Tg(r={}){return new qt(x({basePath:"https://localhost:44370/"},r))}function Vw(r=Tg()){return yr([{provide:qt,useValue:r}])}function Lw(){let r=new URLSearchParams(window.location.search);console.log("Msal config redirect type",window.location.search);let t=se.Redirect;if(r){let e=r.get("embed");console.log("Msal config redirect mode",e),e&&e=="iframe"&&(t=se.Popup,console.log("Msal interact type popup"))}return t}function lR(r,t){console.log(t)}function dR(){return new Jl({auth:{clientId:mt.msalConfig.auth.clientId,authority:mt.msalConfig.auth.authority,redirectUri:"/azuread",postLogoutRedirectUri:"/azuread"},cache:{cacheLocation:Ze.LocalStorage},system:{allowPlatformBroker:!1,loggerOptions:{loggerCallback:lR,logLevel:qe.Verbose,piiLoggingEnabled:!0}}})}function uR(){let r=Lw(),t=new Map;return t.set(mt.apiConfig.uri,mt.apiConfig.scopes),t.set(mt.backendConfig.uri,mt.backendConfig.scopes),t.set(mt.powerBIConfig.uri,mt.powerBIConfig.scopes),{interactionType:r,protectedResourceMap:t}}function hR(){return{interactionType:Lw(),authRequest:{scopes:[...mt.msalConfig.scopes]},loginFailedRoute:"/login-failed"}}var Bw={providers:[_v({eventCoalescing:!0}),up(Kh),Gg(Dm,un,em,Xi,Zh,Fw),ww(),Vw(Tg({basePath:mt.backendConfig.uri})),Lm(Bm(),Um()),{provide:Md,useClass:pw,multi:!0},{provide:ed,useFactory:dR},{provide:Os,useFactory:hR},{provide:Ph,useFactory:uR},Gt,mr,Nn,Nw(),Yt,{provide:rn,useClass:gd}]};var Uw=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=fe({type:r})}static{this.\u0275inj=pe({imports:[ze]})}}return r})();var mR=(r,t)=>({embedded:r,embeddedable:t});function pR(r,t){if(r&1&&(de(0,"div",9)(1,"span"),Oe(2),ue()()),r&2){let e=Wt();Ve(2),Xr(e.profile.name)}}function fR(r,t){if(r&1&&(de(0,"mat-icon"),Oe(1),ue()),r&2){let e=Wt().$implicit;Ve(),Xr(e.icon)}}function gR(r,t){if(r&1&&Ge(0,"img",14),r&2){let e=Wt().$implicit;yt("src",e.img,sv)}}function vR(r,t){if(r&1&&(de(0,"a",10),bt(1,fR,2,1,"mat-icon",11)(2,gR,1,1,"img",12),de(3,"span",13),Oe(4),ue()()),r&2){let e=t.$implicit,i=Wt();Ye("active",e.path==i.currentRoute),fv("routerLink","/",e.path,""),tt("title",e.name),Ve(),yt("ngIf",e.icon),Ve(),yt("ngIf",e.img),Ve(),Ye("translated",!!e.img),Ve(),Xr(e.name)}}function bR(r,t){r&1&&(de(0,"a",2),Ge(1,"img",3),ue())}function yR(r,t){r&1&&Ge(0,"router-outlet")}var tm=class r{constructor(t,e,i,n,o,a,l){this.msalGuardConfig=t;this.authService=e;this.profileOAuthSvc=i;this.msalBroadcastService=n;this.breakpointObserver=o;this.profileSvc=a;this.router=l;this.title="Angular Standalone Sample - MSAL Angular";this.isIframe=!1;this.loginDisplay=!1;this.embeddableRoutes=["embed"];this.embedRoute="";this.isEmbedded=!1;this.isEmbeddableRoute=!1;this.isHome=!1;this.isSmallScreen=!1;this.currentRoute="";this.navItems=Kh.map(t=>oe(x({},t),{name:t.title})).filter(t=>t.name).sort((t,e)=>(t.order??0)-(e.order??0));this.visibleNavs=this.navItems.filter(t=>t.title=="Home");this._destroying$=new Me;let d=new URLSearchParams(window.location.search);d&&d.get("embed")&&(this.isEmbedded=!0)}mapRoutes(){let e=(this.profile?.idTokenClaims||{})?.groups||[];this.visibleNavs=(this.navItems||[]).filter(i=>!i.hidden&&(!i.permissions||i.permissions.length==0||i.permissions.some(n=>e.includes(n))))}ngOnInit(){this.authService.handleRedirectObservable().subscribe(t=>{this.loginDisplay||this.setLoginDisplay(),this.checkAndSetActiveAccount(),this.getLoggedInUser()}),this.isIframe=window!==window.parent&&!window.opener,this.authService.instance.enableAccountStorageEvents(),this.msalBroadcastService.msalSubject$.pipe(dt(t=>t.eventType===ne.ACCOUNT_ADDED||t.eventType===ne.ACCOUNT_REMOVED)).subscribe(t=>{this.authService.instance.getAllAccounts().length===0?window.location.pathname="/":this.setLoginDisplay()}),this.msalBroadcastService.inProgress$.pipe(dt(t=>t===et.None),ai(this._destroying$)).subscribe(()=>{this.loginDisplay||this.setLoginDisplay(),this.checkAndSetActiveAccount(),this.getLoggedInUser()}),this.breakpointObserver.observe([Fc.XSmall,Fc.Small]).subscribe(t=>{this.isSmallScreen=t.matches}),this.router.events.pipe(dt(t=>t instanceof Zt)).subscribe(t=>{let e=t;this.currentRoute=e.url||"",this.currentRoute.charAt(0)=="/"&&(this.currentRoute=this.currentRoute.substring(1)),this.embedRoute=this.embeddableRoutes.find(o=>e.url.indexOf(`/${o}`)>=0),this.isEmbedded||(this.isEmbeddableRoute=!!this.embedRoute);let i=this.currentRoute.split("/"),n=i[i.length-1];this.isHome=n=="home"||n==""||n=="/"})}setLoginDisplay(){this.loginDisplay=this.authService.instance.getAllAccounts().length>0}checkAndSetActiveAccount(){if(!this.authService.instance.getActiveAccount()&&this.authService.instance.getAllAccounts().length>0){let e=this.authService.instance.getAllAccounts();this.authService.instance.setActiveAccount(e[0])}}getLoggedInUser(){this.profile||this.profileOAuthSvc.getProfile().subscribe(t=>{this.profile=t,this.mapRoutes()})}loginRedirect(){this.msalGuardConfig.authRequest?this.authService.loginRedirect(oe(x({},this.msalGuardConfig.authRequest),{redirectUri:"/azuread"})):this.authService.loginRedirect()}loginPopup(){this.msalGuardConfig.authRequest?this.authService.loginPopup(x({},this.msalGuardConfig.authRequest)).subscribe(t=>{this.authService.instance.setActiveAccount(t.account)}):this.authService.loginPopup().subscribe(t=>{this.authService.instance.setActiveAccount(t.account)})}logout(t){t?this.authService.logoutPopup({mainWindowRedirectUri:"/azuread"}):this.authService.logoutRedirect()}ngOnDestroy(){this._destroying$.next(void 0),this._destroying$.complete()}static{this.\u0275fac=function(e){return new(e||r)(Y(Os),Y(Gt),Y(Vn),Y(Nn),Y(Sa),Y(Qo),Y(pi))}}static{this.\u0275cmp=_e({type:r,selectors:[["app-root"]],decls:11,vars:15,consts:[[1,"main-container"],[1,"topbar"],["routerLink","/",1,"logo","left"],["src","img/logo.png","alt","logo"],["id","logged-user",4,"ngIf"],[3,"routerLink","active",4,"ngFor","ngForOf"],[1,"main-content"],["routerLink","/","class","logo left",4,"ngIf"],[1,"container"],["id","logged-user"],[3,"routerLink"],[4,"ngIf"],[3,"src",4,"ngIf"],[1,"nav-text"],[3,"src"]],template:function(e,i){e&1&&(de(0,"div",0)(1,"header",1)(2,"a",2),Ge(3,"img",3),ue(),bt(4,pR,3,1,"div",4),de(5,"nav"),bt(6,vR,5,10,"a",5),ue()(),de(7,"div",6),bt(8,bR,2,0,"a",7),de(9,"div",8),bt(10,yR,1,0,"router-outlet"),ue()()()),e&2&&(Ye("file-upload",i.embedRoute&&i.embedRoute=="fileupload")("no-background",!i.isHome),Ve(),Ye("hidden",i.isEmbedded||i.isEmbeddableRoute),Ve(3),yt("ngIf",!!i.profile&&i.profile.name),Ve(2),yt("ngForOf",i.visibleNavs),Ve(2),yt("ngIf",i.isEmbeddableRoute&&!i.isEmbedded),Ve(),ci(gv(12,mR,i.isIframe&&i.isEmbedded,i.isEmbeddableRoute)),Ve(),Di(!i.isIframe||i.isEmbedded?10:-1))},dependencies:[rt,nn,ic,fw,Rc,Qi,em,un,Zh,pu,Vy,Xi,Uw],styles:[".toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}a.title[_ngcontent-%COMP%]{color:#fff}.main-container[_ngcontent-%COMP%]{height:100%;padding-top:45px;box-sizing:border-box;background:url(/azuread/img/background.jpg);background-size:cover;background-position:right top 75px;background-repeat:no-repeat}.main-container.no-background[_ngcontent-%COMP%]{background:#fff}header[_ngcontent-%COMP%]{position:fixed;width:100%;height:40px;top:0;z-index:1000000;background-color:#3f4244}nav[_ngcontent-%COMP%]{padding-left:10px;display:flex}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding-top:4px;padding-right:4px;padding-bottom:6px;margin-left:10px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:brightness(0) invert(1);width:23px;height:22px;top:4px;position:relative}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#fab40d;color:#3f4244}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:4px;color:#3f4244}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}nav[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:4px;color:#fff}nav[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:inline-block;padding-left:2px}nav[_ngcontent-%COMP%]   .nav-text.translated[_ngcontent-%COMP%]{position:relative;top:2px}.logo[_ngcontent-%COMP%]{position:relative;float:left}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:28px;margin-top:6px;margin-left:2px;width:auto;object-fit:scale-down}.topbar.hidden[_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:5px;position:absolute;inset:45px 0 0}.container.embedded[_ngcontent-%COMP%]{padding-top:0;top:0}.container.embeddedable[_ngcontent-%COMP%]     .file-upload-container{position:relative;left:60px;top:0}#logged-user[_ngcontent-%COMP%]{float:right;text-align:left;font-weight:500;color:#fff;display:flex;align-items:center}#logged-user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px;line-height:34px}@media (max-width: 740px){nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{display:none}}@media (max-width: 530px){header[_ngcontent-%COMP%]   #logged-user[_ngcontent-%COMP%]{position:relative;top:38px;color:#000}}@media (max-width: 400px){header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:7px}}"]})}};mt.production&&void 0;km(tm,Bw).catch(r=>console.error(r));
